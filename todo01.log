[I 180821 13:38:30 web:2162] 302 GET / (::1) 5.48ms
[I 180821 13:38:30 web:2162] 200 GET /login?next=%2F (::1) 13.71ms
[I 180821 13:38:30 web:2162] 200 GET /static/adminlte/bower_components/bootstrap/dist/js/bootstrap.min.js?v=04c84852e9937b142ac73c285b895b85 (::1) 14.77ms
[I 180821 13:38:30 web:2162] 200 GET /static/adminlte/bower_components/font-awesome/css/font-awesome.min.css?v=a0e784c4ca94c271b0338dfb02055be6 (::1) 7.97ms
[I 180821 13:38:30 web:2162] 200 GET /static/adminlte/dist/css/skins/_all-skins.min.css?v=4e7f7de25ef272107d5a99f18a885876 (::1) 5.51ms
[I 180821 13:38:30 web:2162] 200 GET /static/adminlte/bower_components/bootstrap/dist/css/bootstrap.min.css?v=5057f321f0dc85cd8da94a0c5f67a8f4 (::1) 11.06ms
[I 180821 13:38:30 web:2162] 200 GET /static/adminlte/dist/css/AdminLTE.min.css?v=a3b407c735c66a5d9711de9a392f13c8 (::1) 10.22ms
[I 180821 13:38:30 web:2162] 200 GET /static/adminlte/bower_components/jquery/dist/jquery.min.js?v=378087a64e1394fc51f300bb9c11878c (::1) 7.48ms
[I 180821 13:38:30 web:2162] 200 GET /static/adminlte/dist/js/adminlte.min.js?v=89df5d864fcaf07f9d7ce74796398477 (::1) 5.59ms
[I 180821 13:38:30 web:2162] 200 GET /static/adminlte/plugins/iCheck/icheck.min.js?v=007b8ef03ba6181bde0952442d46dbcb (::1) 3.90ms
[I 180821 13:38:30 web:2162] 200 GET /static/js/index.js?v=c01960cfe8b56b0a70e907bbe835f964 (::1) 3.02ms
[I 180821 13:38:30 web:2162] 200 GET /static/adminlte/bower_components/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2 (::1) 0.96ms
[I 180821 13:38:30 web:2162] 200 GET /favicon.ico (::1) 1.82ms
[I 180821 13:38:37 web:2162] 200 GET /login?next=%2F (127.0.0.1) 12.71ms
[I 180821 13:40:47 web:2162] 304 GET /login?next=%2Fmessage%2Fmessage (::1) 10.18ms
[I 180821 13:40:47 web:2162] 200 GET /favicon.ico (::1) 4.71ms
[I 180821 13:40:49 web:2162] 304 GET /login?next=%2F (::1) 8.89ms
[I 180821 13:40:50 web:2162] 200 GET /favicon.ico (::1) 11.41ms
[I 180821 13:40:54 web:2162] 200 GET /login?next=%2F (127.0.0.1) 8.35ms
[I 180821 13:40:54 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.76ms
2018-08-21 13:45:33,094 INFO Increased RLIMIT_NOFILE limit to 1024
[I 180821 13:53:05 web:2162] 304 GET /login?next=%2F (127.0.0.1) 19.85ms
[I 180821 13:53:05 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.39ms
[I 180821 13:55:03 web:2162] 200 POST /login?next=%2F (127.0.0.1) 0.72ms
[I 180821 14:03:53 web:2162] 200 GET /login?next=%2F (127.0.0.1) 14.62ms
[I 180821 14:03:56 web:2162] 302 POST /login?next=%2F (127.0.0.1) 34.21ms
[I 180821 14:03:56 web:2162] 200 GET / (127.0.0.1) 31.84ms
[I 180821 14:04:23 web:2162] 200 GET /message/message (127.0.0.1) 7.30ms
[W 180821 14:04:23 web:2162] 400 GET /ws (127.0.0.1) 0.82ms
[I 180821 14:19:42 web:2162] 304 GET /message/message (127.0.0.1) 7.67ms
[W 180821 14:19:42 web:2162] 400 GET /ws (127.0.0.1) 0.71ms
[I 180821 14:19:42 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.04ms
[I 180821 14:19:44 web:2162] 304 GET /message/message (127.0.0.1) 7.21ms
[W 180821 14:19:44 web:2162] 400 GET /ws (127.0.0.1) 0.94ms
[I 180821 14:19:44 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.69ms
[I 180821 14:19:46 web:2162] 304 GET /message/message (127.0.0.1) 5.83ms
[W 180821 14:19:46 web:2162] 400 GET /ws (127.0.0.1) 0.56ms
[I 180821 14:19:46 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.89ms
[I 180821 14:20:40 web:2162] 304 GET /message/message (127.0.0.1) 8.13ms
[W 180821 14:20:40 web:2162] 400 GET /ws (127.0.0.1) 0.65ms
[I 180821 14:21:29 web:2162] 200 GET /message/message (127.0.0.1) 6.19ms
[W 180821 14:21:29 web:2162] 403 GET /ws (127.0.0.1) 0.82ms
[I 180821 14:21:30 web:2162] 200 GET /message/message (127.0.0.1) 7.32ms
[W 180821 14:21:30 web:2162] 403 GET /ws (127.0.0.1) 0.67ms
[I 180821 14:21:33 web:2162] 304 GET /message/message (127.0.0.1) 6.64ms
[W 180821 14:21:33 web:2162] 403 GET /ws (127.0.0.1) 0.69ms
[I 180821 14:22:19 web:2162] 200 GET /message/message (127.0.0.1) 7.45ms
[W 180821 14:22:19 web:2162] 400 GET /ws (127.0.0.1) 0.78ms
[I 180821 14:22:20 web:2162] 200 GET /message/message (127.0.0.1) 5.49ms
[W 180821 14:22:20 web:2162] 400 GET /ws (127.0.0.1) 2.17ms
[I 180821 14:22:55 web:2162] 200 GET /message/message (127.0.0.1) 8.09ms
[W 180821 14:22:55 web:2162] 403 GET /ws (::1) 0.96ms
[I 180821 14:22:56 web:2162] 200 GET /message/message (127.0.0.1) 6.54ms
[W 180821 14:22:57 web:2162] 403 GET /ws (::1) 0.69ms
[I 180821 14:22:57 web:2162] 200 GET /message/message (127.0.0.1) 6.85ms
[W 180821 14:22:58 web:2162] 403 GET /ws (::1) 1.13ms
[I 180821 14:23:01 web:2162] 200 GET /message/message (127.0.0.1) 7.38ms
[W 180821 14:23:02 web:2162] 400 GET /ws (127.0.0.1) 0.64ms
[I 180821 14:23:39 web:2162] 200 GET /message/message (::1) 6.21ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/useravatars/defaut_avatar.jpeg (::1) 1.43ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face.gif (::1) 1.29ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/2.png (::1) 1.37ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/3.png (::1) 1.28ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/4.png (::1) 1.11ms
[I 180821 14:23:39 web:2162] 304 GET /static/js/jquery.backstretch.min.js (::1) 3.68ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/1.png (::1) 1.08ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/8.png (::1) 1.23ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/5.png (::1) 0.98ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/6.png (::1) 1.09ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/7.png (::1) 1.19ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/9.png (::1) 1.24ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/10.png (::1) 1.31ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/11.png (::1) 1.21ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/12.png (::1) 1.27ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/13.png (::1) 1.57ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/14.png (::1) 1.22ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/15.png (::1) 1.28ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/angrya_thumb.gif (::1) 1.34ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/88_thumb.gif (::1) 1.73ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/arrow.png (::1) 2.93ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/bba_thumb.gif (::1) 4.09ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/bs_thumb.gif (::1) 2.60ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/bs2_thumb.gif (::1) 1.28ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/cool_thumb.gif (::1) 1.24ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/cza_thumb.gif (::1) 0.82ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/dizzya_thumb.gif (::1) 1.08ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/crazya_thumb.gif (::1) 1.18ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/cry.gif (::1) 1.03ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/bz_thumb.gif (::1) 1.41ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/gza_thumb.gif (::1) 7.81ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/h_thumb.gif (::1) 2.20ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/hatea_thumb.gif (::1) 2.79ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/heia_thumb.gif (::1) 6.09ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/cj_thumb.gif (::1) 1.09ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/hufen_thumb.gif (::1) 1.09ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/k_thumb.gif (::1) 1.21ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/kbsa_thumb.gif (::1) 1.37ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/kl_thumb.gif (::1) 1.58ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/ldln_thumb.gif (::1) 1.02ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/lovea_thumb.gif (::1) 0.84ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/mb_thumb.gif (::1) 1.71ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/money_thumb.gif (::1) 1.26ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/hsa_thumb.gif (::1) 1.14ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/nm_thumb.gif (::1) 2.15ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/qq_thumb.gif (::1) 4.21ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/sk_thumb.gif (::1) 1.43ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/shamea_thumb.gif (::1) 7.44ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/sb_thumb.gif (::1) 1.54ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/laugh.gif (::1) 1.06ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/sada_thumb.gif (::1) 1.10ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/sleepya_thumb.gif (::1) 3.71ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/sleepa_thumb.gif (::1) 1.61ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/smilea_thumb.gif (::1) 1.31ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/t_thumb.gif (::1) 1.06ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/sw_thumb.gif (::1) 1.50ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/sweata_thumb.gif (::1) 1.74ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/tootha_thumb.gif (::1) 3.18ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/tza_thumb.gif (::1) 1.19ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/wq_thumb.gif (::1) 1.32ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/x_thumb.gif (::1) 1.11ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/yhh_thumb.gif (::1) 1.27ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/zhh_thumb.gif (::1) 2.32ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/yw_thumb.gif (::1) 0.89ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/yx_thumb.gif (::1) 1.37ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/good_thumb.gif (::1) 1.50ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/zy_thumb.gif (::1) 1.07ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/z2_thumb.gif (::1) 1.06ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/come_thumb.gif (::1) 2.04ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/sad_thumb.gif (::1) 1.78ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/no_thumb.gif (::1) 1.27ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/ok_thumb.gif (::1) 1.24ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/unheart.gif (::1) 1.30ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/ye_thumb.gif (::1) 1.69ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/hearta_thumb.gif (::1) 1.44ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/boboshengmenqi_thumb.gif (::1) 0.72ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/bofubianlian_thumb.gif (::1) 1.30ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/cake.gif (::1) 1.10ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/camera_thumb.gif (::1) 1.24ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/cat_yunqizhong_thumb.gif (::1) 1.61ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/cf_thumb.gif (::1) 2.70ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/chn_buyaoya_thumb.gif (::1) 1.37ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/clock_thumb.gif (::1) 0.86ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/daxiongleibenxiong_thumb.gif (::1) 1.33ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/fuyun_thumb.gif (::1) 1.20ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/geili_thumb.gif (::1) 0.95ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/horse2_thumb.gif (::1) 2.35ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/j_thumb.gif (::1) 1.23ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/lazu_thumb.gif (::1) 2.02ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/lxhluguo_thumb.gif (::1) 1.47ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/liwu_thumb.gif (::1) 1.04ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/lxhzhuanfa_thumb.gif (::1) 2.39ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/m_thumb.gif (::1) 1.23ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/otm_thumb.gif (::1) 1.34ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/panda_thumb.gif (::1) 1.13ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/vw_thumb.gif (::1) 1.01ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/rabbit_thumb.gif (::1) 1.73ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/pig.gif (::1) 2.02ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/weijin_thumb.gif (::1) 1.46ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/youqian_thumb.gif (::1) 0.80ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/wg_thumb.gif (::1) 1.25ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/zz2_thumb.gif (::1) 1.47ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/face/gbzkun_thumb.gif (::1) 1.75ms
[I 180821 14:23:39 web:2162] 304 GET /static/images/body_bg.jpg (::1) 2.98ms
[I 180821 14:23:39 web:2162] 101 GET /ws (::1) 1.75ms
[I 180821 14:23:39 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10879ef60>
[I 180821 14:23:48 web:2162] 304 GET /message/message (127.0.0.1) 5.41ms
[I 180821 14:23:48 ws_handler:73] end connection
[W 180821 14:23:48 web:2162] 400 GET /ws (127.0.0.1) 0.81ms
[I 180821 14:24:16 web:2162] 302 GET / (::1) 2.06ms
[I 180821 14:24:16 web:2162] 200 GET /login?next=%2F (::1) 10.14ms
[I 180821 14:24:16 web:2162] 200 GET /static/adminlte/bower_components/bootstrap/dist/js/bootstrap.min.js?v=04c84852e9937b142ac73c285b895b85 (::1) 10.14ms
[I 180821 14:24:16 web:2162] 200 GET /static/adminlte/bower_components/bootstrap/dist/css/bootstrap.min.css?v=5057f321f0dc85cd8da94a0c5f67a8f4 (::1) 14.99ms
[I 180821 14:24:16 web:2162] 200 GET /static/adminlte/bower_components/font-awesome/css/font-awesome.min.css?v=a0e784c4ca94c271b0338dfb02055be6 (::1) 8.87ms
[I 180821 14:24:16 web:2162] 200 GET /static/adminlte/dist/css/skins/_all-skins.min.css?v=4e7f7de25ef272107d5a99f18a885876 (::1) 5.17ms
[I 180821 14:24:16 web:2162] 200 GET /static/adminlte/dist/css/AdminLTE.min.css?v=a3b407c735c66a5d9711de9a392f13c8 (::1) 10.34ms
[I 180821 14:24:16 web:2162] 200 GET /static/adminlte/bower_components/jquery/dist/jquery.min.js?v=378087a64e1394fc51f300bb9c11878c (::1) 8.30ms
[I 180821 14:24:16 web:2162] 200 GET /static/adminlte/dist/js/adminlte.min.js?v=89df5d864fcaf07f9d7ce74796398477 (::1) 7.36ms
[I 180821 14:24:16 web:2162] 200 GET /static/adminlte/plugins/iCheck/icheck.min.js?v=007b8ef03ba6181bde0952442d46dbcb (::1) 6.09ms
[I 180821 14:24:16 web:2162] 200 GET /static/js/index.js?v=c01960cfe8b56b0a70e907bbe835f964 (::1) 5.34ms
[I 180821 14:24:16 web:2162] 200 GET /static/adminlte/bower_components/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2 (::1) 2.42ms
[I 180821 14:24:16 web:2162] 200 GET /favicon.ico (::1) 1.54ms
[I 180821 14:24:24 web:2162] 302 POST /login?next=%2F (::1) 4.35ms
[I 180821 14:24:24 web:2162] 200 GET / (::1) 12.94ms
[I 180821 14:24:26 web:2162] 200 GET /message/message (::1) 6.39ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face.gif (::1) 3.53ms
[I 180821 14:24:26 web:2162] 200 GET /static/css/animate.css?v=bed7ad760e96fc0477fb24f8c7955796 (::1) 8.81ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/useravatars/defaut_avatar.jpeg (::1) 6.65ms
[I 180821 14:24:26 web:2162] 200 GET /static/js/jquery.backstretch.min.js (::1) 1.97ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/1.png (::1) 4.40ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/2.png (::1) 2.88ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/3.png (::1) 1.60ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/4.png (::1) 8.81ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/5.png (::1) 9.11ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/6.png (::1) 7.84ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/7.png (::1) 6.97ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/8.png (::1) 6.04ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/9.png (::1) 6.81ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/10.png (::1) 11.39ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/11.png (::1) 11.31ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/12.png (::1) 9.39ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/13.png (::1) 6.80ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/14.png (::1) 5.55ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/15.png (::1) 4.46ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/angrya_thumb.gif (::1) 10.11ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/88_thumb.gif (::1) 10.34ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/bba_thumb.gif (::1) 8.55ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/bs_thumb.gif (::1) 6.39ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/bs2_thumb.gif (::1) 4.74ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/bz_thumb.gif (::1) 4.41ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/arrow.png (::1) 9.28ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/come_thumb.gif (::1) 10.79ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/cool_thumb.gif (::1) 9.83ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/cj_thumb.gif (::1) 8.73ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/crazya_thumb.gif (::1) 6.21ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/cry.gif (::1) 6.60ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/cza_thumb.gif (::1) 36.51ms
[I 180821 14:24:26 web:2162] 101 GET /ws (::1) 1.29ms
[I 180821 14:24:26 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x108897940>
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/heia_thumb.gif (::1) 67.04ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/hatea_thumb.gif (::1) 57.02ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/gza_thumb.gif (::1) 52.78ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/dizzya_thumb.gif (::1) 40.63ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/h_thumb.gif (::1) 46.35ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/hsa_thumb.gif (::1) 14.36ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/hufen_thumb.gif (::1) 17.71ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/k_thumb.gif (::1) 16.81ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/kbsa_thumb.gif (::1) 16.00ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/kl_thumb.gif (::1) 15.64ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/laugh.gif (::1) 16.88ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/ldln_thumb.gif (::1) 12.91ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/lovea_thumb.gif (::1) 8.76ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/mb_thumb.gif (::1) 7.90ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/money_thumb.gif (::1) 6.74ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/nm_thumb.gif (::1) 7.53ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/qq_thumb.gif (::1) 9.36ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/sada_thumb.gif (::1) 9.77ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/sb_thumb.gif (::1) 12.05ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/shamea_thumb.gif (::1) 11.00ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/sk_thumb.gif (::1) 9.48ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/sleepa_thumb.gif (::1) 8.24ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/sleepya_thumb.gif (::1) 8.20ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/smilea_thumb.gif (::1) 8.84ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/sw_thumb.gif (::1) 13.38ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/sweata_thumb.gif (::1) 12.52ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/t_thumb.gif (::1) 10.89ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/tootha_thumb.gif (::1) 9.56ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/tza_thumb.gif (::1) 8.40ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/wq_thumb.gif (::1) 8.64ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/x_thumb.gif (::1) 12.83ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/yhh_thumb.gif (::1) 12.18ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/zhh_thumb.gif (::1) 10.76ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/yw_thumb.gif (::1) 9.34ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/yx_thumb.gif (::1) 8.40ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/zy_thumb.gif (::1) 8.64ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/good_thumb.gif (::1) 14.71ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/z2_thumb.gif (::1) 13.83ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/sad_thumb.gif (::1) 12.16ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/no_thumb.gif (::1) 10.77ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/ok_thumb.gif (::1) 9.91ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/ye_thumb.gif (::1) 12.30ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/hearta_thumb.gif (::1) 13.72ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/unheart.gif (::1) 12.67ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/boboshengmenqi_thumb.gif (::1) 11.02ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/bofubianlian_thumb.gif (::1) 8.74ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/cake.gif (::1) 5.39ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/camera_thumb.gif (::1) 11.85ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/cat_yunqizhong_thumb.gif (::1) 13.09ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/cf_thumb.gif (::1) 12.20ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/chn_buyaoya_thumb.gif (::1) 10.67ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/clock_thumb.gif (::1) 8.89ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/daxiongleibenxiong_thumb.gif (::1) 4.45ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/fuyun_thumb.gif (::1) 11.03ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/geili_thumb.gif (::1) 12.79ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/horse2_thumb.gif (::1) 11.67ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/j_thumb.gif (::1) 9.91ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/lazu_thumb.gif (::1) 8.95ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/liwu_thumb.gif (::1) 5.85ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/lxhluguo_thumb.gif (::1) 15.84ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/lxhzhuanfa_thumb.gif (::1) 15.94ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/m_thumb.gif (::1) 15.04ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/otm_thumb.gif (::1) 12.38ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/panda_thumb.gif (::1) 9.35ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/pig.gif (::1) 3.98ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/rabbit_thumb.gif (::1) 11.89ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/vw_thumb.gif (::1) 12.25ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/weijin_thumb.gif (::1) 11.26ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/wg_thumb.gif (::1) 7.76ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/youqian_thumb.gif (::1) 5.24ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/zz2_thumb.gif (::1) 4.38ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/face/gbzkun_thumb.gif (::1) 4.41ms
[I 180821 14:24:26 web:2162] 200 GET /static/images/body_bg.jpg (::1) 4.93ms
[I 180821 14:28:43 web:2162] 200 GET /message/message (127.0.0.1) 6.16ms
[W 180821 14:28:43 web:2162] 400 GET /ws (127.0.0.1) 1.18ms
[I 180821 14:29:38 web:2162] 200 GET /message/message (127.0.0.1) 6.43ms
[I 180821 14:29:39 web:2162] 200 GET /message/message (127.0.0.1) 9.61ms
[I 180821 14:29:40 web:2162] 200 GET /message/message (127.0.0.1) 6.41ms
[I 180821 14:29:49 web:2162] 200 GET /message/message (127.0.0.1) 7.01ms
[I 180821 14:30:34 web:2162] 200 GET /message/message (127.0.0.1) 6.40ms
[I 180821 14:30:34 web:2162] 101 GET /ws (127.0.0.1) 1.32ms
[I 180821 14:30:34 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1088af320>
[I 180821 14:30:35 web:2162] 200 GET /message/message (127.0.0.1) 5.80ms
[I 180821 14:30:35 ws_handler:73] end connection
[I 180821 14:30:35 web:2162] 101 GET /ws (127.0.0.1) 1.22ms
[I 180821 14:30:35 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1023f60b8>
[I 180821 14:30:38 web:2162] 200 GET /message/message (127.0.0.1) 6.73ms
[I 180821 14:30:38 ws_handler:73] end connection
[I 180821 14:30:38 web:2162] 101 GET /ws (127.0.0.1) 1.06ms
[I 180821 14:30:38 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1088a6668>
[I 180821 14:30:56 web:2162] 200 GET /message/message (127.0.0.1) 6.17ms
[I 180821 14:30:56 ws_handler:73] end connection
[I 180821 14:30:56 web:2162] 101 GET /ws (127.0.0.1) 0.81ms
[I 180821 14:30:56 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1088a6748>
[I 180821 14:31:56 ws_handler:73] end connection
[I 180821 14:33:26 web:2162] 200 GET /message/message (127.0.0.1) 6.31ms
[I 180821 14:33:26 web:2162] 101 GET /ws (127.0.0.1) 1.01ms
[I 180821 14:33:26 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1088a3a90>
[I 180821 14:33:36 web:2162] 200 GET /message/message (::1) 11.06ms
[I 180821 14:33:37 web:2162] 101 GET /ws (::1) 1.08ms
[I 180821 14:33:37 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10888eb00>
[I 180821 14:33:47 ws_handler:73] end connection
[I 180821 14:33:52 web:2162] 200 GET /message/message (::1) 6.24ms
[I 180821 14:33:52 web:2162] 200 GET /static/css/animate.css?v=bed7ad760e96fc0477fb24f8c7955796 (::1) 4.99ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/useravatars/defaut_avatar.jpeg (::1) 14.51ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face.gif (::1) 2.20ms
[I 180821 14:33:52 web:2162] 200 GET /static/js/jquery.backstretch.min.js (::1) 9.35ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/1.png (::1) 8.72ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/2.png (::1) 9.92ms
[I 180821 14:33:52 web:2162] 200 GET /static/adminlte/bower_components/jquery/dist/jquery.min.js?v=378087a64e1394fc51f300bb9c11878c (::1) 16.35ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/3.png (::1) 8.58ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/4.png (::1) 7.35ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/arrow.png (::1) 1.87ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/come_thumb.gif (::1) 5.50ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/5.png (::1) 2.25ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/6.png (::1) 1.83ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/7.png (::1) 1.68ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/8.png (::1) 1.61ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/9.png (::1) 5.05ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/10.png (::1) 3.25ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/11.png (::1) 9.29ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/12.png (::1) 8.35ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/13.png (::1) 3.84ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/14.png (::1) 5.67ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/15.png (::1) 3.34ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/angrya_thumb.gif (::1) 2.20ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/88_thumb.gif (::1) 2.44ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/bba_thumb.gif (::1) 6.34ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/bs_thumb.gif (::1) 8.10ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/bs2_thumb.gif (::1) 6.63ms
[I 180821 14:33:52 web:2162] 101 GET /ws (::1) 0.69ms
[I 180821 14:33:52 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10239aa20>
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/bz_thumb.gif (::1) 19.47ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/cj_thumb.gif (::1) 18.34ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/crazya_thumb.gif (::1) 11.73ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/cza_thumb.gif (::1) 10.26ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/cry.gif (::1) 11.37ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/cool_thumb.gif (::1) 10.00ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/dizzya_thumb.gif (::1) 13.24ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/gza_thumb.gif (::1) 11.59ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/h_thumb.gif (::1) 12.71ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/hatea_thumb.gif (::1) 10.15ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/heia_thumb.gif (::1) 12.32ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/hsa_thumb.gif (::1) 10.10ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/hufen_thumb.gif (::1) 9.90ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/k_thumb.gif (::1) 7.87ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/kbsa_thumb.gif (::1) 11.73ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/kl_thumb.gif (::1) 10.28ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/laugh.gif (::1) 11.33ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/ldln_thumb.gif (::1) 8.97ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/lovea_thumb.gif (::1) 8.85ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/mb_thumb.gif (::1) 7.41ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/money_thumb.gif (::1) 10.66ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/nm_thumb.gif (::1) 9.40ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/qq_thumb.gif (::1) 9.47ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/sada_thumb.gif (::1) 7.83ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/sb_thumb.gif (::1) 7.54ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/shamea_thumb.gif (::1) 6.81ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/sk_thumb.gif (::1) 10.21ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/sleepa_thumb.gif (::1) 10.19ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/sleepya_thumb.gif (::1) 12.47ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/smilea_thumb.gif (::1) 10.34ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/sw_thumb.gif (::1) 6.71ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/sweata_thumb.gif (::1) 4.03ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/t_thumb.gif (::1) 8.89ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/tootha_thumb.gif (::1) 8.23ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/tza_thumb.gif (::1) 6.92ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/wq_thumb.gif (::1) 6.16ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/x_thumb.gif (::1) 5.28ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/yhh_thumb.gif (::1) 4.39ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/zhh_thumb.gif (::1) 14.89ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/yw_thumb.gif (::1) 13.27ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/yx_thumb.gif (::1) 11.57ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/z2_thumb.gif (::1) 9.50ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/good_thumb.gif (::1) 7.05ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/zy_thumb.gif (::1) 5.85ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/sad_thumb.gif (::1) 7.27ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/no_thumb.gif (::1) 8.13ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/ok_thumb.gif (::1) 6.45ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/ye_thumb.gif (::1) 10.00ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/hearta_thumb.gif (::1) 8.88ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/boboshengmenqi_thumb.gif (::1) 10.13ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/cake.gif (::1) 8.11ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/unheart.gif (::1) 7.21ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/bofubianlian_thumb.gif (::1) 5.37ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/camera_thumb.gif (::1) 9.13ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/cat_yunqizhong_thumb.gif (::1) 12.36ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/clock_thumb.gif (::1) 10.09ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/cf_thumb.gif (::1) 7.83ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/chn_buyaoya_thumb.gif (::1) 5.85ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/fuyun_thumb.gif (::1) 4.86ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/daxiongleibenxiong_thumb.gif (::1) 8.84ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/geili_thumb.gif (::1) 13.06ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/horse2_thumb.gif (::1) 11.20ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/j_thumb.gif (::1) 8.21ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/lazu_thumb.gif (::1) 6.36ms
[I 180821 14:33:52 web:2162] 200 GET /static/images/face/liwu_thumb.gif (::1) 4.73ms
[I 180821 14:33:53 web:2162] 200 GET /static/images/face/lxhluguo_thumb.gif (::1) 8.63ms
[I 180821 14:33:53 web:2162] 200 GET /static/images/face/lxhzhuanfa_thumb.gif (::1) 13.81ms
[I 180821 14:33:53 web:2162] 200 GET /static/images/face/m_thumb.gif (::1) 11.82ms
[I 180821 14:33:53 web:2162] 200 GET /static/images/face/otm_thumb.gif (::1) 11.74ms
[I 180821 14:33:53 web:2162] 200 GET /static/images/face/panda_thumb.gif (::1) 9.12ms
[I 180821 14:33:53 web:2162] 200 GET /static/images/face/pig.gif (::1) 7.63ms
[I 180821 14:33:53 web:2162] 200 GET /static/images/face/rabbit_thumb.gif (::1) 10.74ms
[I 180821 14:33:53 web:2162] 200 GET /static/images/face/vw_thumb.gif (::1) 10.52ms
[I 180821 14:33:53 web:2162] 200 GET /static/images/face/wg_thumb.gif (::1) 7.67ms
[I 180821 14:33:53 web:2162] 200 GET /static/images/face/weijin_thumb.gif (::1) 9.91ms
[I 180821 14:33:53 web:2162] 200 GET /static/images/face/zz2_thumb.gif (::1) 9.10ms
[I 180821 14:33:53 web:2162] 200 GET /static/images/face/youqian_thumb.gif (::1) 7.73ms
[I 180821 14:33:53 web:2162] 200 GET /static/images/face/gbzkun_thumb.gif (::1) 4.23ms
[I 180821 14:33:53 web:2162] 200 GET /static/images/body_bg.jpg (::1) 10.02ms
[I 180821 14:33:53 web:2162] 200 GET /favicon.ico (::1) 1.08ms
[I 180821 14:34:08 web:2162] 200 GET / (::1) 11.85ms
[I 180821 14:34:08 ws_handler:73] end connection
[I 180821 14:34:08 web:2162] 200 GET /static/adminlte/bower_components/bootstrap/dist/css/bootstrap.min.css?v=5057f321f0dc85cd8da94a0c5f67a8f4 (::1) 10.37ms
[I 180821 14:34:08 web:2162] 200 GET /static/adminlte/bower_components/font-awesome/css/font-awesome.min.css?v=a0e784c4ca94c271b0338dfb02055be6 (::1) 17.69ms
[I 180821 14:34:08 web:2162] 200 GET /static/adminlte/dist/css/skins/_all-skins.min.css?v=4e7f7de25ef272107d5a99f18a885876 (::1) 10.59ms
[I 180821 14:34:08 web:2162] 200 GET /static/adminlte/bower_components/bootstrap/dist/js/bootstrap.min.js?v=04c84852e9937b142ac73c285b895b85 (::1) 8.66ms
[I 180821 14:34:08 web:2162] 200 GET /static/adminlte/dist/js/adminlte.min.js?v=89df5d864fcaf07f9d7ce74796398477 (::1) 5.61ms
[I 180821 14:34:08 web:2162] 200 GET /static/adminlte/dist/css/AdminLTE.min.css?v=a3b407c735c66a5d9711de9a392f13c8 (::1) 15.70ms
[I 180821 14:34:08 web:2162] 200 GET /static/adminlte/plugins/iCheck/icheck.min.js?v=007b8ef03ba6181bde0952442d46dbcb (::1) 5.43ms
[I 180821 14:34:08 web:2162] 200 GET /static/js/index.js?v=c01960cfe8b56b0a70e907bbe835f964 (::1) 4.45ms
[I 180821 14:34:15 web:2162] 302 GET /logout (::1) 3.86ms
[I 180821 14:34:15 web:2162] 200 GET /login (::1) 8.18ms
[I 180821 14:34:15 web:2162] 200 GET /static/adminlte/bower_components/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2 (::1) 1.24ms
[I 180821 14:34:18 web:2162] 200 GET /register (::1) 14.94ms
[I 180821 14:34:26 ws_handler:73] end connection
[I 180821 14:34:30 web:2162] 302 POST /register (::1) 8.71ms
[I 180821 14:34:30 web:2162] 304 GET /login (::1) 7.29ms
[I 180821 14:34:35 web:2162] 302 POST /login (::1) 5.62ms
[I 180821 14:34:35 web:2162] 200 GET / (::1) 11.06ms
[I 180821 14:34:38 web:2162] 200 GET /message/message (::1) 9.27ms
[I 180821 14:34:38 web:2162] 101 GET /ws (::1) 0.93ms
[I 180821 14:34:38 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1024afc50>
[I 180821 14:35:15 web:2162] 304 GET /message/message (127.0.0.1) 15.89ms
[I 180821 14:35:15 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.21ms
[I 180821 14:35:15 web:2162] 101 GET /ws (127.0.0.1) 0.88ms
[I 180821 14:35:15 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x102234358>
[I 180821 14:36:09 web:2162] 200 GET /message/message (::1) 7.96ms
[I 180821 14:36:09 ws_handler:73] end connection
[E 180821 14:36:09 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 74, in on_close
        self.users.pop(self.current_user.name)
    KeyError: 'comi'
[E 180821 14:36:09 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x108830158>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 74, in on_close
        self.users.pop(self.current_user.name)
    KeyError: 'comi'
[I 180821 14:36:09 web:2162] 101 GET /ws (::1) 0.89ms
[I 180821 14:36:09 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x108818cf8>
[E 180821 14:36:09 web:1670] Uncaught exception GET /ws (::1)
    HTTPServerRequest(protocol='http', host='localhost:9000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='::1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 57, in open
        self.users[self.current_user.name] = self
    AttributeError: 'NoneType' object has no attribute 'name'
[I 180821 14:36:09 ws_handler:73] end connection
[E 180821 14:36:09 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 74, in on_close
        self.users.pop(self.current_user.name)
    AttributeError: 'NoneType' object has no attribute 'name'
[E 180821 14:36:09 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10887cd08>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 74, in on_close
        self.users.pop(self.current_user.name)
    AttributeError: 'NoneType' object has no attribute 'name'
[I 180821 14:36:12 web:2162] 304 GET /message/message (::1) 8.02ms
[I 180821 14:36:12 web:2162] 101 GET /ws (::1) 1.01ms
[I 180821 14:36:12 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1088183c8>
[E 180821 14:36:12 web:1670] Uncaught exception GET /ws (::1)
    HTTPServerRequest(protocol='http', host='localhost:9000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='::1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 57, in open
        self.users[self.current_user.name] = self
    AttributeError: 'NoneType' object has no attribute 'name'
[I 180821 14:36:13 ws_handler:73] end connection
[E 180821 14:36:13 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 74, in on_close
        self.users.pop(self.current_user.name)
    AttributeError: 'NoneType' object has no attribute 'name'
[E 180821 14:36:13 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10881cc80>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 74, in on_close
        self.users.pop(self.current_user.name)
    AttributeError: 'NoneType' object has no attribute 'name'
[I 180821 14:36:16 web:2162] 200 GET /message/message (::1) 10.14ms
[I 180821 14:36:16 ws_handler:73] end connection
[I 180821 14:36:16 web:2162] 101 GET /ws (::1) 0.91ms
[I 180821 14:36:16 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1024ae2b0>
[I 180821 14:36:19 web:2162] 304 GET /message/message (::1) 5.57ms
[I 180821 14:36:19 web:2162] 101 GET /ws (::1) 1.87ms
[I 180821 14:36:19 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x108818b38>
[E 180821 14:36:19 web:1670] Uncaught exception GET /ws (::1)
    HTTPServerRequest(protocol='http', host='localhost:9000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='::1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 57, in open
        self.users[self.current_user.name] = self
    AttributeError: 'NoneType' object has no attribute 'name'
[I 180821 14:36:19 ws_handler:73] end connection
[E 180821 14:36:19 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 74, in on_close
        self.users.pop(self.current_user.name)
    AttributeError: 'NoneType' object has no attribute 'name'
[E 180821 14:36:19 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10887c8c8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 74, in on_close
        self.users.pop(self.current_user.name)
    AttributeError: 'NoneType' object has no attribute 'name'
[I 180821 14:36:25 web:2162] 200 GET /message/message (127.0.0.1) 6.13ms
[I 180821 14:36:25 ws_handler:73] end connection
[I 180821 14:36:26 web:2162] 101 GET /ws (127.0.0.1) 1.79ms
[I 180821 14:36:26 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1024aeb00>
[I 180821 14:36:26 web:2162] 200 GET /favicon.ico (127.0.0.1) 5.97ms
[I 180821 14:36:31 web:2162] 304 GET /message/message (::1) 6.58ms
[I 180821 14:36:31 web:2162] 101 GET /ws (::1) 0.99ms
[I 180821 14:36:31 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1088af390>
[E 180821 14:36:31 web:1670] Uncaught exception GET /ws (::1)
    HTTPServerRequest(protocol='http', host='localhost:9000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='::1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 57, in open
        self.users[self.current_user.name] = self
    AttributeError: 'NoneType' object has no attribute 'name'
[I 180821 14:36:31 ws_handler:73] end connection
[E 180821 14:36:31 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 74, in on_close
        self.users.pop(self.current_user.name)
    AttributeError: 'NoneType' object has no attribute 'name'
[E 180821 14:36:31 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10887cc80>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 74, in on_close
        self.users.pop(self.current_user.name)
    AttributeError: 'NoneType' object has no attribute 'name'
[I 180821 14:36:43 web:2162] 304 GET /message/message (::1) 8.42ms
[I 180821 14:36:44 web:2162] 101 GET /ws (::1) 0.97ms
[I 180821 14:36:44 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x108818eb8>
[E 180821 14:36:44 web:1670] Uncaught exception GET /ws (::1)
    HTTPServerRequest(protocol='http', host='localhost:9000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='::1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 57, in open
        self.users[self.current_user.name] = self
    AttributeError: 'NoneType' object has no attribute 'name'
[I 180821 14:36:44 ws_handler:73] end connection
[E 180821 14:36:44 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 74, in on_close
        self.users.pop(self.current_user.name)
    AttributeError: 'NoneType' object has no attribute 'name'
[E 180821 14:36:44 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x108830b70>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 74, in on_close
        self.users.pop(self.current_user.name)
    AttributeError: 'NoneType' object has no attribute 'name'
[I 180821 14:36:45 web:2162] 200 GET /message/message (::1) 9.03ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face.gif (::1) 4.95ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/useravatars/defaut_avatar.jpeg (::1) 11.91ms
[I 180821 14:36:45 web:2162] 200 GET /static/css/animate.css?v=bed7ad760e96fc0477fb24f8c7955796 (::1) 7.14ms
[I 180821 14:36:45 web:2162] 200 GET /static/adminlte/bower_components/jquery/dist/jquery.min.js?v=378087a64e1394fc51f300bb9c11878c (::1) 8.04ms
[I 180821 14:36:45 web:2162] 200 GET /static/js/jquery.backstretch.min.js (::1) 5.15ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/1.png (::1) 3.36ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/2.png (::1) 5.52ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/3.png (::1) 5.16ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/4.png (::1) 3.79ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/5.png (::1) 12.74ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/6.png (::1) 13.08ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/7.png (::1) 10.88ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/8.png (::1) 9.70ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/9.png (::1) 8.24ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/10.png (::1) 6.83ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/angrya_thumb.gif (::1) 15.60ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/13.png (::1) 14.47ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/11.png (::1) 12.54ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/12.png (::1) 9.12ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/15.png (::1) 5.92ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/14.png (::1) 3.84ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/88_thumb.gif (::1) 7.98ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/arrow.png (::1) 5.84ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/bba_thumb.gif (::1) 4.05ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/bs_thumb.gif (::1) 4.09ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/bs2_thumb.gif (::1) 4.50ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/bz_thumb.gif (::1) 2.92ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/cj_thumb.gif (::1) 6.65ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/cool_thumb.gif (::1) 5.56ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/crazya_thumb.gif (::1) 4.03ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/cry.gif (::1) 2.34ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/cza_thumb.gif (::1) 3.34ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/dizzya_thumb.gif (::1) 2.32ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/gza_thumb.gif (::1) 10.52ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/h_thumb.gif (::1) 9.66ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/hatea_thumb.gif (::1) 8.52ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/heia_thumb.gif (::1) 7.49ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/hsa_thumb.gif (::1) 6.38ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/hufen_thumb.gif (::1) 5.43ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/k_thumb.gif (::1) 5.84ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/kbsa_thumb.gif (::1) 7.57ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/kl_thumb.gif (::1) 7.02ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/laugh.gif (::1) 24.63ms
[I 180821 14:36:45 web:2162] 101 GET /ws (::1) 5.70ms
[I 180821 14:36:45 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10874b6d8>
[E 180821 14:36:45 web:1670] Uncaught exception GET /ws (::1)
    HTTPServerRequest(protocol='http', host='localhost:9000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='::1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 57, in open
        self.users[self.current_user.name] = self
    AttributeError: 'NoneType' object has no attribute 'name'
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/ldln_thumb.gif (::1) 37.01ms
[I 180821 14:36:45 ws_handler:73] end connection
[E 180821 14:36:45 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 74, in on_close
        self.users.pop(self.current_user.name)
    AttributeError: 'NoneType' object has no attribute 'name'
[E 180821 14:36:45 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10881c8c8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 74, in on_close
        self.users.pop(self.current_user.name)
    AttributeError: 'NoneType' object has no attribute 'name'
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/qq_thumb.gif (::1) 26.90ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/money_thumb.gif (::1) 25.08ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/lovea_thumb.gif (::1) 27.80ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/mb_thumb.gif (::1) 16.02ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/nm_thumb.gif (::1) 15.13ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/sada_thumb.gif (::1) 19.86ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/sb_thumb.gif (::1) 20.17ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/shamea_thumb.gif (::1) 22.63ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/sk_thumb.gif (::1) 16.50ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/sleepa_thumb.gif (::1) 12.66ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/sleepya_thumb.gif (::1) 9.84ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/smilea_thumb.gif (::1) 13.84ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/sw_thumb.gif (::1) 13.68ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/sweata_thumb.gif (::1) 12.94ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/t_thumb.gif (::1) 11.93ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/tootha_thumb.gif (::1) 9.80ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/tza_thumb.gif (::1) 7.17ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/wq_thumb.gif (::1) 15.72ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/x_thumb.gif (::1) 15.11ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/yhh_thumb.gif (::1) 13.96ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/zhh_thumb.gif (::1) 8.98ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/yw_thumb.gif (::1) 6.55ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/yx_thumb.gif (::1) 11.89ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/zy_thumb.gif (::1) 16.77ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/good_thumb.gif (::1) 16.18ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/z2_thumb.gif (::1) 16.21ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/come_thumb.gif (::1) 14.01ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/sad_thumb.gif (::1) 11.93ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/no_thumb.gif (::1) 9.84ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/ok_thumb.gif (::1) 15.76ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/ye_thumb.gif (::1) 15.60ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/hearta_thumb.gif (::1) 14.80ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/unheart.gif (::1) 13.02ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/boboshengmenqi_thumb.gif (::1) 7.40ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/bofubianlian_thumb.gif (::1) 10.54ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/cake.gif (::1) 14.49ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/camera_thumb.gif (::1) 13.32ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/cat_yunqizhong_thumb.gif (::1) 8.99ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/cf_thumb.gif (::1) 13.49ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/chn_buyaoya_thumb.gif (::1) 13.42ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/clock_thumb.gif (::1) 14.72ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/daxiongleibenxiong_thumb.gif (::1) 15.09ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/fuyun_thumb.gif (::1) 16.67ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/geili_thumb.gif (::1) 16.26ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/horse2_thumb.gif (::1) 15.32ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/j_thumb.gif (::1) 9.36ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/lazu_thumb.gif (::1) 12.40ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/liwu_thumb.gif (::1) 25.80ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/lxhluguo_thumb.gif (::1) 25.32ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/lxhzhuanfa_thumb.gif (::1) 19.48ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/m_thumb.gif (::1) 16.09ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/otm_thumb.gif (::1) 7.12ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/panda_thumb.gif (::1) 6.65ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/pig.gif (::1) 24.88ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/rabbit_thumb.gif (::1) 26.51ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/vw_thumb.gif (::1) 17.67ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/weijin_thumb.gif (::1) 13.37ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/wg_thumb.gif (::1) 12.50ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/youqian_thumb.gif (::1) 5.70ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/zz2_thumb.gif (::1) 13.18ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/face/gbzkun_thumb.gif (::1) 13.18ms
[I 180821 14:36:45 web:2162] 200 GET /static/images/body_bg.jpg (::1) 11.53ms
[I 180821 14:37:30 web:2162] 200 GET /message/message (::1) 11.69ms
[I 180821 14:37:30 web:2162] 101 GET /ws (::1) 0.99ms
[I 180821 14:37:30 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1087486a0>
[E 180821 14:37:30 web:1670] Uncaught exception GET /ws (::1)
    HTTPServerRequest(protocol='http', host='localhost:9000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='::1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 57, in open
        self.users[self.current_user.name] = self
    AttributeError: 'NoneType' object has no attribute 'name'
[I 180821 14:37:30 ws_handler:73] end connection
[E 180821 14:37:30 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 74, in on_close
        self.users.pop(self.current_user.name)
    AttributeError: 'NoneType' object has no attribute 'name'
[E 180821 14:37:30 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1087a87b8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 74, in on_close
        self.users.pop(self.current_user.name)
    AttributeError: 'NoneType' object has no attribute 'name'
[I 180821 14:38:16 ws_handler:73] end connection
[I 180821 14:38:19 web:2162] 200 GET /message/message (127.0.0.1) 11.82ms
[I 180821 14:38:19 web:2162] 101 GET /ws (127.0.0.1) 1.25ms
[I 180821 14:38:19 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1087dca58>
[I 180821 14:39:19 ws_handler:73] end connection
[I 180821 14:39:29 web:2162] 302 GET / (127.0.0.1) 3.28ms
[I 180821 14:39:29 web:2162] 200 GET /login?next=%2F (127.0.0.1) 11.71ms
[I 180821 14:39:30 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.59ms
[I 180821 14:39:37 web:2162] 302 POST /login?next=%2F (127.0.0.1) 4.84ms
[E 180821 14:39:37 web:1670] Uncaught exception GET / (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/', version='HTTP/1.0', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1590, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 3006, in wrapper
        return method(self, *args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 26, in get
        user_posts = User.get_current_user_post(self.current_user)
      File "/Users/apple/PycharmProjects/work/todo/models/auth/model.py", line 24, in get_current_user_post
        return user.posts
    AttributeError: 'NoneType' object has no attribute 'posts'
[E 180821 14:39:37 web:2162] 500 GET / (127.0.0.1) 8.44ms
[I 180821 14:39:48 web:2162] 200 GET /login?next=%2F (127.0.0.1) 8.49ms
[I 180821 14:39:55 web:2162] 200 POST /login?next=%2F (127.0.0.1) 1.93ms
[I 180821 14:39:56 web:2162] 200 GET /login?next=%2F (127.0.0.1) 11.74ms
[I 180821 14:39:58 web:2162] 200 POST /login?next=%2F (127.0.0.1) 1.85ms
[I 180821 14:40:04 web:2162] 200 GET /login?next=%2F (127.0.0.1) 9.18ms
[I 180821 14:40:08 web:2162] 200 POST /login?next=%2F (127.0.0.1) 2.70ms
[I 180821 14:40:10 web:2162] 200 GET /login?next=%2F (127.0.0.1) 9.49ms
[I 180821 14:40:13 web:2162] 200 GET /register (127.0.0.1) 9.14ms
[I 180821 14:40:17 web:2162] 200 GET /message/message (::1) 7.07ms
[I 180821 14:40:17 ws_handler:73] end connection
[I 180821 14:40:18 web:2162] 101 GET /ws (::1) 0.81ms
[I 180821 14:40:18 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1024ef390>
[I 180821 14:40:28 web:2162] 200 POST /register (127.0.0.1) 1.93ms
[I 180821 14:40:31 web:2162] 200 GET /register (127.0.0.1) 7.88ms
[I 180821 14:40:32 web:2162] 200 GET /login (127.0.0.1) 11.40ms
[I 180821 14:40:37 web:2162] 302 POST /login (127.0.0.1) 4.01ms
[I 180821 14:40:37 web:2162] 200 GET / (127.0.0.1) 10.64ms
[I 180821 14:40:41 web:2162] 200 GET /message/message (127.0.0.1) 8.44ms
[I 180821 14:40:41 web:2162] 101 GET /ws (127.0.0.1) 0.58ms
[I 180821 14:40:41 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x108897860>
[I 180821 14:40:46 web:2162] 200 GET /message/message (127.0.0.1) 7.60ms
[I 180821 14:40:46 web:2162] 101 GET /ws (127.0.0.1) 0.97ms
[I 180821 14:40:46 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x102493208>
[I 180821 14:40:46 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.75ms
[I 180821 14:41:25 web:2162] 200 GET /message/message (127.0.0.1) 7.07ms
[I 180821 14:41:25 ws_handler:73] end connection
[I 180821 14:41:25 web:2162] 101 GET /ws (127.0.0.1) 0.61ms
[I 180821 14:41:25 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x108879780>
[I 180821 14:41:25 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.64ms
[I 180821 14:41:27 web:2162] 304 GET /message/message (127.0.0.1) 6.21ms
[I 180821 14:41:27 ws_handler:73] end connection
[I 180821 14:41:27 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.61ms
[I 180821 14:41:27 web:2162] 101 GET /ws (127.0.0.1) 0.58ms
[I 180821 14:41:27 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1088afcf8>
[I 180821 14:42:45 ws_handler:73] end connection
[I 180821 14:43:03 ws_handler:73] end connection
[I 180821 14:43:21 web:2162] 200 GET /message/message (127.0.0.1) 7.37ms
[I 180821 14:43:21 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.27ms
[I 180821 14:43:21 web:2162] 101 GET /ws (127.0.0.1) 0.84ms
[I 180821 14:43:21 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1024d6be0>
[I 180821 14:43:33 web:2162] 200 GET /message/message (127.0.0.1) 6.63ms
[I 180821 14:43:33 web:2162] 101 GET /ws (127.0.0.1) 0.81ms
[I 180821 14:43:33 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1024934a8>
[I 180821 14:43:33 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.17ms
[I 180821 14:43:45 web:2162] 200 GET /message/message (::1) 10.48ms
[I 180821 14:43:45 ws_handler:73] end connection
[I 180821 14:43:45 web:2162] 101 GET /ws (::1) 0.89ms
[I 180821 14:43:45 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1024ef898>
[I 180821 14:44:41 web:2162] 200 GET /message/message (::1) 5.98ms
[I 180821 14:44:41 ws_handler:73] end connection
[I 180821 14:44:41 web:2162] 200 GET /static/images/face.gif (::1) 2.77ms
[I 180821 14:44:41 web:2162] 200 GET /static/css/animate.css?v=bed7ad760e96fc0477fb24f8c7955796 (::1) 8.44ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/useravatars/defaut_avatar.jpeg (::1) 6.06ms
[I 180821 14:44:41 web:2162] 200 GET /static/adminlte/bower_components/jquery/dist/jquery.min.js?v=378087a64e1394fc51f300bb9c11878c (::1) 7.58ms
[I 180821 14:44:41 web:2162] 200 GET /static/js/jquery.backstretch.min.js (::1) 2.44ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/3.png (::1) 12.26ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/6.png (::1) 11.31ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/1.png (::1) 8.42ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/2.png (::1) 7.59ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/4.png (::1) 6.93ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/5.png (::1) 6.05ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/arrow.png (::1) 14.39ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/11.png (::1) 13.61ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/10.png (::1) 12.17ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/9.png (::1) 10.21ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/8.png (::1) 8.61ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/7.png (::1) 6.24ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/12.png (::1) 15.12ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/13.png (::1) 14.07ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/14.png (::1) 12.53ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/15.png (::1) 10.49ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/angrya_thumb.gif (::1) 6.46ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/88_thumb.gif (::1) 4.81ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/bba_thumb.gif (::1) 17.73ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/bs_thumb.gif (::1) 15.20ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/bs2_thumb.gif (::1) 14.00ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/bz_thumb.gif (::1) 9.96ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/cj_thumb.gif (::1) 8.25ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/cool_thumb.gif (::1) 5.58ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/crazya_thumb.gif (::1) 14.68ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/cry.gif (::1) 12.99ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/cza_thumb.gif (::1) 11.42ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/dizzya_thumb.gif (::1) 7.91ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/gza_thumb.gif (::1) 6.26ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/h_thumb.gif (::1) 5.18ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/hatea_thumb.gif (::1) 18.59ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/heia_thumb.gif (::1) 14.13ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/hsa_thumb.gif (::1) 13.03ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/hufen_thumb.gif (::1) 12.63ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/k_thumb.gif (::1) 9.14ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/kbsa_thumb.gif (::1) 11.33ms
[I 180821 14:44:41 web:2162] 101 GET /ws (::1) 0.91ms
[I 180821 14:44:41 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1024d3208>
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/kl_thumb.gif (::1) 18.05ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/mb_thumb.gif (::1) 13.11ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/laugh.gif (::1) 14.08ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/ldln_thumb.gif (::1) 12.69ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/lovea_thumb.gif (::1) 10.78ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/nm_thumb.gif (::1) 9.50ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/money_thumb.gif (::1) 7.98ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/sada_thumb.gif (::1) 19.89ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/qq_thumb.gif (::1) 18.50ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/sb_thumb.gif (::1) 14.57ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/sk_thumb.gif (::1) 12.02ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/shamea_thumb.gif (::1) 8.25ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/sleepa_thumb.gif (::1) 3.27ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/sleepya_thumb.gif (::1) 14.08ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/smilea_thumb.gif (::1) 9.76ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/sw_thumb.gif (::1) 8.00ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/sweata_thumb.gif (::1) 6.60ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/t_thumb.gif (::1) 5.23ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/tootha_thumb.gif (::1) 3.30ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/tza_thumb.gif (::1) 11.67ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/wq_thumb.gif (::1) 10.42ms
[I 180821 14:44:41 web:2162] 200 GET /static/images/face/x_thumb.gif (::1) 8.20ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/yhh_thumb.gif (::1) 6.59ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/zhh_thumb.gif (::1) 5.95ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/yw_thumb.gif (::1) 5.08ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/yx_thumb.gif (::1) 11.09ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/zy_thumb.gif (::1) 9.70ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/good_thumb.gif (::1) 8.38ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/z2_thumb.gif (::1) 6.84ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/come_thumb.gif (::1) 5.46ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/sad_thumb.gif (::1) 3.35ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/no_thumb.gif (::1) 39.37ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/ok_thumb.gif (::1) 36.36ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/ye_thumb.gif (::1) 19.62ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/hearta_thumb.gif (::1) 16.00ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/unheart.gif (::1) 11.98ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/boboshengmenqi_thumb.gif (::1) 9.18ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/bofubianlian_thumb.gif (::1) 18.53ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/cake.gif (::1) 17.35ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/camera_thumb.gif (::1) 15.94ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/cat_yunqizhong_thumb.gif (::1) 14.40ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/cf_thumb.gif (::1) 8.03ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/chn_buyaoya_thumb.gif (::1) 3.67ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/clock_thumb.gif (::1) 14.94ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/daxiongleibenxiong_thumb.gif (::1) 14.69ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/fuyun_thumb.gif (::1) 10.14ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/geili_thumb.gif (::1) 8.05ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/horse2_thumb.gif (::1) 4.81ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/j_thumb.gif (::1) 2.85ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/lazu_thumb.gif (::1) 13.49ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/liwu_thumb.gif (::1) 10.59ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/lxhluguo_thumb.gif (::1) 9.23ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/lxhzhuanfa_thumb.gif (::1) 6.73ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/m_thumb.gif (::1) 5.07ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/otm_thumb.gif (::1) 2.84ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/panda_thumb.gif (::1) 15.06ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/pig.gif (::1) 14.18ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/rabbit_thumb.gif (::1) 9.85ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/vw_thumb.gif (::1) 7.50ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/weijin_thumb.gif (::1) 4.87ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/wg_thumb.gif (::1) 2.88ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/youqian_thumb.gif (::1) 11.67ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/zz2_thumb.gif (::1) 8.04ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/gbzkun_thumb.gif (::1) 6.00ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/body_bg.jpg (::1) 4.05ms
[I 180821 14:44:42 web:2162] 200 GET /message/message (::1) 10.05ms
[I 180821 14:44:42 ws_handler:73] end connection
[I 180821 14:44:42 web:2162] 200 GET /static/images/face.gif (::1) 8.38ms
[I 180821 14:44:42 web:2162] 200 GET /static/css/animate.css?v=bed7ad760e96fc0477fb24f8c7955796 (::1) 20.33ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/useravatars/defaut_avatar.jpeg (::1) 16.05ms
[I 180821 14:44:42 web:2162] 200 GET /static/js/jquery.backstretch.min.js (::1) 5.44ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/1.png (::1) 4.35ms
[I 180821 14:44:42 web:2162] 200 GET /static/adminlte/bower_components/jquery/dist/jquery.min.js?v=378087a64e1394fc51f300bb9c11878c (::1) 10.26ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/2.png (::1) 14.80ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/3.png (::1) 12.44ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/4.png (::1) 10.87ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/5.png (::1) 9.55ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/6.png (::1) 8.28ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/7.png (::1) 6.42ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/11.png (::1) 19.28ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/10.png (::1) 16.47ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/9.png (::1) 14.07ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/8.png (::1) 10.81ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/arrow.png (::1) 8.87ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/12.png (::1) 5.28ms
[I 180821 14:44:42 web:2162] 101 GET /ws (::1) 8.48ms
[I 180821 14:44:42 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1024cb8d0>
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/13.png (::1) 50.03ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/14.png (::1) 44.44ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/15.png (::1) 34.06ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/angrya_thumb.gif (::1) 31.46ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/88_thumb.gif (::1) 29.08ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/bba_thumb.gif (::1) 26.86ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/bs_thumb.gif (::1) 18.16ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/bs2_thumb.gif (::1) 17.79ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/bz_thumb.gif (::1) 15.96ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/cj_thumb.gif (::1) 14.73ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/cool_thumb.gif (::1) 8.34ms
[I 180821 14:44:42 web:2162] 200 GET /static/images/face/crazya_thumb.gif (::1) 7.04ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/cry.gif (::1) 24.93ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/cza_thumb.gif (::1) 21.90ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/dizzya_thumb.gif (::1) 19.19ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/gza_thumb.gif (::1) 17.60ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/h_thumb.gif (::1) 12.07ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/hatea_thumb.gif (::1) 9.61ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/heia_thumb.gif (::1) 18.58ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/hsa_thumb.gif (::1) 16.90ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/hufen_thumb.gif (::1) 15.48ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/k_thumb.gif (::1) 13.90ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/kbsa_thumb.gif (::1) 12.20ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/kl_thumb.gif (::1) 2.95ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/laugh.gif (::1) 16.40ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/ldln_thumb.gif (::1) 14.60ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/lovea_thumb.gif (::1) 13.41ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/mb_thumb.gif (::1) 9.19ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/money_thumb.gif (::1) 6.09ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/nm_thumb.gif (::1) 3.76ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/qq_thumb.gif (::1) 15.40ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/sada_thumb.gif (::1) 14.24ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/sb_thumb.gif (::1) 11.96ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/shamea_thumb.gif (::1) 7.65ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/sk_thumb.gif (::1) 5.49ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/sleepa_thumb.gif (::1) 3.54ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/sleepya_thumb.gif (::1) 17.60ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/smilea_thumb.gif (::1) 16.43ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/sw_thumb.gif (::1) 8.97ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/sweata_thumb.gif (::1) 7.09ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/t_thumb.gif (::1) 5.41ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/tootha_thumb.gif (::1) 3.42ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/tza_thumb.gif (::1) 16.71ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/wq_thumb.gif (::1) 14.96ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/x_thumb.gif (::1) 10.84ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/yhh_thumb.gif (::1) 9.45ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/zhh_thumb.gif (::1) 8.10ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/yw_thumb.gif (::1) 7.00ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/yx_thumb.gif (::1) 16.53ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/zy_thumb.gif (::1) 14.98ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/good_thumb.gif (::1) 13.99ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/z2_thumb.gif (::1) 12.58ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/come_thumb.gif (::1) 11.16ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/sad_thumb.gif (::1) 8.92ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/no_thumb.gif (::1) 15.06ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/ok_thumb.gif (::1) 13.96ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/ye_thumb.gif (::1) 12.49ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/hearta_thumb.gif (::1) 11.34ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/unheart.gif (::1) 9.45ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/boboshengmenqi_thumb.gif (::1) 6.26ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/bofubianlian_thumb.gif (::1) 15.46ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/cake.gif (::1) 14.33ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/camera_thumb.gif (::1) 12.66ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/cat_yunqizhong_thumb.gif (::1) 10.98ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/cf_thumb.gif (::1) 7.94ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/chn_buyaoya_thumb.gif (::1) 5.86ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/clock_thumb.gif (::1) 17.46ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/daxiongleibenxiong_thumb.gif (::1) 16.37ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/fuyun_thumb.gif (::1) 14.71ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/geili_thumb.gif (::1) 13.19ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/horse2_thumb.gif (::1) 6.15ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/j_thumb.gif (::1) 3.46ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/lazu_thumb.gif (::1) 16.56ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/liwu_thumb.gif (::1) 15.46ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/lxhluguo_thumb.gif (::1) 13.88ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/lxhzhuanfa_thumb.gif (::1) 9.49ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/m_thumb.gif (::1) 7.46ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/otm_thumb.gif (::1) 4.61ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/panda_thumb.gif (::1) 14.45ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/pig.gif (::1) 11.59ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/rabbit_thumb.gif (::1) 9.70ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/vw_thumb.gif (::1) 6.32ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/weijin_thumb.gif (::1) 4.83ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/wg_thumb.gif (::1) 3.07ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/youqian_thumb.gif (::1) 13.47ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/zz2_thumb.gif (::1) 12.58ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/face/gbzkun_thumb.gif (::1) 5.00ms
[I 180821 14:44:43 web:2162] 200 GET /static/images/body_bg.jpg (::1) 4.40ms
[I 180821 14:45:45 web:2162] 302 GET / (192.168.0.107) 2.05ms
[I 180821 14:45:45 web:2162] 200 GET /login?next=%2F (192.168.0.107) 8.50ms
[I 180821 14:45:45 web:2162] 200 GET /static/adminlte/bower_components/bootstrap/dist/css/bootstrap.min.css?v=5057f321f0dc85cd8da94a0c5f67a8f4 (192.168.0.107) 5.75ms
[I 180821 14:45:45 web:2162] 200 GET /static/adminlte/bower_components/font-awesome/css/font-awesome.min.css?v=a0e784c4ca94c271b0338dfb02055be6 (192.168.0.107) 3.05ms
[I 180821 14:45:45 web:2162] 200 GET /static/adminlte/dist/css/skins/_all-skins.min.css?v=4e7f7de25ef272107d5a99f18a885876 (192.168.0.107) 1.46ms
[I 180821 14:45:45 web:2162] 200 GET /static/adminlte/dist/css/AdminLTE.min.css?v=a3b407c735c66a5d9711de9a392f13c8 (192.168.0.107) 2.82ms
[I 180821 14:45:45 web:2162] 200 GET /static/adminlte/bower_components/bootstrap/dist/js/bootstrap.min.js?v=04c84852e9937b142ac73c285b895b85 (192.168.0.107) 3.19ms
[I 180821 14:45:45 web:2162] 200 GET /static/adminlte/bower_components/jquery/dist/jquery.min.js?v=378087a64e1394fc51f300bb9c11878c (192.168.0.107) 1.66ms
[I 180821 14:45:45 web:2162] 200 GET /static/adminlte/dist/js/adminlte.min.js?v=89df5d864fcaf07f9d7ce74796398477 (192.168.0.107) 4.17ms
[I 180821 14:45:45 web:2162] 200 GET /static/adminlte/plugins/iCheck/icheck.min.js?v=007b8ef03ba6181bde0952442d46dbcb (192.168.0.107) 2.51ms
[I 180821 14:45:45 web:2162] 200 GET /static/js/index.js?v=c01960cfe8b56b0a70e907bbe835f964 (192.168.0.107) 1.76ms
[I 180821 14:45:45 web:2162] 200 GET /static/adminlte/bower_components/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2 (192.168.0.107) 2.33ms
[I 180821 14:45:45 web:2162] 200 GET /favicon.ico (192.168.0.107) 1.83ms
[I 180821 14:45:47 web:2162] 200 GET /register (192.168.0.107) 10.19ms
[I 180821 14:45:55 web:2162] 302 POST /register (192.168.0.107) 6.26ms
[I 180821 14:45:55 web:2162] 200 GET /login (192.168.0.107) 8.75ms
[I 180821 14:46:01 web:2162] 302 POST /login (192.168.0.107) 5.28ms
[I 180821 14:46:01 web:2162] 200 GET / (192.168.0.107) 8.99ms
[I 180821 14:46:02 ws_handler:73] end connection
[I 180821 14:46:02 ws_handler:73] end connection
[I 180821 14:46:05 web:2162] 304 GET / (192.168.0.107) 10.10ms
[I 180821 14:46:06 web:2162] 304 GET / (192.168.0.107) 10.62ms
[I 180821 14:46:06 web:2162] 304 GET / (192.168.0.107) 8.54ms
[I 180821 14:46:06 web:2162] 304 GET / (192.168.0.107) 10.74ms
[I 180821 14:46:09 web:2162] 304 GET / (192.168.0.107) 12.38ms
[I 180821 14:46:18 web:2162] 200 GET /static/adminlte/bower_components/bootstrap/dist/css/bootstrap.min.css.map (192.168.0.107) 2320.04ms
[I 180821 14:46:27 web:2162] 200 GET /message/message (192.168.0.107) 5.64ms
[I 180821 14:46:27 web:2162] 200 GET /static/css/animate.css?v=bed7ad760e96fc0477fb24f8c7955796 (192.168.0.107) 2.25ms
[I 180821 14:46:27 web:2162] 200 GET /static/images/useravatars/defaut_avatar.jpeg (192.168.0.107) 4.94ms
[I 180821 14:46:27 web:2162] 200 GET /static/images/face.gif (192.168.0.107) 2.29ms
[I 180821 14:46:27 web:2162] 200 GET /static/js/jquery.backstretch.min.js (192.168.0.107) 4.06ms
[I 180821 14:46:27 web:2162] 200 GET /static/images/face/1.png (192.168.0.107) 3.04ms
[I 180821 14:46:27 web:2162] 200 GET /static/images/face/2.png (192.168.0.107) 2.04ms
[I 180821 14:46:27 web:2162] 200 GET /static/images/face/3.png (192.168.0.107) 1.96ms
[I 180821 14:46:27 web:2162] 200 GET /static/images/face/4.png (192.168.0.107) 3.33ms
[I 180821 14:46:27 web:2162] 200 GET /static/images/face/5.png (192.168.0.107) 1.75ms
[I 180821 14:46:27 web:2162] 200 GET /static/images/face/6.png (192.168.0.107) 4.92ms
[I 180821 14:46:27 web:2162] 200 GET /static/images/face/7.png (192.168.0.107) 3.35ms
[I 180821 14:46:27 web:2162] 200 GET /static/images/face/8.png (192.168.0.107) 2.42ms
[I 180821 14:46:27 web:2162] 200 GET /static/images/face/9.png (192.168.0.107) 1.35ms
[I 180821 14:46:27 web:2162] 200 GET /static/images/face/10.png (192.168.0.107) 3.15ms
[I 180821 14:46:27 web:2162] 200 GET /static/images/face/11.png (192.168.0.107) 2.09ms
[I 180821 14:46:27 web:2162] 200 GET /static/images/face/12.png (192.168.0.107) 1.82ms
[I 180821 14:46:27 web:2162] 200 GET /static/images/face/13.png (192.168.0.107) 1.05ms
[I 180821 14:46:27 web:2162] 200 GET /static/images/face/14.png (192.168.0.107) 1.17ms
[I 180821 14:46:27 web:2162] 200 GET /static/images/face/15.png (192.168.0.107) 1.71ms
[I 180821 14:46:27 web:2162] 200 GET /static/images/face/angrya_thumb.gif (192.168.0.107) 3.57ms
[I 180821 14:46:27 web:2162] 200 GET /static/images/face/88_thumb.gif (192.168.0.107) 1.69ms
[I 180821 14:46:27 web:2162] 200 GET /static/images/face/bba_thumb.gif (192.168.0.107) 2.32ms
[I 180821 14:46:27 web:2162] 200 GET /static/images/face/bs_thumb.gif (192.168.0.107) 1.64ms
[I 180821 14:46:27 web:2162] 200 GET /static/images/face/bs2_thumb.gif (192.168.0.107) 1.02ms
[I 180821 14:46:27 web:2162] 200 GET /static/images/face/bz_thumb.gif (192.168.0.107) 0.94ms
[I 180821 14:46:27 web:2162] 200 GET /static/images/face/cj_thumb.gif (192.168.0.107) 1.06ms
[I 180821 14:46:27 web:2162] 200 GET /static/images/face/cool_thumb.gif (192.168.0.107) 0.94ms
[I 180821 14:46:27 web:2162] 200 GET /static/images/face/crazya_thumb.gif (192.168.0.107) 2.44ms
[I 180821 14:46:27 web:2162] 200 GET /static/images/face/cry.gif (192.168.0.107) 1.83ms
[I 180821 14:46:27 web:2162] 200 GET /static/images/face/cza_thumb.gif (192.168.0.107) 1.29ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/dizzya_thumb.gif (192.168.0.107) 1.00ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/gza_thumb.gif (192.168.0.107) 1.80ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/h_thumb.gif (192.168.0.107) 2.78ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/hatea_thumb.gif (192.168.0.107) 3.54ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/heia_thumb.gif (192.168.0.107) 2.34ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/hsa_thumb.gif (192.168.0.107) 3.00ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/hufen_thumb.gif (192.168.0.107) 2.45ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/k_thumb.gif (192.168.0.107) 1.95ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/kbsa_thumb.gif (192.168.0.107) 1.39ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/kl_thumb.gif (192.168.0.107) 4.78ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/laugh.gif (192.168.0.107) 4.30ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/ldln_thumb.gif (192.168.0.107) 3.72ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/lovea_thumb.gif (192.168.0.107) 1.96ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/mb_thumb.gif (192.168.0.107) 1.15ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/money_thumb.gif (192.168.0.107) 5.06ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/nm_thumb.gif (192.168.0.107) 3.11ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/qq_thumb.gif (192.168.0.107) 1.61ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/sada_thumb.gif (192.168.0.107) 1.63ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/sb_thumb.gif (192.168.0.107) 1.07ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/shamea_thumb.gif (192.168.0.107) 2.19ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/sk_thumb.gif (192.168.0.107) 5.29ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/sleepa_thumb.gif (192.168.0.107) 4.56ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/sleepya_thumb.gif (192.168.0.107) 3.81ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/smilea_thumb.gif (192.168.0.107) 3.15ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/sw_thumb.gif (192.168.0.107) 4.53ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/sweata_thumb.gif (192.168.0.107) 3.93ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/t_thumb.gif (192.168.0.107) 3.40ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/tootha_thumb.gif (192.168.0.107) 2.87ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/tza_thumb.gif (192.168.0.107) 2.32ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/wq_thumb.gif (192.168.0.107) 1.77ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/arrow.png (192.168.0.107) 3.99ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/x_thumb.gif (192.168.0.107) 3.27ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/yhh_thumb.gif (192.168.0.107) 2.69ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/zhh_thumb.gif (192.168.0.107) 2.16ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/yw_thumb.gif (192.168.0.107) 1.63ms
[I 180821 14:46:28 web:2162] 101 GET /ws (192.168.0.107) 1.60ms
[I 180821 14:46:28 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1088438d0>
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/yx_thumb.gif (192.168.0.107) 3.03ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/zy_thumb.gif (192.168.0.107) 2.42ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/good_thumb.gif (192.168.0.107) 1.85ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/z2_thumb.gif (192.168.0.107) 1.29ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/come_thumb.gif (192.168.0.107) 6.35ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/sad_thumb.gif (192.168.0.107) 4.48ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/no_thumb.gif (192.168.0.107) 3.40ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/ok_thumb.gif (192.168.0.107) 2.79ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/ye_thumb.gif (192.168.0.107) 2.37ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/hearta_thumb.gif (192.168.0.107) 1.84ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/unheart.gif (192.168.0.107) 5.15ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/boboshengmenqi_thumb.gif (192.168.0.107) 4.32ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/bofubianlian_thumb.gif (192.168.0.107) 3.73ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/cake.gif (192.168.0.107) 3.01ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/camera_thumb.gif (192.168.0.107) 2.34ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/cat_yunqizhong_thumb.gif (192.168.0.107) 1.79ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/cf_thumb.gif (192.168.0.107) 0.95ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/chn_buyaoya_thumb.gif (192.168.0.107) 2.66ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/clock_thumb.gif (192.168.0.107) 1.61ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/daxiongleibenxiong_thumb.gif (192.168.0.107) 3.40ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/fuyun_thumb.gif (192.168.0.107) 2.84ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/geili_thumb.gif (192.168.0.107) 2.31ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/horse2_thumb.gif (192.168.0.107) 1.52ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/j_thumb.gif (192.168.0.107) 3.73ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/lazu_thumb.gif (192.168.0.107) 1.99ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/liwu_thumb.gif (192.168.0.107) 4.89ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/lxhluguo_thumb.gif (192.168.0.107) 4.07ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/lxhzhuanfa_thumb.gif (192.168.0.107) 3.49ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/m_thumb.gif (192.168.0.107) 2.93ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/otm_thumb.gif (192.168.0.107) 2.38ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/panda_thumb.gif (192.168.0.107) 1.82ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/pig.gif (192.168.0.107) 4.48ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/rabbit_thumb.gif (192.168.0.107) 5.66ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/vw_thumb.gif (192.168.0.107) 4.61ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/weijin_thumb.gif (192.168.0.107) 2.44ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/wg_thumb.gif (192.168.0.107) 1.79ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/youqian_thumb.gif (192.168.0.107) 1.28ms
[I 180821 14:46:28 web:2162] 200 GET /static/images/face/zz2_thumb.gif (192.168.0.107) 0.91ms
[I 180821 14:46:29 web:2162] 200 GET /static/images/face/gbzkun_thumb.gif (192.168.0.107) 2.10ms
[I 180821 14:46:29 web:2162] 200 GET /static/images/body_bg.jpg (192.168.0.107) 1.71ms
[I 180821 14:46:54 web:2162] 200 GET /message/message (192.168.0.107) 5.78ms
[I 180821 14:46:54 ws_handler:73] end connection
[I 180821 14:46:55 web:2162] 101 GET /ws (192.168.0.107) 0.56ms
[I 180821 14:46:55 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x108869630>
[I 180821 14:46:56 web:2162] 304 GET /message/message (192.168.0.107) 6.33ms
[I 180821 14:46:56 ws_handler:73] end connection
[I 180821 14:46:56 web:2162] 101 GET /ws (192.168.0.107) 1.13ms
[I 180821 14:46:56 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10886b390>
[I 180821 14:46:57 web:2162] 304 GET /message/message (192.168.0.107) 6.17ms
[I 180821 14:46:57 ws_handler:73] end connection
[I 180821 14:46:57 web:2162] 304 GET /message/message (192.168.0.107) 7.57ms
[I 180821 14:46:57 web:2162] 101 GET /ws (192.168.0.107) 0.50ms
[I 180821 14:46:57 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x108851f98>
[I 180821 14:46:57 ws_handler:73] end connection
[I 180821 14:46:58 web:2162] 101 GET /ws (192.168.0.107) 0.53ms
[I 180821 14:46:58 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10886b0b8>
[I 180821 14:46:58 web:2162] 304 GET /message/message (192.168.0.107) 7.96ms
[I 180821 14:46:58 ws_handler:73] end connection
[I 180821 14:46:58 web:2162] 304 GET /message/message (192.168.0.107) 6.59ms
[I 180821 14:46:59 web:2162] 101 GET /ws (192.168.0.107) 4.64ms
[I 180821 14:46:59 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x108864e10>
[I 180821 14:46:59 ws_handler:73] end connection
[I 180821 14:46:59 web:2162] 101 GET /ws (192.168.0.107) 1.50ms
[I 180821 14:46:59 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x108818c50>
[I 180821 14:46:59 web:2162] 304 GET /message/message (192.168.0.107) 7.63ms
[I 180821 14:46:59 ws_handler:73] end connection
[I 180821 14:46:59 web:2162] 101 GET /ws (192.168.0.107) 0.81ms
[I 180821 14:46:59 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1088af550>
[I 180821 14:47:33 web:2162] 200 GET /message/message (127.0.0.1) 7.97ms
[I 180821 14:47:33 web:2162] 101 GET /ws (127.0.0.1) 1.01ms
[I 180821 14:47:33 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1087b9d68>
[I 180821 14:47:33 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.47ms
[I 180821 14:48:33 ws_handler:73] end connection
[I 180821 14:54:45 web:2162] 304 GET / (127.0.0.1) 20.84ms
[I 180821 14:54:48 web:2162] 200 GET /message/message (127.0.0.1) 9.09ms
[I 180821 14:54:48 web:2162] 101 GET /ws (127.0.0.1) 0.87ms
[I 180821 14:54:48 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1088af710>
[I 180821 14:56:01 ws_handler:73] end connection
[I 180821 14:58:27 web:2162] 200 GET /message/message (127.0.0.1) 7.77ms
[I 180821 14:58:28 web:2162] 101 GET /ws (127.0.0.1) 2.60ms
[I 180821 14:58:28 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10871da20>
[I 180821 14:58:28 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.42ms
[I 180821 14:59:23 web:2162] 200 GET /message/message (127.0.0.1) 6.11ms
[I 180821 14:59:23 ws_handler:73] end connection
[I 180821 14:59:23 web:2162] 101 GET /ws (127.0.0.1) 1.12ms
[I 180821 14:59:23 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1088a39e8>
[I 180821 14:59:30 web:2162] 200 GET /message/message (192.168.0.107) 5.61ms
[I 180821 14:59:30 ws_handler:73] end connection
[I 180821 14:59:32 web:2162] 101 GET /ws (192.168.0.107) 0.81ms
[I 180821 14:59:32 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1088184e0>
[I 180821 14:59:39 web:2162] 200 GET /message/message (127.0.0.1) 6.96ms
[I 180821 14:59:39 web:2162] 101 GET /ws (127.0.0.1) 0.51ms
[I 180821 14:59:39 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10871d400>
[I 180821 14:59:39 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.19ms
[I 180821 15:01:11 ws_handler:73] end connection
[I 180821 15:01:11 ws_handler:73] end connection
[I 180821 15:04:02 web:2162] 302 GET /message/message (127.0.0.1) 3.27ms
[I 180821 15:04:02 web:2162] 200 GET /login?next=%2Fmessage%2Fmessage (127.0.0.1) 11.08ms
[I 180821 15:04:06 web:2162] 302 POST /login?next=%2Fmessage%2Fmessage (127.0.0.1) 6.53ms
[I 180821 15:04:06 web:2162] 200 GET /message/message (127.0.0.1) 10.48ms
[I 180821 15:04:06 web:2162] 101 GET /ws (127.0.0.1) 1.49ms
[I 180821 15:04:06 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1024d3358>
[E 180821 15:04:06 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 61, in on_message
        msg = tornado.escape.json_decode(message)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/escape.py", line 86, in json_decode
        return json.loads(to_basestring(value))
      File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/__init__.py", line 354, in loads
        return _default_decoder.decode(s)
      File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/decoder.py", line 339, in decode
        obj, end = self.raw_decode(s, idx=_w(s, 0).end())
      File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/decoder.py", line 357, in raw_decode
        raise JSONDecodeError("Expecting value", s, err.value) from None
    json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
[I 180821 15:04:06 ws_handler:73] end connection
[I 180821 15:04:11 web:2162] 200 GET /message/message (192.168.0.107) 5.56ms
[I 180821 15:04:11 ws_handler:73] end connection
[I 180821 15:04:12 web:2162] 101 GET /ws (192.168.0.107) 0.55ms
[I 180821 15:04:12 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1087b9940>
[E 180821 15:04:12 web:1670] Uncaught exception GET /ws (192.168.0.107)
    HTTPServerRequest(protocol='http', host='192.168.0.121:9000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='192.168.0.107')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 61, in on_message
        msg = tornado.escape.json_decode(message)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/escape.py", line 86, in json_decode
        return json.loads(to_basestring(value))
      File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/__init__.py", line 354, in loads
        return _default_decoder.decode(s)
      File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/decoder.py", line 339, in decode
        obj, end = self.raw_decode(s, idx=_w(s, 0).end())
      File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/decoder.py", line 357, in raw_decode
        raise JSONDecodeError("Expecting value", s, err.value) from None
    json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
[I 180821 15:04:12 ws_handler:73] end connection
[I 180821 15:04:13 web:2162] 304 GET /message/message (192.168.0.107) 9.78ms
[I 180821 15:04:13 web:2162] 101 GET /ws (192.168.0.107) 0.84ms
[I 180821 15:04:13 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1088afda0>
[E 180821 15:04:14 web:1670] Uncaught exception GET /ws (192.168.0.107)
    HTTPServerRequest(protocol='http', host='192.168.0.121:9000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='192.168.0.107')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 61, in on_message
        msg = tornado.escape.json_decode(message)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/escape.py", line 86, in json_decode
        return json.loads(to_basestring(value))
      File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/__init__.py", line 354, in loads
        return _default_decoder.decode(s)
      File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/decoder.py", line 339, in decode
        obj, end = self.raw_decode(s, idx=_w(s, 0).end())
      File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/decoder.py", line 357, in raw_decode
        raise JSONDecodeError("Expecting value", s, err.value) from None
    json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
[I 180821 15:04:14 ws_handler:73] end connection
[I 180821 15:04:16 web:2162] 304 GET /message/message (192.168.0.107) 5.91ms
[I 180821 15:04:16 web:2162] 101 GET /ws (192.168.0.107) 1.20ms
[I 180821 15:04:16 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10882e0b8>
[E 180821 15:04:16 web:1670] Uncaught exception GET /ws (192.168.0.107)
    HTTPServerRequest(protocol='http', host='192.168.0.121:9000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='192.168.0.107')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 61, in on_message
        msg = tornado.escape.json_decode(message)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/escape.py", line 86, in json_decode
        return json.loads(to_basestring(value))
      File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/__init__.py", line 354, in loads
        return _default_decoder.decode(s)
      File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/decoder.py", line 339, in decode
        obj, end = self.raw_decode(s, idx=_w(s, 0).end())
      File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/decoder.py", line 357, in raw_decode
        raise JSONDecodeError("Expecting value", s, err.value) from None
    json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
[I 180821 15:04:16 ws_handler:73] end connection
[I 180821 15:04:18 web:2162] 304 GET /message/message (192.168.0.107) 6.28ms
[I 180821 15:04:19 web:2162] 101 GET /ws (192.168.0.107) 1.13ms
[I 180821 15:04:19 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1088af9e8>
[E 180821 15:04:19 web:1670] Uncaught exception GET /ws (192.168.0.107)
    HTTPServerRequest(protocol='http', host='192.168.0.121:9000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='192.168.0.107')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 61, in on_message
        msg = tornado.escape.json_decode(message)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/escape.py", line 86, in json_decode
        return json.loads(to_basestring(value))
      File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/__init__.py", line 354, in loads
        return _default_decoder.decode(s)
      File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/decoder.py", line 339, in decode
        obj, end = self.raw_decode(s, idx=_w(s, 0).end())
      File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/decoder.py", line 357, in raw_decode
        raise JSONDecodeError("Expecting value", s, err.value) from None
    json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
[I 180821 15:04:19 ws_handler:73] end connection
[I 180821 15:04:24 web:2162] 200 GET /message/message (127.0.0.1) 5.91ms
[I 180821 15:04:24 web:2162] 101 GET /ws (127.0.0.1) 0.83ms
[I 180821 15:04:24 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1024d32b0>
[E 180821 15:04:24 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 61, in on_message
        msg = tornado.escape.json_decode(message)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/escape.py", line 86, in json_decode
        return json.loads(to_basestring(value))
      File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/__init__.py", line 354, in loads
        return _default_decoder.decode(s)
      File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/decoder.py", line 339, in decode
        obj, end = self.raw_decode(s, idx=_w(s, 0).end())
      File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/decoder.py", line 357, in raw_decode
        raise JSONDecodeError("Expecting value", s, err.value) from None
    json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
[I 180821 15:04:24 ws_handler:73] end connection
[I 180821 15:04:28 web:2162] 304 GET / (127.0.0.1) 9.73ms
[I 180821 15:04:31 web:2162] 302 GET /logout (127.0.0.1) 3.32ms
[I 180821 15:04:31 web:2162] 200 GET /login (127.0.0.1) 9.54ms
[I 180821 15:04:40 web:2162] 302 POST /login (127.0.0.1) 4.83ms
[I 180821 15:04:40 web:2162] 304 GET / (127.0.0.1) 8.86ms
[I 180821 15:04:43 web:2162] 304 GET /message/message (127.0.0.1) 8.42ms
[I 180821 15:04:43 web:2162] 101 GET /ws (127.0.0.1) 1.15ms
[I 180821 15:04:43 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10886bac8>
[E 180821 15:04:43 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 61, in on_message
        msg = tornado.escape.json_decode(message)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/escape.py", line 86, in json_decode
        return json.loads(to_basestring(value))
      File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/__init__.py", line 354, in loads
        return _default_decoder.decode(s)
      File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/decoder.py", line 339, in decode
        obj, end = self.raw_decode(s, idx=_w(s, 0).end())
      File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/decoder.py", line 357, in raw_decode
        raise JSONDecodeError("Expecting value", s, err.value) from None
    json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
[I 180821 15:04:43 ws_handler:73] end connection
[I 180821 15:04:50 web:2162] 304 GET /message/message (127.0.0.1) 8.13ms
[I 180821 15:04:51 web:2162] 101 GET /ws (127.0.0.1) 0.89ms
[I 180821 15:04:51 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10888e9b0>
[E 180821 15:04:51 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 61, in on_message
        msg = tornado.escape.json_decode(message)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/escape.py", line 86, in json_decode
        return json.loads(to_basestring(value))
      File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/__init__.py", line 354, in loads
        return _default_decoder.decode(s)
      File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/decoder.py", line 339, in decode
        obj, end = self.raw_decode(s, idx=_w(s, 0).end())
      File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/decoder.py", line 357, in raw_decode
        raise JSONDecodeError("Expecting value", s, err.value) from None
    json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
[I 180821 15:04:51 ws_handler:73] end connection
[I 180821 15:05:54 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 15:05:54 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 15:05:57 web:2162] 200 GET /message/message (127.0.0.1) 13.36ms
[I 180821 15:05:57 web:2162] 101 GET /ws (127.0.0.1) 1.41ms
[I 180821 15:05:57 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x104e2ac50>
[E 180821 15:05:57 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 61, in on_message
        msg = tornado.escape.json_decode(message)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/escape.py", line 86, in json_decode
        return json.loads(to_basestring(value))
      File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/__init__.py", line 354, in loads
        return _default_decoder.decode(s)
      File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/decoder.py", line 339, in decode
        obj, end = self.raw_decode(s, idx=_w(s, 0).end())
      File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/decoder.py", line 357, in raw_decode
        raise JSONDecodeError("Expecting value", s, err.value) from None
    json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
[I 180821 15:05:57 ws_handler:73] end connection
[I 180821 15:05:59 web:2162] 200 GET /message/message (127.0.0.1) 6.53ms
[I 180821 15:05:59 web:2162] 101 GET /ws (127.0.0.1) 1.07ms
[I 180821 15:05:59 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x102cfe1d0>
[E 180821 15:05:59 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 61, in on_message
        msg = tornado.escape.json_decode(message)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/escape.py", line 86, in json_decode
        return json.loads(to_basestring(value))
      File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/__init__.py", line 354, in loads
        return _default_decoder.decode(s)
      File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/decoder.py", line 339, in decode
        obj, end = self.raw_decode(s, idx=_w(s, 0).end())
      File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/decoder.py", line 357, in raw_decode
        raise JSONDecodeError("Expecting value", s, err.value) from None
    json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
[I 180821 15:05:59 ws_handler:73] end connection
[I 180821 15:07:08 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 15:07:08 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 15:07:26 web:2162] 200 GET /message/message (127.0.0.1) 8.36ms
[I 180821 15:07:27 web:2162] 101 GET /ws (127.0.0.1) 1.07ms
[I 180821 15:07:27 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10eb37ba8>
[I 180821 15:07:35 web:2162] 200 GET /message/message (127.0.0.1) 6.05ms
[I 180821 15:07:35 web:2162] 101 GET /ws (127.0.0.1) 0.84ms
[I 180821 15:07:35 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10ebbcb70>
[I 180821 15:08:44 ws_handler:73] end connection
[I 180821 15:08:44 ws_handler:73] end connection
[I 180821 15:15:38 web:2162] 200 GET /message/message (127.0.0.1) 11.58ms
[I 180821 15:15:38 web:2162] 101 GET /ws (127.0.0.1) 1.07ms
[I 180821 15:15:38 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10eb37cc0>
[I 180821 15:15:40 web:2162] 200 GET /message/message (127.0.0.1) 6.65ms
[I 180821 15:15:40 ws_handler:73] end connection
[I 180821 15:15:40 web:2162] 101 GET /ws (127.0.0.1) 1.21ms
[I 180821 15:15:40 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x111557c50>
[I 180821 15:16:01 web:2162] 200 GET /message/message (::1) 11.00ms
[I 180821 15:16:01 web:2162] 101 GET /ws (::1) 0.97ms
[I 180821 15:16:01 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x11160f668>
[I 180821 15:16:40 ws_handler:73] end connection
[I 180821 15:16:46 web:2162] 200 GET /message/message (::1) 6.11ms
[I 180821 15:16:46 ws_handler:73] end connection
[I 180821 15:16:46 web:2162] 200 GET /static/images/face.gif (::1) 27.34ms
[I 180821 15:16:46 web:2162] 200 GET /static/js/jquery.backstretch.min.js (::1) 9.74ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/1.png (::1) 7.70ms
[I 180821 15:16:46 web:2162] 200 GET /static/adminlte/bower_components/jquery/dist/jquery.min.js?v=378087a64e1394fc51f300bb9c11878c (::1) 14.23ms
[I 180821 15:16:46 web:2162] 200 GET /static/css/animate.css?v=bed7ad760e96fc0477fb24f8c7955796 (::1) 7.97ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/useravatars/defaut_avatar.jpeg (::1) 6.14ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/2.png (::1) 1.53ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/3.png (::1) 7.08ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/4.png (::1) 8.88ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/5.png (::1) 7.69ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/6.png (::1) 6.47ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/7.png (::1) 5.32ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/8.png (::1) 4.12ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/9.png (::1) 10.99ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/10.png (::1) 9.48ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/11.png (::1) 19.77ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/arrow.png (::1) 22.31ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/12.png (::1) 20.53ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/13.png (::1) 16.29ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/14.png (::1) 9.55ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/15.png (::1) 7.98ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/angrya_thumb.gif (::1) 6.46ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/88_thumb.gif (::1) 43.47ms
[I 180821 15:16:46 web:2162] 101 GET /ws (::1) 1.03ms
[I 180821 15:16:46 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x111650358>
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/bba_thumb.gif (::1) 53.45ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/bs2_thumb.gif (::1) 49.03ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/bs_thumb.gif (::1) 37.35ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/cj_thumb.gif (::1) 27.31ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/bz_thumb.gif (::1) 22.23ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/cool_thumb.gif (::1) 22.51ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/crazya_thumb.gif (::1) 19.50ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/cry.gif (::1) 15.31ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/cza_thumb.gif (::1) 13.59ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/dizzya_thumb.gif (::1) 11.77ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/gza_thumb.gif (::1) 10.02ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/h_thumb.gif (::1) 15.34ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/hatea_thumb.gif (::1) 18.14ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/heia_thumb.gif (::1) 16.60ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/hsa_thumb.gif (::1) 14.87ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/hufen_thumb.gif (::1) 12.06ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/k_thumb.gif (::1) 8.13ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/kbsa_thumb.gif (::1) 14.68ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/kl_thumb.gif (::1) 11.19ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/laugh.gif (::1) 9.09ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/ldln_thumb.gif (::1) 7.90ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/lovea_thumb.gif (::1) 6.75ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/mb_thumb.gif (::1) 5.05ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/money_thumb.gif (::1) 11.11ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/nm_thumb.gif (::1) 9.85ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/qq_thumb.gif (::1) 8.86ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/sada_thumb.gif (::1) 7.59ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/sb_thumb.gif (::1) 5.99ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/shamea_thumb.gif (::1) 4.65ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/sk_thumb.gif (::1) 12.43ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/sleepa_thumb.gif (::1) 10.54ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/sleepya_thumb.gif (::1) 8.93ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/smilea_thumb.gif (::1) 7.70ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/sw_thumb.gif (::1) 6.36ms
[I 180821 15:16:46 web:2162] 200 GET /static/images/face/sweata_thumb.gif (::1) 4.51ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/t_thumb.gif (::1) 12.55ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/tootha_thumb.gif (::1) 10.68ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/tza_thumb.gif (::1) 7.80ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/wq_thumb.gif (::1) 6.99ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/x_thumb.gif (::1) 5.62ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/yhh_thumb.gif (::1) 4.18ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/zhh_thumb.gif (::1) 14.06ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/yw_thumb.gif (::1) 13.95ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/yx_thumb.gif (::1) 9.81ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/zy_thumb.gif (::1) 7.22ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/good_thumb.gif (::1) 5.92ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/z2_thumb.gif (::1) 4.45ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/come_thumb.gif (::1) 12.05ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/sad_thumb.gif (::1) 11.53ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/no_thumb.gif (::1) 8.02ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/ok_thumb.gif (::1) 7.08ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/ye_thumb.gif (::1) 5.42ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/hearta_thumb.gif (::1) 4.22ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/unheart.gif (::1) 13.14ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/boboshengmenqi_thumb.gif (::1) 13.06ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/bofubianlian_thumb.gif (::1) 11.80ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/cake.gif (::1) 7.08ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/camera_thumb.gif (::1) 5.84ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/cat_yunqizhong_thumb.gif (::1) 4.51ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/cf_thumb.gif (::1) 13.38ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/chn_buyaoya_thumb.gif (::1) 12.64ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/clock_thumb.gif (::1) 11.53ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/daxiongleibenxiong_thumb.gif (::1) 8.14ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/fuyun_thumb.gif (::1) 5.57ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/geili_thumb.gif (::1) 4.50ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/horse2_thumb.gif (::1) 11.69ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/j_thumb.gif (::1) 11.76ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/lazu_thumb.gif (::1) 10.67ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/liwu_thumb.gif (::1) 8.49ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/lxhluguo_thumb.gif (::1) 5.84ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/lxhzhuanfa_thumb.gif (::1) 4.68ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/m_thumb.gif (::1) 13.85ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/otm_thumb.gif (::1) 13.57ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/panda_thumb.gif (::1) 12.33ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/pig.gif (::1) 10.99ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/rabbit_thumb.gif (::1) 6.29ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/vw_thumb.gif (::1) 4.33ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/weijin_thumb.gif (::1) 11.74ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/wg_thumb.gif (::1) 10.95ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/youqian_thumb.gif (::1) 10.77ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/zz2_thumb.gif (::1) 9.15ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/face/gbzkun_thumb.gif (::1) 7.49ms
[I 180821 15:16:47 web:2162] 200 GET /static/images/body_bg.jpg (::1) 6.27ms
[I 180821 15:16:47 web:2162] 200 GET /message/message (127.0.0.1) 9.78ms
[I 180821 15:16:47 web:2162] 101 GET /ws (127.0.0.1) 0.94ms
[I 180821 15:16:47 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10ebe9438>
[I 180821 15:16:50 web:2162] 304 GET / (127.0.0.1) 10.82ms
[I 180821 15:16:53 web:2162] 200 GET /message/message (127.0.0.1) 5.65ms
[I 180821 15:16:53 web:2162] 101 GET /ws (127.0.0.1) 0.86ms
[I 180821 15:16:53 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10ebbce80>
[I 180821 15:17:13 web:2162] 302 GET / (127.0.0.1) 2.89ms
[I 180821 15:17:13 web:2162] 200 GET /login?next=%2F (127.0.0.1) 11.42ms
[I 180821 15:17:13 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.77ms
[I 180821 15:17:27 web:2162] 302 POST /login?next=%2F (127.0.0.1) 4.21ms
[I 180821 15:17:27 web:2162] 200 GET / (127.0.0.1) 10.31ms
[I 180821 15:17:30 web:2162] 200 GET /message/message (127.0.0.1) 6.24ms
[I 180821 15:17:30 web:2162] 101 GET /ws (127.0.0.1) 0.67ms
[I 180821 15:17:30 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x111659908>
[I 180821 15:17:47 ws_handler:73] end connection
[I 180821 15:17:53 ws_handler:73] end connection
[I 180821 15:18:51 ws_handler:73] end connection
[I 180821 15:19:13 ws_handler:73] end connection
[I 180821 15:47:05 web:2162] 200 GET /message/message (127.0.0.1) 9.14ms
[I 180821 15:47:06 web:2162] 200 GET /message/message (127.0.0.1) 7.81ms
[I 180821 15:49:30 web:2162] 200 GET /message/message (127.0.0.1) 7.60ms
[I 180821 15:49:34 web:2162] 200 GET /message/message (127.0.0.1) 7.28ms
[I 180821 15:50:56 web:2162] 200 GET /message/message (127.0.0.1) 7.53ms
[I 180821 15:50:57 web:2162] 200 GET /message/message (127.0.0.1) 7.43ms
[I 180821 15:51:27 web:2162] 304 GET /message/message (127.0.0.1) 11.50ms
[I 180821 15:55:01 web:2162] 200 GET /message/message (127.0.0.1) 6.46ms
[I 180821 15:55:03 web:2162] 101 GET /ws (127.0.0.1) 0.93ms
[I 180821 15:55:03 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x111643dd8>
[E 180821 15:55:06 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 15:55:06 ws_handler:73] end connection
[I 180821 15:56:04 web:2162] 200 GET /message/message (127.0.0.1) 6.14ms
[I 180821 15:56:06 web:2162] 101 GET /ws (127.0.0.1) 1.32ms
[I 180821 15:56:06 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x111650b00>
[E 180821 15:56:09 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 15:56:09 ws_handler:73] end connection
[I 180821 15:56:48 web:2162] 200 GET /message/message (127.0.0.1) 7.74ms
[I 180821 15:56:48 web:2162] 101 GET /ws (127.0.0.1) 1.07ms
[I 180821 15:56:48 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10ec231d0>
[E 180821 15:56:51 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 15:56:51 ws_handler:73] end connection
[I 180821 15:58:07 web:2162] 200 GET /message/message (127.0.0.1) 7.35ms
[I 180821 15:58:08 web:2162] 101 GET /ws (127.0.0.1) 0.97ms
[I 180821 15:58:08 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x11165ccc0>
[E 180821 15:58:11 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 15:58:11 ws_handler:73] end connection
[I 180821 15:59:48 web:2162] 200 GET /message/message (127.0.0.1) 7.85ms
[I 180821 15:59:49 web:2162] 101 GET /ws (127.0.0.1) 0.97ms
[I 180821 15:59:49 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10ec25da0>
[E 180821 15:59:52 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 15:59:52 ws_handler:73] end connection
[I 180821 15:59:56 web:2162] 101 GET /ws (127.0.0.1) 1.02ms
[I 180821 15:59:56 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x111643cc0>
[E 180821 15:59:59 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 15:59:59 ws_handler:73] end connection
[I 180821 16:00:03 web:2162] 101 GET /ws (127.0.0.1) 0.70ms
[I 180821 16:00:03 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10ec25208>
[E 180821 16:00:06 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:00:06 ws_handler:73] end connection
[I 180821 16:00:10 web:2162] 101 GET /ws (127.0.0.1) 0.59ms
[I 180821 16:00:10 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x111580518>
[E 180821 16:00:13 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:00:13 ws_handler:73] end connection
[I 180821 16:00:17 web:2162] 101 GET /ws (127.0.0.1) 0.61ms
[I 180821 16:00:17 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10ec16898>
[E 180821 16:00:20 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:00:20 ws_handler:73] end connection
[I 180821 16:00:24 web:2162] 101 GET /ws (127.0.0.1) 3.70ms
[I 180821 16:00:24 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x11165cba8>
[E 180821 16:00:27 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:00:27 ws_handler:73] end connection
[I 180821 16:00:31 web:2162] 101 GET /ws (127.0.0.1) 0.71ms
[I 180821 16:00:31 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x111692a20>
[E 180821 16:00:34 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:00:34 ws_handler:73] end connection
[I 180821 16:00:38 web:2162] 101 GET /ws (127.0.0.1) 0.58ms
[I 180821 16:00:38 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10ebd9358>
[E 180821 16:00:41 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:00:41 ws_handler:73] end connection
[I 180821 16:00:45 web:2162] 101 GET /ws (127.0.0.1) 1.47ms
[I 180821 16:00:45 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10ebf3128>
[E 180821 16:00:48 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:00:48 ws_handler:73] end connection
[I 180821 16:00:52 web:2162] 101 GET /ws (127.0.0.1) 1.23ms
[I 180821 16:00:52 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x111692198>
[E 180821 16:00:55 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:00:55 ws_handler:73] end connection
[I 180821 16:00:59 web:2162] 101 GET /ws (127.0.0.1) 0.80ms
[I 180821 16:00:59 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10ebd9f98>
[E 180821 16:01:02 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:01:02 ws_handler:73] end connection
[I 180821 16:01:06 web:2162] 101 GET /ws (127.0.0.1) 1.18ms
[I 180821 16:01:06 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x111696390>
[E 180821 16:01:09 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:01:09 ws_handler:73] end connection
[I 180821 16:01:13 web:2162] 101 GET /ws (127.0.0.1) 0.53ms
[I 180821 16:01:13 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x111643e48>
[E 180821 16:01:16 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:01:16 ws_handler:73] end connection
[I 180821 16:01:20 web:2162] 101 GET /ws (127.0.0.1) 1.07ms
[I 180821 16:01:20 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10ec16f98>
[E 180821 16:01:23 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:01:23 ws_handler:73] end connection
[I 180821 16:01:27 web:2162] 101 GET /ws (127.0.0.1) 0.69ms
[I 180821 16:01:27 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10ec25128>
[E 180821 16:01:30 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:01:30 ws_handler:73] end connection
[I 180821 16:01:34 web:2162] 101 GET /ws (127.0.0.1) 0.58ms
[I 180821 16:01:34 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x111650e10>
[E 180821 16:01:37 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:01:37 ws_handler:73] end connection
[I 180821 16:01:41 web:2162] 101 GET /ws (127.0.0.1) 0.73ms
[I 180821 16:01:41 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x111692908>
[E 180821 16:01:44 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:01:44 ws_handler:73] end connection
[I 180821 16:01:48 web:2162] 101 GET /ws (127.0.0.1) 0.54ms
[I 180821 16:01:48 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10ec25d30>
[I 180821 16:01:49 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 16:01:49 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 16:01:53 web:2162] 101 GET /ws (127.0.0.1) 0.95ms
[I 180821 16:01:53 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10e179cc0>
[E 180821 16:01:57 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:01:57 ws_handler:73] end connection
[I 180821 16:01:58 web:2162] 200 GET /message/message (127.0.0.1) 9.33ms
[I 180821 16:01:59 web:2162] 101 GET /ws (127.0.0.1) 2.00ms
[I 180821 16:01:59 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x112030f60>
[E 180821 16:02:02 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:02:02 ws_handler:73] end connection
[I 180821 16:02:06 web:2162] 101 GET /ws (127.0.0.1) 0.59ms
[I 180821 16:02:06 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10e1ff278>
[E 180821 16:02:09 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:02:09 ws_handler:73] end connection
[I 180821 16:02:13 web:2162] 101 GET /ws (127.0.0.1) 0.57ms
[I 180821 16:02:13 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10e241358>
[E 180821 16:02:16 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:02:16 ws_handler:73] end connection
[I 180821 16:03:59 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 16:03:59 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 16:04:21 web:2162] 304 GET / (127.0.0.1) 54.77ms
[I 180821 16:04:23 web:2162] 304 GET /message/message (127.0.0.1) 7.94ms
[I 180821 16:04:23 web:2162] 101 GET /ws (127.0.0.1) 1.13ms
[I 180821 16:04:23 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10de33e80>
[E 180821 16:04:26 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:04:26 ws_handler:73] end connection
[I 180821 16:04:30 web:2162] 101 GET /ws (127.0.0.1) 0.75ms
[I 180821 16:04:30 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x104104f28>
[E 180821 16:04:33 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:04:33 ws_handler:73] end connection
[I 180821 16:04:37 web:2162] 101 GET /ws (127.0.0.1) 0.97ms
[I 180821 16:04:37 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10de5dcf8>
[E 180821 16:04:40 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:04:40 ws_handler:73] end connection
[I 180821 16:04:44 web:2162] 101 GET /ws (127.0.0.1) 0.60ms
[I 180821 16:04:44 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1041872e8>
[E 180821 16:04:47 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:04:47 ws_handler:73] end connection
[I 180821 16:04:51 web:2162] 101 GET /ws (127.0.0.1) 0.86ms
[I 180821 16:04:51 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x104187b70>
[E 180821 16:04:54 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:04:54 ws_handler:73] end connection
[I 180821 16:04:58 web:2162] 101 GET /ws (127.0.0.1) 0.86ms
[I 180821 16:04:58 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x104187cc0>
[E 180821 16:05:01 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:05:01 ws_handler:73] end connection
[I 180821 16:05:05 web:2162] 101 GET /ws (127.0.0.1) 0.55ms
[I 180821 16:05:05 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10de95550>
[E 180821 16:05:08 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:05:08 ws_handler:73] end connection
[I 180821 16:05:12 web:2162] 101 GET /ws (127.0.0.1) 0.53ms
[I 180821 16:05:12 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10de95c50>
[E 180821 16:05:15 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:05:15 ws_handler:73] end connection
[I 180821 16:05:19 web:2162] 101 GET /ws (127.0.0.1) 1.71ms
[I 180821 16:05:19 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10de95a58>
[E 180821 16:05:22 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:05:22 ws_handler:73] end connection
[I 180821 16:05:26 web:2162] 101 GET /ws (127.0.0.1) 1.05ms
[I 180821 16:05:26 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x104187550>
[E 180821 16:05:29 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:05:29 ws_handler:73] end connection
[I 180821 16:05:33 web:2162] 101 GET /ws (127.0.0.1) 1.02ms
[I 180821 16:05:33 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1041b45c0>
[E 180821 16:05:36 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:05:36 ws_handler:73] end connection
[I 180821 16:05:40 web:2162] 101 GET /ws (127.0.0.1) 0.51ms
[I 180821 16:05:40 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1041b4cc0>
[E 180821 16:05:43 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:05:43 ws_handler:73] end connection
[I 180821 16:05:47 web:2162] 101 GET /ws (127.0.0.1) 0.62ms
[I 180821 16:05:47 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10de95198>
[E 180821 16:05:50 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:05:50 ws_handler:73] end connection
[I 180821 16:05:54 web:2162] 101 GET /ws (127.0.0.1) 2.12ms
[I 180821 16:05:54 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10de5dc88>
[E 180821 16:05:57 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:05:57 ws_handler:73] end connection
[I 180821 16:06:02 web:2162] 101 GET /ws (127.0.0.1) 1.73ms
[I 180821 16:06:02 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1041bd400>
[E 180821 16:06:05 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:06:05 ws_handler:73] end connection
[I 180821 16:06:09 web:2162] 101 GET /ws (127.0.0.1) 0.83ms
[I 180821 16:06:09 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x104104ba8>
[E 180821 16:06:12 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:06:12 ws_handler:73] end connection
[I 180821 16:06:16 web:2162] 101 GET /ws (127.0.0.1) 2.32ms
[I 180821 16:06:16 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10de9f390>
[E 180821 16:06:19 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:06:19 ws_handler:73] end connection
[I 180821 16:06:23 web:2162] 101 GET /ws (127.0.0.1) 0.82ms
[I 180821 16:06:23 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1041b4908>
[E 180821 16:06:26 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:06:26 ws_handler:73] end connection
[I 180821 16:06:30 web:2162] 101 GET /ws (127.0.0.1) 0.91ms
[I 180821 16:06:30 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10de9fa90>
[E 180821 16:06:33 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:06:33 ws_handler:73] end connection
[I 180821 16:06:37 web:2162] 101 GET /ws (127.0.0.1) 0.80ms
[I 180821 16:06:37 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10de50470>
[E 180821 16:06:40 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 62, in on_message
        msg.update({
    AttributeError: 'int' object has no attribute 'update'
[I 180821 16:06:40 ws_handler:73] end connection
[I 180821 16:06:44 web:2162] 101 GET /ws (127.0.0.1) 0.50ms
[I 180821 16:06:44 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1041b4080>
[I 180821 16:06:44 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 16:06:44 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 16:06:46 web:2162] 200 GET /message/message (127.0.0.1) 7.95ms
[I 180821 16:06:46 web:2162] 101 GET /ws (127.0.0.1) 2.77ms
[I 180821 16:06:46 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10ece5cc0>
[I 180821 16:06:47 web:2162] 200 GET /favicon.ico (127.0.0.1) 8.90ms
[I 180821 16:06:56 web:2162] 101 GET /ws (127.0.0.1) 0.79ms
[I 180821 16:06:56 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x102aeeb70>
[I 180821 16:06:58 web:2162] 200 GET /message/message (127.0.0.1) 7.85ms
[I 180821 16:06:58 ws_handler:73] end connection
[I 180821 16:06:59 web:2162] 101 GET /ws (127.0.0.1) 1.50ms
[I 180821 16:06:59 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1109eebe0>
[I 180821 16:06:59 web:2162] 200 GET /favicon.ico (127.0.0.1) 8.57ms
[I 180821 16:07:11 ws_handler:73] end connection
[I 180821 16:08:45 web:2162] 304 GET / (127.0.0.1) 22.06ms
[I 180821 16:08:47 web:2162] 200 GET /message/message (127.0.0.1) 6.44ms
[I 180821 16:08:47 web:2162] 101 GET /ws (127.0.0.1) 0.90ms
[I 180821 16:08:47 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x110ab2080>
[I 180821 16:08:56 ws_handler:73] end connection
[I 180821 16:09:15 web:2162] 304 GET / (127.0.0.1) 20.28ms
[I 180821 16:09:17 web:2162] 200 GET /message/message (127.0.0.1) 6.12ms
[I 180821 16:09:17 web:2162] 101 GET /ws (127.0.0.1) 1.00ms
[I 180821 16:09:17 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x102bdf550>
[I 180821 16:09:25 ws_handler:73] end connection
[I 180821 16:10:01 web:2162] 304 GET / (127.0.0.1) 17.43ms
[I 180821 16:10:03 web:2162] 200 GET /message/message (127.0.0.1) 6.38ms
[I 180821 16:10:04 web:2162] 101 GET /ws (127.0.0.1) 2.38ms
[I 180821 16:10:04 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x110aba5c0>
[I 180821 16:10:43 web:2162] 200 GET /message/message (127.0.0.1) 6.03ms
[I 180821 16:10:43 ws_handler:73] end connection
[I 180821 16:10:43 web:2162] 101 GET /ws (127.0.0.1) 1.64ms
[I 180821 16:10:43 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x110acd588>
[I 180821 16:10:43 web:2162] 200 GET /favicon.ico (127.0.0.1) 9.97ms
[I 180821 16:12:36 web:2162] 200 GET /message/message (127.0.0.1) 7.72ms
[I 180821 16:12:36 ws_handler:73] end connection
[I 180821 16:12:37 web:2162] 101 GET /ws (127.0.0.1) 1.04ms
[I 180821 16:12:37 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x110ae7f28>
[I 180821 16:15:03 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 16:15:03 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 16:15:07 web:2162] 101 GET /ws (127.0.0.1) 0.89ms
[I 180821 16:15:07 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x108d4cc88>
[I 180821 16:15:12 ws_handler:73] end connection
[I 180821 16:17:46 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 16:17:46 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 16:17:52 web:2162] 304 GET / (127.0.0.1) 50.58ms
[I 180821 16:17:53 web:2162] 200 GET /message/message (127.0.0.1) 8.31ms
[I 180821 16:17:53 web:2162] 101 GET /ws (127.0.0.1) 1.20ms
[I 180821 16:17:53 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10d115e48>
[I 180821 16:20:10 web:2162] 302 GET /message/message (127.0.0.1) 4.85ms
[I 180821 16:20:10 web:2162] 200 GET /login?next=%2Fmessage%2Fmessage (127.0.0.1) 10.03ms
[I 180821 16:20:18 web:2162] 302 POST /login?next=%2Fmessage%2Fmessage (127.0.0.1) 20.47ms
[I 180821 16:20:18 web:2162] 200 GET /message/message (127.0.0.1) 6.92ms
[I 180821 16:20:18 web:2162] 101 GET /ws (127.0.0.1) 1.02ms
[I 180821 16:20:18 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10395a860>
[I 180821 16:20:22 web:2162] 200 GET /message/message (127.0.0.1) 7.51ms
[I 180821 16:20:22 web:2162] 101 GET /ws (127.0.0.1) 0.96ms
[I 180821 16:20:22 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10d1b0898>
[I 180821 16:20:44 web:2162] 200 GET /message/message (127.0.0.1) 8.63ms
[I 180821 16:20:44 ws_handler:73] end connection
[I 180821 16:20:44 web:2162] 101 GET /ws (127.0.0.1) 0.98ms
[I 180821 16:20:44 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10d1b8358>
[I 180821 16:20:47 web:2162] 200 GET /message/message (127.0.0.1) 6.79ms
[I 180821 16:20:47 ws_handler:73] end connection
[I 180821 16:20:47 web:2162] 101 GET /ws (127.0.0.1) 0.96ms
[I 180821 16:20:47 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10d157978>
[I 180821 16:21:41 web:2162] 200 GET /message/message (127.0.0.1) 9.60ms
[I 180821 16:21:41 ws_handler:73] end connection
[I 180821 16:21:41 web:2162] 101 GET /ws (127.0.0.1) 1.09ms
[I 180821 16:21:41 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10d157e80>
[I 180821 16:21:45 web:2162] 200 GET /message/message (127.0.0.1) 7.19ms
[I 180821 16:21:45 ws_handler:73] end connection
[I 180821 16:21:45 web:2162] 101 GET /ws (127.0.0.1) 1.05ms
[I 180821 16:21:45 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10397e400>
[I 180821 16:21:45 web:2162] 200 GET /favicon.ico (127.0.0.1) 7.93ms
[I 180821 16:21:47 web:2162] 200 GET /message/message (127.0.0.1) 7.25ms
[I 180821 16:21:47 ws_handler:73] end connection
[I 180821 16:21:48 web:2162] 101 GET /ws (127.0.0.1) 0.83ms
[I 180821 16:21:48 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10396ae48>
[I 180821 16:23:00 web:2162] 302 GET /message/message (127.0.0.1) 3.37ms
[I 180821 16:23:00 web:2162] 200 GET /login?next=%2Fmessage%2Fmessage (127.0.0.1) 20.29ms
[I 180821 16:23:00 ws_handler:73] end connection
[I 180821 16:23:09 web:2162] 302 POST /login?next=%2Fmessage%2Fmessage (127.0.0.1) 4.75ms
[I 180821 16:23:09 web:2162] 200 GET /message/message (127.0.0.1) 7.49ms
[I 180821 16:23:09 web:2162] 101 GET /ws (127.0.0.1) 0.87ms
[I 180821 16:23:09 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10d1e1c50>
[I 180821 16:23:29 web:2162] 101 GET /ws (127.0.0.1) 1.13ms
[I 180821 16:23:29 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10a573be0>
[I 180821 16:23:29 web:2162] 101 GET /ws (127.0.0.1) 1.15ms
[I 180821 16:23:29 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x106d34be0>
[I 180821 16:23:30 web:2162] 101 GET /ws (127.0.0.1) 0.94ms
[I 180821 16:23:30 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x106dbaac8>
[I 180821 16:23:46 web:2162] 200 GET /message/message (127.0.0.1) 10.53ms
[I 180821 16:23:46 ws_handler:73] end connection
[I 180821 16:23:46 web:2162] 101 GET /ws (127.0.0.1) 1.32ms
[I 180821 16:23:46 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x106dd62e8>
[I 180821 16:23:49 web:2162] 304 GET /message/message (127.0.0.1) 7.09ms
[I 180821 16:23:49 ws_handler:73] end connection
[I 180821 16:23:49 web:2162] 101 GET /ws (127.0.0.1) 1.51ms
[I 180821 16:23:49 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10a620400>
[I 180821 16:23:50 web:2162] 304 GET /message/message (127.0.0.1) 9.08ms
[I 180821 16:23:50 ws_handler:73] end connection
[I 180821 16:23:50 web:2162] 101 GET /ws (127.0.0.1) 0.58ms
[I 180821 16:23:50 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x106d34588>
[I 180821 16:23:50 web:2162] 200 GET /favicon.ico (127.0.0.1) 8.09ms
[I 180821 16:24:36 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 16:24:36 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 16:24:40 web:2162] 101 GET /ws (127.0.0.1) 0.79ms
[I 180821 16:24:40 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x108c4cc88>
[I 180821 16:24:40 web:2162] 101 GET /ws (127.0.0.1) 0.89ms
[I 180821 16:24:40 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x108cd5be0>
[I 180821 16:24:40 web:2162] 101 GET /ws (127.0.0.1) 1.47ms
[I 180821 16:24:40 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x104fedbe0>
[I 180821 16:24:46 web:2162] 200 GET /message/message (127.0.0.1) 8.21ms
[I 180821 16:24:46 ws_handler:73] end connection
[I 180821 16:24:46 web:2162] 101 GET /ws (127.0.0.1) 0.89ms
[I 180821 16:24:46 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10508f9b0>
[I 180821 16:24:48 web:2162] 304 GET /message/message (127.0.0.1) 9.11ms
[I 180821 16:24:48 ws_handler:73] end connection
[I 180821 16:24:48 web:2162] 101 GET /ws (127.0.0.1) 1.35ms
[I 180821 16:24:48 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x108d202b0>
[I 180821 16:24:48 web:2162] 200 GET /favicon.ico (127.0.0.1) 9.44ms
[I 180821 16:24:50 web:2162] 304 GET /message/message (127.0.0.1) 7.41ms
[I 180821 16:24:50 ws_handler:73] end connection
[I 180821 16:24:50 web:2162] 101 GET /ws (127.0.0.1) 0.81ms
[I 180821 16:24:50 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x108cf1c88>
[I 180821 16:25:23 web:2162] 200 GET /message/message (127.0.0.1) 7.65ms
[I 180821 16:25:23 ws_handler:73] end connection
[I 180821 16:25:24 web:2162] 101 GET /ws (127.0.0.1) 0.57ms
[I 180821 16:25:24 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1050fe278>
[I 180821 16:25:24 web:2162] 200 GET /favicon.ico (127.0.0.1) 8.45ms
[I 180821 16:25:27 web:2162] 200 GET /message/message (127.0.0.1) 7.57ms
[I 180821 16:25:27 ws_handler:73] end connection
[I 180821 16:25:27 web:2162] 101 GET /ws (127.0.0.1) 0.64ms
[I 180821 16:25:27 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x108d38668>
[I 180821 16:25:29 web:2162] 304 GET /message/message (127.0.0.1) 7.37ms
[I 180821 16:25:29 ws_handler:73] end connection
[I 180821 16:25:29 web:2162] 101 GET /ws (127.0.0.1) 0.96ms
[I 180821 16:25:29 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x108d5f5f8>
[I 180821 16:25:30 web:2162] 304 GET /message/message (127.0.0.1) 7.43ms
[I 180821 16:25:30 ws_handler:73] end connection
[I 180821 16:25:30 web:2162] 101 GET /ws (127.0.0.1) 1.16ms
[I 180821 16:25:30 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x108d5fcc0>
[I 180821 16:25:33 web:2162] 200 GET /message/message (127.0.0.1) 6.71ms
[I 180821 16:25:33 ws_handler:73] end connection
[I 180821 16:25:33 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.29ms
[I 180821 16:25:33 web:2162] 101 GET /ws (127.0.0.1) 1.04ms
[I 180821 16:25:33 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1050194e0>
[I 180821 16:25:33 web:2162] 304 GET /message/message (127.0.0.1) 7.45ms
[I 180821 16:25:33 ws_handler:73] end connection
[I 180821 16:25:33 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.30ms
[I 180821 16:25:33 web:2162] 101 GET /ws (127.0.0.1) 0.66ms
[I 180821 16:25:33 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x108d5f358>
[I 180821 16:25:38 web:2162] 200 GET /message/message (127.0.0.1) 7.62ms
[I 180821 16:25:38 ws_handler:73] end connection
[I 180821 16:25:38 web:2162] 101 GET /ws (127.0.0.1) 0.99ms
[I 180821 16:25:38 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x108d38c18>
[I 180821 16:26:26 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 16:26:26 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 16:26:30 web:2162] 101 GET /ws (127.0.0.1) 0.82ms
[I 180821 16:26:30 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x108092c50>
[I 180821 16:26:30 web:2162] 101 GET /ws (127.0.0.1) 1.11ms
[I 180821 16:26:30 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10ae13be0>
[I 180821 16:26:30 web:2162] 101 GET /ws (127.0.0.1) 0.82ms
[I 180821 16:26:30 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10811bbe0>
[I 180821 16:26:34 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 16:26:34 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 16:26:38 web:2162] 101 GET /ws (127.0.0.1) 1.01ms
[I 180821 16:26:38 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1094a2c88>
[I 180821 16:26:38 web:2162] 101 GET /ws (127.0.0.1) 1.50ms
[I 180821 16:26:38 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10b583ba8>
[I 180821 16:26:38 web:2162] 101 GET /ws (127.0.0.1) 2.27ms
[I 180821 16:26:38 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10952bba8>
[I 180821 16:26:45 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 16:26:45 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 16:26:49 web:2162] 101 GET /ws (127.0.0.1) 0.85ms
[I 180821 16:26:49 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10794ec88>
[I 180821 16:26:49 web:2162] 101 GET /ws (127.0.0.1) 0.85ms
[I 180821 16:26:49 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10a86bb70>
[I 180821 16:26:50 web:2162] 101 GET /ws (127.0.0.1) 0.60ms
[I 180821 16:26:50 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x1079d7b38>
[I 180821 16:26:55 web:2162] 101 GET /ws (127.0.0.1) 1.43ms
[I 180821 16:26:55 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x108f85ba8>
[I 180821 16:26:55 web:2162] 101 GET /ws (127.0.0.1) 0.79ms
[I 180821 16:26:55 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10f866ba8>
[I 180821 16:26:55 web:2162] 101 GET /ws (127.0.0.1) 0.60ms
[I 180821 16:26:55 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10900bb70>
[I 180821 16:26:59 web:2162] 200 GET /message/message (127.0.0.1) 7.97ms
[I 180821 16:26:59 ws_handler:73] end connection
[I 180821 16:26:59 web:2162] 101 GET /ws (127.0.0.1) 2.02ms
[I 180821 16:26:59 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x109027320>
[I 180821 16:27:01 web:2162] 200 GET /message/message (127.0.0.1) 7.34ms
[I 180821 16:27:01 ws_handler:73] end connection
[I 180821 16:27:01 web:2162] 101 GET /ws (127.0.0.1) 1.18ms
[I 180821 16:27:01 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10f913438>
[I 180821 16:27:01 web:2162] 200 GET /favicon.ico (127.0.0.1) 8.57ms
[I 180821 16:27:03 web:2162] 200 GET /message/message (127.0.0.1) 8.05ms
[I 180821 16:27:03 ws_handler:73] end connection
[I 180821 16:27:04 web:2162] 101 GET /ws (127.0.0.1) 0.85ms
[I 180821 16:27:04 ws_handler:56] start a connection with <handlers.ws.ws_handler.WebSocketHandler object at 0x10908c320>
[I 180821 16:49:29 web:2162] 200 GET /message/message (127.0.0.1) 7.12ms
[I 180821 16:49:29 web:2162] 101 GET /ws (127.0.0.1) 1.26ms
[I 180821 16:49:59 web:2162] 302 GET / (127.0.0.1) 2.16ms
[I 180821 16:49:59 web:2162] 200 GET /login?next=%2F (127.0.0.1) 10.70ms
[I 180821 16:50:00 web:2162] 200 GET /favicon.ico (127.0.0.1) 13.88ms
[I 180821 16:50:04 web:2162] 302 POST /login?next=%2F (127.0.0.1) 4.37ms
[I 180821 16:50:04 web:2162] 200 GET / (127.0.0.1) 26.09ms
[I 180821 16:50:05 web:2162] 200 GET /message/message (127.0.0.1) 7.44ms
[I 180821 16:50:05 web:2162] 101 GET /ws (127.0.0.1) 0.90ms
[I 180821 16:50:50 web:2162] 304 GET / (127.0.0.1) 38.51ms
[I 180821 16:50:53 web:2162] 101 GET /ws (127.0.0.1) 0.73ms
[E 180821 16:50:53 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180821 16:50:55 web:2162] 200 GET /login (127.0.0.1) 8.49ms
[I 180821 16:50:57 web:2162] 101 GET /ws (127.0.0.1) 0.81ms
[E 180821 16:50:57 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180821 16:51:01 web:2162] 101 GET /ws (127.0.0.1) 0.74ms
[E 180821 16:51:01 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180821 16:51:02 web:2162] 302 POST /login (127.0.0.1) 5.86ms
[I 180821 16:51:02 web:2162] 200 GET / (127.0.0.1) 13.71ms
[I 180821 16:51:05 web:2162] 101 GET /ws (127.0.0.1) 0.74ms
[E 180821 16:51:05 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180821 16:51:07 web:2162] 302 GET /message/message (127.0.0.1) 3.56ms
[I 180821 16:51:07 web:2162] 200 GET /login?next=%2Fmessage%2Fmessage (127.0.0.1) 8.47ms
[I 180821 16:51:13 web:2162] 302 POST /login?next=%2Fmessage%2Fmessage (127.0.0.1) 4.33ms
[I 180821 16:51:13 web:2162] 200 GET /message/message (127.0.0.1) 7.43ms
[I 180821 16:51:13 web:2162] 101 GET /ws (127.0.0.1) 0.51ms
[I 180821 16:51:16 web:2162] 200 GET /message/message (127.0.0.1) 6.51ms
[I 180821 16:51:16 web:2162] 101 GET /ws (127.0.0.1) 1.10ms
[I 180821 16:51:42 web:2162] 200 GET /message/message (127.0.0.1) 11.03ms
[I 180821 16:51:42 web:2162] 101 GET /ws (127.0.0.1) 0.79ms
[I 180821 16:51:42 web:2162] 200 GET /favicon.ico (127.0.0.1) 10.00ms
[I 180821 16:51:48 web:2162] 200 GET /message/message (127.0.0.1) 8.30ms
[I 180821 16:51:49 web:2162] 101 GET /ws (127.0.0.1) 0.84ms
[E 180821 16:52:02 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='127.0.0.1:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 181, in on_message
        v.write_message(message)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180821 16:52:06 web:2162] 101 GET /ws (127.0.0.1) 0.54ms
[I 180821 16:52:22 web:2162] 200 GET /login (127.0.0.1) 8.44ms
[I 180821 16:52:29 web:2162] 200 GET /register (127.0.0.1) 13.37ms
[I 180821 16:52:36 web:2162] 302 POST /register (127.0.0.1) 7.35ms
[I 180821 16:52:36 web:2162] 304 GET /login (127.0.0.1) 7.38ms
[I 180821 16:52:42 web:2162] 302 POST /login (127.0.0.1) 6.04ms
[E 180821 16:52:42 web:1670] Uncaught exception GET / (127.0.0.1)
    HTTPServerRequest(protocol='http', host='127.0.0.1:10000', method='GET', uri='/', version='HTTP/1.0', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1590, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 3006, in wrapper
        return method(self, *args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 26, in get
        user_posts = User.get_current_user_post(self.current_user)
      File "/Users/apple/PycharmProjects/work/todo/models/auth/model.py", line 24, in get_current_user_post
        return user.posts
    AttributeError: 'NoneType' object has no attribute 'posts'
[E 180821 16:52:42 web:2162] 500 GET / (127.0.0.1) 10.13ms
[I 180821 16:52:45 web:2162] 200 GET / (127.0.0.1) 10.81ms
[I 180821 16:52:45 web:2162] 200 GET /favicon.ico (127.0.0.1) 3.14ms
[I 180821 16:52:48 web:2162] 304 GET / (127.0.0.1) 11.82ms
[I 180821 16:52:48 web:2162] 200 GET /favicon.ico (127.0.0.1) 3.03ms
[I 180821 16:52:51 web:2162] 200 GET /message/message (127.0.0.1) 7.38ms
[I 180821 16:52:51 web:2162] 101 GET /ws (127.0.0.1) 0.95ms
[E 180821 16:52:51 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='127.0.0.1:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
    AttributeError: 'NoneType' object has no attribute 'name'
[I 180821 16:52:55 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[E 180821 16:52:55 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='127.0.0.1:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
    AttributeError: 'NoneType' object has no attribute 'name'
[I 180821 16:52:59 web:2162] 101 GET /ws (127.0.0.1) 0.65ms
[I 180821 16:53:00 web:2162] 200 GET /message/message (127.0.0.1) 7.61ms
[I 180821 16:53:00 web:2162] 101 GET /ws (127.0.0.1) 0.64ms
[E 180821 16:53:00 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='127.0.0.1:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
    AttributeError: 'NoneType' object has no attribute 'name'
[I 180821 16:53:00 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.82ms
[I 180821 16:53:01 web:2162] 200 GET /message/message (127.0.0.1) 5.59ms
[I 180821 16:53:01 web:2162] 101 GET /ws (127.0.0.1) 0.76ms
[I 180821 16:53:01 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.43ms
[I 180821 16:53:02 web:2162] 200 GET /message/message (127.0.0.1) 8.99ms
[I 180821 16:53:02 web:2162] 101 GET /ws (127.0.0.1) 0.89ms
[E 180821 16:53:02 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='127.0.0.1:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
    AttributeError: 'NoneType' object has no attribute 'name'
[I 180821 16:53:02 web:2162] 200 GET /favicon.ico (127.0.0.1) 6.04ms
[I 180821 16:53:03 web:2162] 200 GET /message/message (127.0.0.1) 5.86ms
[I 180821 16:53:03 web:2162] 101 GET /ws (127.0.0.1) 0.87ms
[I 180821 16:53:03 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.08ms
[I 180821 16:53:03 web:2162] 200 GET /message/message (127.0.0.1) 6.61ms
[I 180821 16:53:03 web:2162] 101 GET /ws (127.0.0.1) 1.08ms
[E 180821 16:53:03 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='127.0.0.1:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
    AttributeError: 'NoneType' object has no attribute 'name'
[I 180821 16:53:04 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.40ms
[I 180821 16:53:07 web:2162] 101 GET /ws (127.0.0.1) 1.25ms
[E 180821 16:53:07 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='127.0.0.1:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
    AttributeError: 'NoneType' object has no attribute 'name'
[I 180821 16:53:11 web:2162] 101 GET /ws (127.0.0.1) 0.78ms
[I 180821 16:53:13 web:2162] 200 GET /message/message (127.0.0.1) 7.88ms
[I 180821 16:53:13 web:2162] 101 GET /ws (127.0.0.1) 0.82ms
[I 180821 16:53:14 web:2162] 304 GET /message/message (127.0.0.1) 6.80ms
[I 180821 16:53:14 web:2162] 101 GET /ws (127.0.0.1) 0.73ms
[I 180821 16:53:15 web:2162] 304 GET /message/message (127.0.0.1) 6.93ms
[I 180821 16:53:15 web:2162] 101 GET /ws (127.0.0.1) 0.50ms
[I 180821 16:53:17 web:2162] 304 GET /message/message (127.0.0.1) 8.14ms
[I 180821 16:53:17 web:2162] 101 GET /ws (127.0.0.1) 0.88ms
[I 180821 16:53:19 web:2162] 304 GET /message/message (127.0.0.1) 9.46ms
[I 180821 16:53:19 web:2162] 101 GET /ws (127.0.0.1) 1.19ms
[I 180821 16:53:21 web:2162] 200 GET /message/message (127.0.0.1) 9.64ms
[I 180821 16:53:21 web:2162] 101 GET /ws (127.0.0.1) 0.92ms
[E 180821 16:53:30 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='127.0.0.1:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 181, in on_message
        v.write_message(message)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180821 16:53:34 web:2162] 101 GET /ws (127.0.0.1) 0.62ms
[E 180821 16:53:34 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='127.0.0.1:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
    AttributeError: 'NoneType' object has no attribute 'name'
[I 180821 16:53:38 web:2162] 101 GET /ws (127.0.0.1) 0.61ms
[E 180821 16:53:54 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 181, in on_message
        v.write_message(message)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180821 16:53:59 web:2162] 101 GET /ws (127.0.0.1) 1.21ms
[E 180821 16:53:59 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 181, in on_message
        v.write_message(message)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180821 16:54:03 web:2162] 101 GET /ws (127.0.0.1) 1.02ms
[I 180821 16:55:43 web:2162] 200 GET /message/message (127.0.0.1) 7.64ms
[I 180821 16:55:43 web:2162] 101 GET /ws (127.0.0.1) 1.62ms
[E 180821 16:55:43 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='127.0.0.1:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
    AttributeError: 'NoneType' object has no attribute 'name'
[I 180821 16:55:45 web:2162] 200 GET /message/message (127.0.0.1) 7.28ms
[I 180821 16:55:46 web:2162] 101 GET /ws (127.0.0.1) 0.74ms
[I 180821 16:55:47 web:2162] 101 GET /ws (127.0.0.1) 1.04ms
[E 180821 16:55:47 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='127.0.0.1:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
    AttributeError: 'NoneType' object has no attribute 'name'
[I 180821 16:55:48 web:2162] 200 GET /message/message (127.0.0.1) 6.74ms
[I 180821 16:55:48 web:2162] 101 GET /ws (127.0.0.1) 0.81ms
[I 180821 16:55:51 web:2162] 101 GET /ws (127.0.0.1) 0.85ms
[E 180821 16:55:51 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='127.0.0.1:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
    AttributeError: 'NoneType' object has no attribute 'name'
[I 180821 16:55:53 web:2162] 200 GET /message/message (127.0.0.1) 11.11ms
[I 180821 16:55:53 web:2162] 101 GET /ws (127.0.0.1) 1.01ms
[I 180821 16:55:55 web:2162] 101 GET /ws (127.0.0.1) 0.75ms
[E 180821 16:55:55 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='127.0.0.1:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
    AttributeError: 'NoneType' object has no attribute 'name'
[I 180821 16:55:59 web:2162] 101 GET /ws (127.0.0.1) 0.84ms
[E 180821 16:55:59 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='127.0.0.1:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
    AttributeError: 'NoneType' object has no attribute 'name'
[I 180821 16:56:03 web:2162] 101 GET /ws (127.0.0.1) 0.50ms
[E 180821 16:56:45 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 181, in on_message
        v.write_message(message)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180821 16:56:49 web:2162] 101 GET /ws (127.0.0.1) 0.46ms
[E 180821 16:57:01 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='127.0.0.1:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 181, in on_message
        v.write_message(message)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180821 16:57:05 web:2162] 101 GET /ws (127.0.0.1) 0.59ms
[E 180821 16:57:05 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='127.0.0.1:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
    AttributeError: 'NoneType' object has no attribute 'name'
[I 180821 16:57:09 web:2162] 101 GET /ws (127.0.0.1) 0.63ms
[E 180821 16:57:09 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='127.0.0.1:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
    AttributeError: 'NoneType' object has no attribute 'name'
[I 180821 16:57:13 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[I 180821 16:59:39 web:2162] 200 GET /message/message (127.0.0.1) 7.37ms
[I 180821 16:59:39 web:2162] 101 GET /ws (127.0.0.1) 1.95ms
[I 180821 17:02:42 web:2162] 200 GET /message/message (127.0.0.1) 11.11ms
[I 180821 17:02:43 web:2162] 101 GET /ws (127.0.0.1) 0.91ms
[E 180821 17:02:43 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='127.0.0.1:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
    AttributeError: 'NoneType' object has no attribute 'name'
[I 180821 17:02:45 web:2162] 200 GET /message/message (127.0.0.1) 7.77ms
[I 180821 17:02:46 web:2162] 101 GET /ws (127.0.0.1) 2.50ms
[E 180821 17:02:46 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='127.0.0.1:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
    AttributeError: 'NoneType' object has no attribute 'name'
[I 180821 17:02:50 web:2162] 101 GET /ws (127.0.0.1) 0.84ms
[E 180821 17:02:51 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='127.0.0.1:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 181, in on_message
        v.write_message(message)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180821 17:02:55 web:2162] 101 GET /ws (127.0.0.1) 0.79ms
[E 180821 17:02:55 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='127.0.0.1:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
    AttributeError: 'NoneType' object has no attribute 'name'
[I 180821 17:02:59 web:2162] 101 GET /ws (127.0.0.1) 3.73ms
[E 180821 17:03:05 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='127.0.0.1:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 181, in on_message
        v.write_message(message)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180821 17:03:09 web:2162] 101 GET /ws (127.0.0.1) 0.77ms
[E 180821 17:03:09 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='127.0.0.1:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
    AttributeError: 'NoneType' object has no attribute 'name'
[I 180821 17:03:13 web:2162] 101 GET /ws (127.0.0.1) 0.53ms
[I 180821 17:04:19 web:2162] 200 GET /message/message (127.0.0.1) 7.77ms
[I 180821 17:04:19 web:2162] 101 GET /ws (127.0.0.1) 0.91ms
[E 180821 17:04:19 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='127.0.0.1:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
    AttributeError: 'NoneType' object has no attribute 'name'
[I 180821 17:04:24 web:2162] 101 GET /ws (127.0.0.1) 0.93ms
[E 180821 17:04:24 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='127.0.0.1:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
    AttributeError: 'NoneType' object has no attribute 'name'
[I 180821 17:04:29 web:2162] 101 GET /ws (127.0.0.1) 0.94ms
[I 180821 17:04:33 web:2162] 200 GET /message/message (127.0.0.1) 8.09ms
[I 180821 17:04:33 web:2162] 101 GET /ws (127.0.0.1) 0.93ms
[E 180821 17:04:33 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='127.0.0.1:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
    AttributeError: 'NoneType' object has no attribute 'name'
[I 180821 17:04:37 web:2162] 101 GET /ws (127.0.0.1) 0.55ms
[I 180821 17:05:23 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 17:05:23 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 17:05:27 web:2162] 101 GET /ws (127.0.0.1) 0.73ms
[I 180821 17:05:28 web:2162] 101 GET /ws (127.0.0.1) 0.60ms
[I 180821 17:05:28 web:2162] 101 GET /ws (127.0.0.1) 0.98ms
[I 180821 17:05:28 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[I 180821 17:05:33 web:2162] 101 GET /ws (127.0.0.1) 0.82ms
[I 180821 17:05:33 web:2162] 101 GET /ws (127.0.0.1) 0.80ms
[I 180821 17:05:33 web:2162] 101 GET /ws (127.0.0.1) 0.85ms
[I 180821 17:05:33 web:2162] 101 GET /ws (127.0.0.1) 0.58ms
[I 180821 17:05:37 web:2162] 200 GET /message/message (127.0.0.1) 9.74ms
[I 180821 17:05:37 web:2162] 101 GET /ws (127.0.0.1) 0.83ms
[I 180821 17:12:02 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 17:12:02 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 17:13:23 web:2162] 200 GET /message/message (127.0.0.1) 12.15ms
[I 180821 17:13:23 web:2162] 101 GET /ws (127.0.0.1) 1.07ms
[I 180821 17:13:29 web:2162] 200 GET /message/message (127.0.0.1) 11.45ms
[I 180821 17:13:30 web:2162] 101 GET /ws (127.0.0.1) 0.65ms
[I 180821 17:13:34 web:2162] 200 GET /message/message (127.0.0.1) 6.58ms
[I 180821 17:13:34 web:2162] 101 GET /ws (127.0.0.1) 0.84ms
[I 180821 17:13:41 web:2162] 200 GET /message/message (127.0.0.1) 6.32ms
[I 180821 17:13:42 web:2162] 101 GET /ws (127.0.0.1) 0.77ms
[I 180821 17:15:18 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 17:15:18 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 17:15:22 web:2162] 101 GET /ws (127.0.0.1) 0.81ms
[I 180821 17:15:22 web:2162] 101 GET /ws (127.0.0.1) 1.74ms
[I 180821 17:15:22 web:2162] 101 GET /ws (127.0.0.1) 0.91ms
[I 180821 17:15:22 web:2162] 101 GET /ws (127.0.0.1) 0.52ms
[I 180821 17:15:34 web:2162] 101 GET /ws (127.0.0.1) 1.14ms
[I 180821 17:15:34 web:2162] 101 GET /ws (127.0.0.1) 1.28ms
[I 180821 17:15:34 web:2162] 101 GET /ws (127.0.0.1) 0.79ms
[I 180821 17:15:34 web:2162] 101 GET /ws (127.0.0.1) 0.82ms
[I 180821 17:17:08 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 17:17:08 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 17:17:24 web:2162] 101 GET /ws (127.0.0.1) 0.67ms
[I 180821 17:17:24 web:2162] 101 GET /ws (127.0.0.1) 0.85ms
[I 180821 17:17:25 web:2162] 101 GET /ws (127.0.0.1) 0.63ms
[I 180821 17:17:25 web:2162] 101 GET /ws (127.0.0.1) 0.75ms
[I 180821 17:17:55 web:2162] 200 GET /message/message (127.0.0.1) 9.09ms
[I 180821 17:17:56 web:2162] 101 GET /ws (127.0.0.1) 0.94ms
[I 180821 17:18:06 message_handler:181] 聊天室人数：3
[I 180821 17:18:14 web:2162] 200 GET /message/message (127.0.0.1) 7.03ms
[I 180821 17:18:14 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[I 180821 17:18:19 web:2162] 200 GET /message/message (127.0.0.1) 7.39ms
[I 180821 17:18:19 web:2162] 101 GET /ws (127.0.0.1) 0.89ms
[I 180821 17:18:22 message_handler:181] 聊天室人数：2
[E 180821 17:18:22 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 183, in on_message
        v.write_message(message)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180821 17:18:26 web:2162] 101 GET /ws (127.0.0.1) 0.81ms
[I 180821 17:18:30 message_handler:181] 聊天室人数：2
[E 180821 17:18:30 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 183, in on_message
        v.write_message(message)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180821 17:18:34 web:2162] 101 GET /ws (127.0.0.1) 0.82ms
[I 180821 17:18:38 message_handler:181] 聊天室人数：3
[I 180821 17:18:51 message_handler:181] 聊天室人数：3
[I 180821 17:19:34 web:2162] 302 GET / (127.0.0.1) 3.58ms
[I 180821 17:19:34 web:2162] 200 GET /login?next=%2F (127.0.0.1) 13.76ms
[I 180821 17:19:34 web:2162] 200 GET /favicon.ico (127.0.0.1) 8.15ms
[I 180821 17:19:43 web:2162] 302 POST /login?next=%2F (127.0.0.1) 4.36ms
[I 180821 17:19:43 web:2162] 200 GET / (127.0.0.1) 10.68ms
[I 180821 17:19:44 web:2162] 200 GET /message/message (127.0.0.1) 8.05ms
[I 180821 17:19:45 web:2162] 101 GET /ws (127.0.0.1) 1.20ms
[I 180821 17:19:53 message_handler:181] 聊天室人数：4
[I 180821 17:20:05 message_handler:181] 聊天室人数：4
[I 180821 17:20:14 message_handler:181] 聊天室人数：4
[I 180821 17:20:20 message_handler:181] 聊天室人数：4
[I 180821 17:20:24 message_handler:181] 聊天室人数：4
[I 180821 17:22:54 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 17:22:54 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 17:23:00 web:2162] 101 GET /ws (127.0.0.1) 1.35ms
[I 180821 17:23:06 web:2162] 101 GET /ws (127.0.0.1) 2.02ms
[I 180821 17:23:09 web:2162] 101 GET /ws (127.0.0.1) 0.46ms
[I 180821 17:23:18 web:2162] 101 GET /ws (127.0.0.1) 0.74ms
[I 180821 17:23:18 web:2162] 101 GET /ws (127.0.0.1) 1.14ms
[I 180821 17:23:18 web:2162] 101 GET /ws (127.0.0.1) 1.50ms
[I 180821 17:23:19 web:2162] 200 GET /message/message (127.0.0.1) 9.36ms
[I 180821 17:23:20 web:2162] 101 GET /ws (127.0.0.1) 1.10ms
[I 180821 17:24:56 web:2162] 200 GET /message/message (127.0.0.1) 10.35ms
[I 180821 17:24:57 web:2162] 101 GET /ws (127.0.0.1) 1.06ms
[I 180821 17:25:10 web:2162] 200 GET /message/message (127.0.0.1) 6.68ms
[I 180821 17:25:11 web:2162] 101 GET /ws (127.0.0.1) 0.80ms
[I 180821 17:25:23 web:2162] 200 GET /message/message (127.0.0.1) 8.81ms
[I 180821 17:25:23 web:2162] 101 GET /ws (127.0.0.1) 0.82ms
[I 180821 17:25:27 web:2162] 200 GET /message/message (127.0.0.1) 7.60ms
[I 180821 17:25:27 web:2162] 101 GET /ws (127.0.0.1) 1.37ms
[I 180821 17:25:29 web:2162] 200 GET /message/message (127.0.0.1) 7.44ms
[I 180821 17:25:29 web:2162] 101 GET /ws (127.0.0.1) 0.64ms
[I 180821 17:25:36 web:2162] 304 GET /message/message (127.0.0.1) 7.45ms
[I 180821 17:25:37 web:2162] 101 GET /ws (127.0.0.1) 0.79ms
[I 180821 17:25:41 message_handler:182] 聊天室人数：4
[I 180821 17:26:36 web:2162] 200 GET /message/message (127.0.0.1) 7.84ms
[I 180821 17:26:36 web:2162] 101 GET /ws (127.0.0.1) 0.85ms
[I 180821 17:27:16 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 17:27:16 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 17:27:23 web:2162] 101 GET /ws (127.0.0.1) 1.91ms
[I 180821 17:27:28 web:2162] 101 GET /ws (127.0.0.1) 0.51ms
[I 180821 17:27:28 web:2162] 101 GET /ws (127.0.0.1) 0.70ms
[I 180821 17:27:31 message_handler:64] Bad message (TypeError('not all arguments converted during string formatting',)): {'name': 'root', 'msg': 2, 'args': ('////11',), 'levelname': 'INFO', 'levelno': 20, 'pathname': '/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py', 'filename': 'message_handler.py', 'module': 'message_handler', 'exc_info': None, 'exc_text': None, 'stack_info': None, 'lineno': 64, 'funcName': 'get', 'created': 1534843651.353326, 'msecs': 353.32608222961426, 'relativeCreated': 9781.703233718872, 'thread': 140735304577024, 'threadName': 'MainThread', 'processName': 'MainProcess', 'process': 70387}
[I 180821 17:27:31 web:2162] 200 GET /message/message (127.0.0.1) 11.82ms
[I 180821 17:27:31 web:2162] 101 GET /ws (127.0.0.1) 1.41ms
[I 180821 17:27:38 message_handler:64] Bad message (TypeError('not all arguments converted during string formatting',)): {'name': 'root', 'msg': 3, 'args': ('////11',), 'levelname': 'INFO', 'levelno': 20, 'pathname': '/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py', 'filename': 'message_handler.py', 'module': 'message_handler', 'exc_info': None, 'exc_text': None, 'stack_info': None, 'lineno': 64, 'funcName': 'get', 'created': 1534843658.559867, 'msecs': 559.8669052124023, 'relativeCreated': 16988.24405670166, 'thread': 140735304577024, 'threadName': 'MainThread', 'processName': 'MainProcess', 'process': 70387}
[I 180821 17:27:38 web:2162] 200 GET /message/message (127.0.0.1) 6.56ms
[I 180821 17:27:38 web:2162] 101 GET /ws (127.0.0.1) 0.50ms
[I 180821 17:27:40 message_handler:64] Bad message (TypeError('not all arguments converted during string formatting',)): {'name': 'root', 'msg': 3, 'args': ('////11',), 'levelname': 'INFO', 'levelno': 20, 'pathname': '/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py', 'filename': 'message_handler.py', 'module': 'message_handler', 'exc_info': None, 'exc_text': None, 'stack_info': None, 'lineno': 64, 'funcName': 'get', 'created': 1534843660.83027, 'msecs': 830.2700519561768, 'relativeCreated': 19258.647203445435, 'thread': 140735304577024, 'threadName': 'MainThread', 'processName': 'MainProcess', 'process': 70387}
[I 180821 17:27:40 web:2162] 200 GET /message/message (127.0.0.1) 7.13ms
[I 180821 17:27:41 web:2162] 101 GET /ws (127.0.0.1) 0.76ms
[I 180821 17:27:51 message_handler:64] Bad message (TypeError('not all arguments converted during string formatting',)): {'name': 'root', 'msg': 3, 'args': ('////11',), 'levelname': 'INFO', 'levelno': 20, 'pathname': '/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py', 'filename': 'message_handler.py', 'module': 'message_handler', 'exc_info': None, 'exc_text': None, 'stack_info': None, 'lineno': 64, 'funcName': 'get', 'created': 1534843671.9124339, 'msecs': 912.4338626861572, 'relativeCreated': 30340.811014175415, 'thread': 140735304577024, 'threadName': 'MainThread', 'processName': 'MainProcess', 'process': 70387}
[I 180821 17:27:51 web:2162] 200 GET /message/message (127.0.0.1) 13.05ms
[I 180821 17:27:51 web:2162] 101 GET /ws (127.0.0.1) 0.85ms
[I 180821 17:27:56 message_handler:64] Bad message (TypeError('not all arguments converted during string formatting',)): {'name': 'root', 'msg': 3, 'args': ('////11',), 'levelname': 'INFO', 'levelno': 20, 'pathname': '/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py', 'filename': 'message_handler.py', 'module': 'message_handler', 'exc_info': None, 'exc_text': None, 'stack_info': None, 'lineno': 64, 'funcName': 'get', 'created': 1534843676.464635, 'msecs': 464.63489532470703, 'relativeCreated': 34893.012046813965, 'thread': 140735304577024, 'threadName': 'MainThread', 'processName': 'MainProcess', 'process': 70387}
[I 180821 17:27:56 web:2162] 200 GET /message/message (127.0.0.1) 9.20ms
[I 180821 17:27:56 web:2162] 101 GET /ws (127.0.0.1) 0.98ms
[I 180821 17:28:01 message_handler:64] Bad message (TypeError('not all arguments converted during string formatting',)): {'name': 'root', 'msg': 3, 'args': ('////11',), 'levelname': 'INFO', 'levelno': 20, 'pathname': '/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py', 'filename': 'message_handler.py', 'module': 'message_handler', 'exc_info': None, 'exc_text': None, 'stack_info': None, 'lineno': 64, 'funcName': 'get', 'created': 1534843681.025773, 'msecs': 25.773048400878906, 'relativeCreated': 39454.15019989014, 'thread': 140735304577024, 'threadName': 'MainThread', 'processName': 'MainProcess', 'process': 70387}
[I 180821 17:28:01 web:2162] 304 GET /message/message (127.0.0.1) 7.25ms
[I 180821 17:28:01 web:2162] 101 GET /ws (127.0.0.1) 0.53ms
[I 180821 17:28:02 message_handler:64] Bad message (TypeError('not all arguments converted during string formatting',)): {'name': 'root', 'msg': 3, 'args': ('////11',), 'levelname': 'INFO', 'levelno': 20, 'pathname': '/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py', 'filename': 'message_handler.py', 'module': 'message_handler', 'exc_info': None, 'exc_text': None, 'stack_info': None, 'lineno': 64, 'funcName': 'get', 'created': 1534843682.763236, 'msecs': 763.2360458374023, 'relativeCreated': 41194.44298744202, 'thread': 140735304577024, 'threadName': 'MainThread', 'processName': 'MainProcess', 'process': 70386}
[I 180821 17:28:02 web:2162] 304 GET /message/message (127.0.0.1) 10.10ms
[I 180821 17:28:03 web:2162] 101 GET /ws (127.0.0.1) 0.87ms
[I 180821 17:28:07 message_handler:64] Bad message (TypeError('not all arguments converted during string formatting',)): {'name': 'root', 'msg': 3, 'args': ('////11',), 'levelname': 'INFO', 'levelno': 20, 'pathname': '/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py', 'filename': 'message_handler.py', 'module': 'message_handler', 'exc_info': None, 'exc_text': None, 'stack_info': None, 'lineno': 64, 'funcName': 'get', 'created': 1534843687.133203, 'msecs': 133.20302963256836, 'relativeCreated': 45564.40997123718, 'thread': 140735304577024, 'threadName': 'MainThread', 'processName': 'MainProcess', 'process': 70386}
[I 180821 17:28:07 web:2162] 304 GET /message/message (127.0.0.1) 9.65ms
[I 180821 17:28:07 web:2162] 101 GET /ws (127.0.0.1) 0.95ms
[I 180821 17:28:08 message_handler:64] Bad message (TypeError('not all arguments converted during string formatting',)): {'name': 'root', 'msg': 3, 'args': ('////11',), 'levelname': 'INFO', 'levelno': 20, 'pathname': '/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py', 'filename': 'message_handler.py', 'module': 'message_handler', 'exc_info': None, 'exc_text': None, 'stack_info': None, 'lineno': 64, 'funcName': 'get', 'created': 1534843688.944342, 'msecs': 944.3418979644775, 'relativeCreated': 47375.54883956909, 'thread': 140735304577024, 'threadName': 'MainThread', 'processName': 'MainProcess', 'process': 70386}
[I 180821 17:28:08 web:2162] 304 GET /message/message (127.0.0.1) 8.78ms
[I 180821 17:28:09 web:2162] 101 GET /ws (127.0.0.1) 0.82ms
[I 180821 17:29:19 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 17:29:19 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 17:29:26 web:2162] 200 GET /message/message (127.0.0.1) 10.17ms
[I 180821 17:29:27 web:2162] 101 GET /ws (127.0.0.1) 0.68ms
[I 180821 17:29:28 web:2162] 101 GET /ws (127.0.0.1) 1.02ms
[I 180821 17:29:34 web:2162] 200 GET /message/message (127.0.0.1) 6.32ms
[I 180821 17:29:34 web:2162] 101 GET /ws (127.0.0.1) 0.81ms
[I 180821 17:29:36 web:2162] 101 GET /ws (127.0.0.1) 0.53ms
[I 180821 17:29:57 web:2162] 200 GET /message/message (127.0.0.1) 8.55ms
[I 180821 17:29:57 web:2162] 101 GET /ws (127.0.0.1) 1.51ms
[I 180821 17:29:59 web:2162] 200 GET /message/message (127.0.0.1) 7.26ms
[I 180821 17:29:59 web:2162] 101 GET /ws (127.0.0.1) 1.15ms
[I 180821 17:30:06 web:2162] 200 GET /message/message (127.0.0.1) 11.12ms
[I 180821 17:30:07 web:2162] 101 GET /ws (127.0.0.1) 0.75ms
[I 180821 17:30:17 message_handler:180] 聊天室人数：3
[I 180821 17:30:27 web:2162] 200 GET /message/message (127.0.0.1) 7.95ms
[I 180821 17:30:27 web:2162] 101 GET /ws (127.0.0.1) 0.84ms
[I 180821 17:30:34 message_handler:180] 聊天室人数：2
[E 180821 17:30:34 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='127.0.0.1:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 182, in on_message
        v.write_message(message)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180821 17:30:38 web:2162] 101 GET /ws (127.0.0.1) 0.86ms
[I 180821 17:31:07 web:2162] 200 GET /message/message (127.0.0.1) 8.00ms
[I 180821 17:31:07 web:2162] 101 GET /ws (127.0.0.1) 0.61ms
[I 180821 17:31:09 web:2162] 304 GET /message/message (127.0.0.1) 9.18ms
[I 180821 17:31:09 web:2162] 101 GET /ws (127.0.0.1) 0.82ms
[I 180821 17:31:13 message_handler:180] 聊天室人数：4
[I 180821 17:42:04 message_handler:180] 聊天室人数：4
[I 180821 17:44:32 message_handler:180] 聊天室人数：4
[E 180821 17:44:32 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='127.0.0.1:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 182, in on_message
        v.write_message(message)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180821 17:44:36 web:2162] 101 GET /ws (127.0.0.1) 0.56ms
[I 180821 17:53:45 web:2162] 302 GET / (127.0.0.1) 2.99ms
[I 180821 17:53:45 web:2162] 200 GET /login?next=%2F (127.0.0.1) 15.61ms
[I 180821 17:53:49 web:2162] 302 POST /login?next=%2F (127.0.0.1) 4.77ms
[I 180821 17:53:49 web:2162] 200 GET / (127.0.0.1) 12.71ms
[I 180821 17:53:53 web:2162] 200 GET /explore (127.0.0.1) 14.48ms
[I 180821 17:53:54 web:2162] 304 GET /upload (127.0.0.1) 12.49ms
[I 180821 17:53:56 web:2162] 200 GET /message/message (127.0.0.1) 11.34ms
[I 180821 17:53:56 web:2162] 101 GET /ws (127.0.0.1) 0.94ms
[I 180821 17:54:39 message_handler:180] 聊天室人数：5
[E 180821 17:54:39 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='127.0.0.1:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 182, in on_message
        v.write_message(message)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180821 17:54:43 web:2162] 101 GET /ws (127.0.0.1) 0.50ms
[I 180821 17:54:53 message_handler:180] 聊天室人数：4
[E 180821 17:54:53 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='127.0.0.1:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 182, in on_message
        v.write_message(message)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180821 17:54:57 web:2162] 101 GET /ws (127.0.0.1) 0.60ms
[I 180821 17:55:05 web:2162] 200 GET /message/message (127.0.0.1) 9.97ms
[I 180821 17:55:05 web:2162] 101 GET /ws (127.0.0.1) 2.23ms
[I 180821 17:55:12 message_handler:180] 聊天室人数：5
[E 180821 17:55:12 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='127.0.0.1:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 182, in on_message
        v.write_message(message)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180821 17:55:16 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[I 180821 17:55:26 message_handler:180] 聊天室人数：4
[E 180821 17:55:26 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='127.0.0.1:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 182, in on_message
        v.write_message(message)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180821 17:55:30 web:2162] 101 GET /ws (127.0.0.1) 1.12ms
[I 180821 17:55:41 web:2162] 200 GET / (::1) 10.63ms
[I 180821 17:55:41 web:2162] 200 GET /static/uploads/thumbs/20deef9c59e04ee9b1e9eebb541aa7a6_100x100.jpg?v=c0cd577875d04e3b0aafe68d447aae7d (::1) 10.59ms
[I 180821 17:55:41 web:2162] 200 GET /static/uploads/thumbs/c862c5dc3e6847caaba90caac47a0996_100x100.jpg?v=96bf0fadd23f82053588fc24a7df365e (::1) 2.32ms
[I 180821 17:55:41 web:2162] 200 GET /static/uploads/thumbs/1ad1b7e71ea145c4aedf7aff51091538_100x100.jpg?v=9cd6860bfcba0a5ee861483fe9d178ac (::1) 10.99ms
[I 180821 17:55:41 web:2162] 200 GET /static/uploads/thumbs/7cfbc1d36e394736975e7b4d2304e9fb_100x100.jpg?v=decac4251c1b9c07e1edb9e2b75771a0 (::1) 10.04ms
[I 180821 17:55:41 web:2162] 200 GET /static/uploads/thumbs/01c46c5c81c346bfb2f67ccef1b4dfd6_100x100.jpg?v=7776f59623e4b165d03281e932f45791 (::1) 8.49ms
[I 180821 17:55:41 web:2162] 200 GET /static/uploads/thumbs/4d4069bdecfb497796536de4dddd0a47_100x100.jpg?v=7776f59623e4b165d03281e932f45791 (::1) 6.65ms
[I 180821 17:55:41 web:2162] 200 GET /static/uploads/thumbs/e9426ab318024a8887d4470c967ece9b_100x100.jpg?v=c2aef960b05aef2673c98b5a9fd1c06c (::1) 5.17ms
[I 180821 17:55:41 web:2162] 200 GET /static/uploads/thumbs/0bd1d3c573ee43019fca29f64eda1b41_100x100.jpg?v=c8b4bc0a88cbbdbf932077ba80adcdef (::1) 3.21ms
[I 180821 17:55:44 web:2162] 200 GET /message/message (::1) 6.91ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/useravatars/defaut_avatar.jpeg (::1) 4.37ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face.gif (::1) 2.45ms
[I 180821 17:55:44 web:2162] 304 GET /static/js/jquery.backstretch.min.js (::1) 2.50ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/1.png (::1) 2.30ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/2.png (::1) 3.54ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/3.png (::1) 2.55ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/4.png (::1) 2.24ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/5.png (::1) 2.29ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/6.png (::1) 2.50ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/7.png (::1) 2.12ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/8.png (::1) 2.30ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/9.png (::1) 2.24ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/10.png (::1) 1.94ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/12.png (::1) 2.20ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/13.png (::1) 2.39ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/14.png (::1) 2.35ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/15.png (::1) 4.77ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/arrow.png (::1) 4.14ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/mb_thumb.gif (::1) 2.09ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/boboshengmenqi_thumb.gif (::1) 2.26ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/angrya_thumb.gif (::1) 5.36ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/88_thumb.gif (::1) 2.96ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/bba_thumb.gif (::1) 3.76ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/11.png (::1) 6.48ms
[I 180821 17:55:44 web:2162] 101 GET /ws (::1) 4.87ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/bs_thumb.gif (::1) 3.68ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/bs2_thumb.gif (::1) 2.59ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/bz_thumb.gif (::1) 3.66ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/cj_thumb.gif (::1) 2.30ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/cool_thumb.gif (::1) 2.86ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/cry.gif (::1) 3.59ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/cza_thumb.gif (::1) 2.35ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/dizzya_thumb.gif (::1) 2.37ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/gza_thumb.gif (::1) 2.89ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/h_thumb.gif (::1) 2.15ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/hatea_thumb.gif (::1) 2.62ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/heia_thumb.gif (::1) 2.15ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/hsa_thumb.gif (::1) 2.55ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/hufen_thumb.gif (::1) 1.94ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/k_thumb.gif (::1) 2.40ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/crazya_thumb.gif (::1) 2.38ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/kbsa_thumb.gif (::1) 2.16ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/kl_thumb.gif (::1) 2.36ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/laugh.gif (::1) 2.27ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/ldln_thumb.gif (::1) 2.76ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/lovea_thumb.gif (::1) 2.16ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/money_thumb.gif (::1) 2.02ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/nm_thumb.gif (::1) 2.73ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/qq_thumb.gif (::1) 2.33ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/sada_thumb.gif (::1) 1.92ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/sb_thumb.gif (::1) 2.49ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/shamea_thumb.gif (::1) 2.93ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/sk_thumb.gif (::1) 2.35ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/sleepa_thumb.gif (::1) 2.49ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/sleepya_thumb.gif (::1) 1.98ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/smilea_thumb.gif (::1) 2.54ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/sw_thumb.gif (::1) 3.82ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/sweata_thumb.gif (::1) 2.80ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/t_thumb.gif (::1) 2.50ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/tootha_thumb.gif (::1) 2.32ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/tza_thumb.gif (::1) 3.36ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/wq_thumb.gif (::1) 2.10ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/x_thumb.gif (::1) 3.42ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/yhh_thumb.gif (::1) 2.06ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/zhh_thumb.gif (::1) 3.18ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/yw_thumb.gif (::1) 3.12ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/yx_thumb.gif (::1) 2.84ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/zy_thumb.gif (::1) 1.85ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/good_thumb.gif (::1) 4.12ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/z2_thumb.gif (::1) 2.24ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/come_thumb.gif (::1) 2.27ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/sad_thumb.gif (::1) 2.18ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/no_thumb.gif (::1) 3.24ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/ok_thumb.gif (::1) 2.04ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/ye_thumb.gif (::1) 2.45ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/hearta_thumb.gif (::1) 2.06ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/unheart.gif (::1) 2.42ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/bofubianlian_thumb.gif (::1) 2.46ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/cake.gif (::1) 2.96ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/camera_thumb.gif (::1) 1.80ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/cat_yunqizhong_thumb.gif (::1) 3.25ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/cf_thumb.gif (::1) 3.00ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/chn_buyaoya_thumb.gif (::1) 1.92ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/clock_thumb.gif (::1) 2.39ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/daxiongleibenxiong_thumb.gif (::1) 1.77ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/fuyun_thumb.gif (::1) 2.81ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/geili_thumb.gif (::1) 1.79ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/horse2_thumb.gif (::1) 2.17ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/j_thumb.gif (::1) 1.92ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/lazu_thumb.gif (::1) 1.79ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/liwu_thumb.gif (::1) 2.29ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/lxhluguo_thumb.gif (::1) 3.96ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/lxhzhuanfa_thumb.gif (::1) 1.65ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/m_thumb.gif (::1) 3.06ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/otm_thumb.gif (::1) 2.62ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/panda_thumb.gif (::1) 2.41ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/pig.gif (::1) 2.11ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/vw_thumb.gif (::1) 2.39ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/rabbit_thumb.gif (::1) 2.56ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/weijin_thumb.gif (::1) 2.48ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/wg_thumb.gif (::1) 2.68ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/youqian_thumb.gif (::1) 2.90ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/zz2_thumb.gif (::1) 1.93ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/face/gbzkun_thumb.gif (::1) 2.81ms
[I 180821 17:55:44 web:2162] 304 GET /static/images/body_bg.jpg (::1) 3.16ms
[I 180821 17:55:57 message_handler:180] 聊天室人数：5
[E 180821 17:55:57 web:1670] Uncaught exception GET /ws (::1)
    HTTPServerRequest(protocol='http', host='localhost:9000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='::1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 182, in on_message
        v.write_message(message)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180821 17:56:01 web:2162] 101 GET /ws (::1) 0.92ms
[I 180821 17:56:03 web:2162] 200 GET /message/message (127.0.0.1) 7.64ms
[I 180821 17:56:03 web:2162] 101 GET /ws (127.0.0.1) 1.03ms
[I 180821 17:56:09 message_handler:180] 聊天室人数：4
[E 180821 17:56:09 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 182, in on_message
        v.write_message(message)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180821 17:57:04 web:2162] 101 GET /ws (127.0.0.1) 1.01ms
[I 180821 17:57:04 web:2162] 101 GET /ws (127.0.0.1) 2.11ms
[E 180821 17:57:04 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180821 17:57:06 web:2162] 200 GET /message/message (127.0.0.1) 9.41ms
[I 180821 17:57:08 web:2162] 101 GET /ws (127.0.0.1) 0.84ms
[E 180821 17:57:08 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180821 17:57:10 web:2162] 101 GET /ws (127.0.0.1) 1.16ms
[I 180821 17:57:11 message_handler:180] 聊天室人数：1
[I 180821 17:57:12 web:2162] 101 GET /ws (127.0.0.1) 1.41ms
[E 180821 17:57:12 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180821 17:57:16 web:2162] 101 GET /ws (127.0.0.1) 0.89ms
[E 180821 17:57:16 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180821 17:57:20 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[E 180821 17:57:20 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180821 17:57:24 web:2162] 101 GET /ws (127.0.0.1) 1.68ms
[E 180821 17:57:24 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180821 17:57:28 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180821 17:57:28 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180821 17:57:32 web:2162] 101 GET /ws (127.0.0.1) 1.84ms
[E 180821 17:57:32 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180821 17:57:33 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 17:57:33 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180821 17:57:36 web:2162] 101 GET /ws (127.0.0.1) 0.68ms
[E 180821 17:57:36 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180821 17:57:37 web:2162] 101 GET /ws (127.0.0.1) 0.76ms
[I 180821 17:57:37 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[I 180821 17:57:40 web:2162] 101 GET /ws (127.0.0.1) 0.67ms
[E 180821 17:57:40 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180821 17:57:44 web:2162] 101 GET /ws (127.0.0.1) 0.86ms
[E 180821 17:57:44 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180821 17:57:48 web:2162] 101 GET /ws (127.0.0.1) 0.77ms
[E 180821 17:57:48 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180821 17:57:53 web:2162] 101 GET /ws (127.0.0.1) 0.78ms
[E 180821 17:57:53 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180821 17:57:58 web:2162] 101 GET /ws (127.0.0.1) 0.97ms
[E 180821 17:57:58 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180821 17:58:02 web:2162] 101 GET /ws (127.0.0.1) 1.39ms
[E 180821 17:58:02 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180821 17:58:06 web:2162] 101 GET /ws (127.0.0.1) 0.74ms
[E 180821 17:58:06 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180821 17:58:10 web:2162] 101 GET /ws (127.0.0.1) 0.63ms
[E 180821 17:58:10 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180821 17:58:14 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[E 180821 17:58:14 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180821 17:58:19 web:2162] 200 GET /message/message (127.0.0.1) 12.41ms
[I 180821 17:58:19 web:2162] 101 GET /ws (127.0.0.1) 0.69ms
[I 180821 17:58:19 web:2162] 200 GET /favicon.ico (127.0.0.1) 10.13ms
[I 180821 17:58:19 web:2162] 101 GET /ws (127.0.0.1) 1.28ms
[E 180821 17:58:19 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180821 17:58:24 web:2162] 101 GET /ws (127.0.0.1) 0.57ms
[E 180821 17:58:24 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180821 17:58:28 web:2162] 101 GET /ws (127.0.0.1) 0.59ms
[E 180821 17:58:28 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180821 17:58:32 web:2162] 101 GET /ws (127.0.0.1) 0.72ms
[E 180821 17:58:32 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180821 17:58:36 web:2162] 101 GET /ws (127.0.0.1) 0.67ms
[E 180821 17:58:36 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180821 17:58:40 web:2162] 101 GET /ws (127.0.0.1) 0.55ms
[E 180821 17:58:40 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180821 17:58:44 message_handler:180] 聊天室人数：1
[I 180821 17:58:44 web:2162] 101 GET /ws (127.0.0.1) 1.19ms
[E 180821 17:58:44 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180821 17:58:48 web:2162] 101 GET /ws (127.0.0.1) 0.62ms
[E 180821 17:58:48 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180821 17:58:52 web:2162] 101 GET /ws (127.0.0.1) 0.76ms
[E 180821 17:58:52 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180821 17:58:57 web:2162] 101 GET /ws (127.0.0.1) 0.72ms
[E 180821 17:58:57 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180821 17:59:01 web:2162] 101 GET /ws (127.0.0.1) 0.84ms
[E 180821 17:59:01 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180821 17:59:05 web:2162] 101 GET /ws (127.0.0.1) 1.44ms
[E 180821 17:59:05 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180821 17:59:06 web:2162] 302 GET /message/message (127.0.0.1) 3.46ms
[I 180821 17:59:06 web:2162] 200 GET /login?next=%2Fmessage%2Fmessage (127.0.0.1) 8.95ms
[I 180821 17:59:56 web:2162] 200 GET /message/message (127.0.0.1) 7.88ms
[I 180821 17:59:56 web:2162] 101 GET /ws (127.0.0.1) 0.87ms
[I 180821 17:59:56 web:2162] 200 GET /favicon.ico (127.0.0.1) 6.52ms
[I 180821 18:00:41 message_handler:180] 聊天室人数：1
[I 180821 18:00:49 message_handler:180] 聊天室人数：1
[I 180821 18:24:52 web:2162] 302 GET / (127.0.0.1) 3.44ms
[I 180821 18:24:53 web:2162] 200 GET /login?next=%2F (127.0.0.1) 10.43ms
[I 180821 18:25:02 web:2162] 200 GET /favicon.ico (127.0.0.1) 8.85ms
[I 180821 18:25:13 web:2162] 302 POST /login?next=%2F (127.0.0.1) 19.35ms
[I 180821 18:25:15 web:2162] 200 GET / (127.0.0.1) 12.59ms
[I 180821 18:25:24 web:2162] 200 GET /message/message (127.0.0.1) 8.09ms
[I 180821 18:25:27 web:2162] 101 GET /ws (127.0.0.1) 0.87ms
[I 180821 18:25:51 web:2162] 304 GET /message/message (127.0.0.1) 7.27ms
[I 180821 18:25:52 web:2162] 101 GET /ws (127.0.0.1) 0.76ms
[I 180821 18:26:02 message_handler:180] 聊天室人数：1
[I 180822 09:26:12 web:2162] 302 GET / (127.0.0.1) 4.78ms
[I 180822 09:26:12 web:2162] 200 GET /login?next=%2F (127.0.0.1) 21.39ms
[I 180822 09:26:19 web:2162] 302 POST /login?next=%2F (127.0.0.1) 79.12ms
[I 180822 09:26:20 web:2162] 200 GET / (127.0.0.1) 29.96ms
[I 180822 09:26:24 web:2162] 200 GET /message/message (127.0.0.1) 11.04ms
[I 180822 09:26:24 web:2162] 101 GET /ws (127.0.0.1) 0.85ms
[I 180822 09:26:28 web:2162] 200 GET /upload (127.0.0.1) 12.76ms
[I 180822 09:26:39 web:2162] 302 POST /upload (127.0.0.1) 64.57ms
[I 180822 09:26:39 web:2162] 200 GET /upload (127.0.0.1) 8.92ms
[I 180822 09:26:41 web:2162] 200 GET / (127.0.0.1) 9.74ms
[I 180822 09:26:42 web:2162] 200 GET /explore (127.0.0.1) 17.69ms
[I 180822 09:26:45 web:2162] 304 GET / (127.0.0.1) 9.08ms
[I 180822 09:26:46 web:2162] 304 GET /explore (127.0.0.1) 11.20ms
[I 180822 09:26:48 web:2162] 304 GET / (127.0.0.1) 8.55ms
[I 180822 09:26:49 web:2162] 304 GET /explore (127.0.0.1) 12.71ms
[I 180822 09:26:52 web:2162] 200 GET /profile?username=comi (127.0.0.1) 25.90ms
[E 180822 09:26:56 web:1670] Uncaught exception POST /profile/like (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='POST', uri='/profile/like', version='HTTP/1.0', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1590, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 3006, in wrapper
        return method(self, *args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/auth/auth_handler.py", line 68, in post
        result = auth_lib.add_or_del_like(status, file_id, self.current_user)
      File "/Users/apple/PycharmProjects/work/todo/libs/auth/auth_lib.py", line 48, in add_or_del_like
        likes = post.like
    AttributeError: 'NoneType' object has no attribute 'like'
[E 180822 09:26:56 web:2162] 500 POST /profile/like (127.0.0.1) 9.83ms
[I 180822 09:26:57 web:2162] 200 POST /profile/like (127.0.0.1) 10.79ms
[I 180822 09:26:59 web:2162] 200 GET /profile?username=comi (127.0.0.1) 16.87ms
[I 180822 09:27:04 web:2162] 304 GET /upload (127.0.0.1) 9.04ms
[I 180822 09:27:05 web:2162] 200 GET / (127.0.0.1) 9.83ms
[I 180822 09:27:05 web:2162] 304 GET /upload (127.0.0.1) 9.44ms
[I 180822 09:27:08 web:2162] 304 GET / (127.0.0.1) 10.07ms
[I 180822 09:27:09 web:2162] 304 GET /upload (127.0.0.1) 8.98ms
[I 180822 09:28:30 web:2162] 200 GET / (127.0.0.1) 9.39ms
[I 180822 09:28:31 web:2162] 304 GET /explore (127.0.0.1) 11.26ms
[I 180822 09:28:33 web:2162] 304 GET / (127.0.0.1) 9.11ms
[I 180822 09:28:34 web:2162] 200 GET / (127.0.0.1) 10.10ms
[I 180822 09:28:34 web:2162] 200 GET / (127.0.0.1) 8.95ms
[I 180822 09:28:34 web:2162] 200 GET / (127.0.0.1) 9.39ms
[I 180822 09:28:35 web:2162] 200 GET /explore (127.0.0.1) 11.41ms
[I 180822 09:28:37 web:2162] 200 GET /explore (127.0.0.1) 11.76ms
[I 180822 09:28:37 web:2162] 200 GET /favicon.ico (127.0.0.1) 14.96ms
[I 180822 09:28:39 web:2162] 304 GET /explore (127.0.0.1) 11.11ms
[I 180822 09:28:39 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.12ms
[I 180822 09:28:40 web:2162] 304 GET / (127.0.0.1) 9.75ms
[I 180822 09:28:42 web:2162] 200 GET / (127.0.0.1) 7.20ms
[I 180822 09:28:42 web:2162] 200 GET /favicon.ico (127.0.0.1) 7.81ms
[I 180822 09:28:45 web:2162] 304 GET /message/message (127.0.0.1) 9.81ms
[I 180822 09:28:45 web:2162] 101 GET /ws (127.0.0.1) 0.81ms
[I 180822 09:28:48 web:2162] 200 GET /profile?username=comi (127.0.0.1) 18.04ms
[E 180822 09:28:52 web:1670] Uncaught exception POST /profile/like (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='POST', uri='/profile/like', version='HTTP/1.0', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1590, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 3006, in wrapper
        return method(self, *args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/auth/auth_handler.py", line 68, in post
        result = auth_lib.add_or_del_like(status, file_id, self.current_user)
      File "/Users/apple/PycharmProjects/work/todo/libs/auth/auth_lib.py", line 48, in add_or_del_like
        likes = post.like
    AttributeError: 'NoneType' object has no attribute 'like'
[E 180822 09:28:52 web:2162] 500 POST /profile/like (127.0.0.1) 6.89ms
[I 180822 09:28:53 web:2162] 200 POST /profile/like (127.0.0.1) 12.18ms
[I 180822 09:28:57 web:2162] 200 GET /profile?username=comi (127.0.0.1) 15.54ms
[I 180822 09:28:59 web:2162] 200 GET /profile?username=comi (127.0.0.1) 17.92ms
[E 180822 09:29:05 web:1670] Uncaught exception POST /profile/like (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='POST', uri='/profile/like', version='HTTP/1.0', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1590, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 3006, in wrapper
        return method(self, *args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/auth/auth_handler.py", line 68, in post
        result = auth_lib.add_or_del_like(status, file_id, self.current_user)
      File "/Users/apple/PycharmProjects/work/todo/libs/auth/auth_lib.py", line 48, in add_or_del_like
        likes = post.like
    AttributeError: 'NoneType' object has no attribute 'like'
[E 180822 09:29:05 web:2162] 500 POST /profile/like (127.0.0.1) 6.99ms
[I 180822 09:29:06 web:2162] 200 POST /profile/like (127.0.0.1) 11.26ms
[I 180822 09:29:08 web:2162] 200 GET /profile?username=comi (127.0.0.1) 15.44ms
[I 180822 09:29:09 web:2162] 200 GET /profile?username=comi (127.0.0.1) 17.89ms
[I 180822 09:29:12 web:2162] 200 GET /profile?username=comi (127.0.0.1) 17.79ms
[I 180822 09:29:13 web:2162] 200 GET /profile?username=comi (127.0.0.1) 18.56ms
[I 180822 09:29:13 web:2162] 200 GET /profile?username=comi (127.0.0.1) 15.22ms
[I 180822 09:29:14 web:2162] 200 GET /profile?username=comi (127.0.0.1) 17.51ms
[I 180822 09:29:14 web:2162] 200 GET /profile?username=comi (127.0.0.1) 14.56ms
[I 180822 09:29:14 web:2162] 200 GET /profile?username=comi (127.0.0.1) 17.85ms
[I 180822 09:29:32 web:2162] 304 GET /message/message (127.0.0.1) 7.41ms
[I 180822 09:29:32 web:2162] 101 GET /ws (127.0.0.1) 0.76ms
[I 180822 09:32:12 web:2162] 304 GET /message/message (127.0.0.1) 7.54ms
[I 180822 09:32:13 web:2162] 101 GET /ws (127.0.0.1) 1.19ms
[I 180822 09:37:13 message_handler:180] 聊天室人数：1
[I 180822 09:46:20 web:2162] 101 GET /ws (127.0.0.1) 0.82ms
[I 180822 09:59:31 web:2162] 101 GET /ws (127.0.0.1) 0.82ms
[I 180822 10:03:04 web:2162] 101 GET /ws (127.0.0.1) 0.81ms
[I 180822 10:08:51 web:2162] 101 GET /ws (127.0.0.1) 0.57ms
[I 180822 10:20:50 web:2162] 101 GET /ws (127.0.0.1) 0.81ms
[I 180822 10:25:15 web:2162] 101 GET /ws (127.0.0.1) 0.85ms
[I 180822 10:32:54 web:2162] 101 GET /ws (127.0.0.1) 0.92ms
[I 180822 10:34:34 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/auth/auth_handler.py modified; restarting server
[I 180822 10:34:34 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/auth/auth_handler.py modified; restarting server
[I 180822 10:34:38 web:2162] 101 GET /ws (127.0.0.1) 0.96ms
[I 180822 10:34:44 web:2162] 200 GET /message/message (127.0.0.1) 15.14ms
[I 180822 10:34:44 web:2162] 101 GET /ws (127.0.0.1) 1.10ms
[I 180822 10:34:53 web:2162] 200 GET /message/message (127.0.0.1) 8.55ms
[I 180822 10:34:55 web:2162] 101 GET /ws (127.0.0.1) 0.90ms
[I 180822 10:35:32 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 10:35:32 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 10:35:36 web:2162] 101 GET /ws (127.0.0.1) 1.08ms
[I 180822 10:35:40 web:2162] 302 GET / (127.0.0.1) 3.92ms
[I 180822 10:35:40 web:2162] 200 GET /login?next=%2F (127.0.0.1) 21.63ms
[I 180822 10:35:45 web:2162] 302 POST /login?next=%2F (127.0.0.1) 6.03ms
[I 180822 10:35:45 web:2162] 200 GET / (127.0.0.1) 32.75ms
[I 180822 10:35:50 web:2162] 200 GET /explore (127.0.0.1) 15.58ms
[I 180822 10:35:51 web:2162] 200 GET /upload (127.0.0.1) 9.57ms
[I 180822 10:35:53 web:2162] 200 GET /message/message (127.0.0.1) 6.95ms
[I 180822 10:35:53 web:2162] 101 GET /ws (127.0.0.1) 2.73ms
[I 180822 10:37:08 web:2162] 200 GET /message/message (127.0.0.1) 7.18ms
[I 180822 10:37:08 web:2162] 101 GET /ws (127.0.0.1) 1.04ms
[I 180822 10:37:08 web:2162] 200 GET /favicon.ico (127.0.0.1) 13.40ms
[I 180822 10:37:10 web:2162] 200 GET /message/message (127.0.0.1) 7.20ms
[I 180822 10:37:10 web:2162] 101 GET /ws (127.0.0.1) 1.31ms
[I 180822 10:37:10 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.21ms
[I 180822 10:37:19 web:2162] 302 GET /message/message (127.0.0.1) 3.18ms
[I 180822 10:37:19 web:2162] 200 GET /login?next=%2Fmessage%2Fmessage (127.0.0.1) 7.50ms
[I 180822 10:37:23 web:2162] 302 POST /login?next=%2Fmessage%2Fmessage (127.0.0.1) 5.43ms
[I 180822 10:37:23 web:2162] 200 GET /message/message (127.0.0.1) 6.86ms
[I 180822 10:37:23 web:2162] 101 GET /ws (127.0.0.1) 0.69ms
[I 180822 10:38:22 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 10:38:22 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 10:38:26 web:2162] 101 GET /ws (127.0.0.1) 1.05ms
[I 180822 10:38:27 web:2162] 101 GET /ws (127.0.0.1) 0.73ms
[I 180822 10:40:25 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 10:40:25 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 10:40:30 web:2162] 101 GET /ws (127.0.0.1) 0.68ms
[I 180822 10:41:57 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 10:41:57 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 10:42:02 web:2162] 101 GET /ws (127.0.0.1) 1.02ms
[I 180822 10:45:21 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 10:45:21 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 10:45:28 web:2162] 101 GET /ws (127.0.0.1) 0.87ms
[E 180822 10:45:28 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        message = tornado.escape.json_decode({'come': "{}进入了聊天室🌹".format(self.current_user.name)})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/escape.py", line 86, in json_decode
        return json.loads(to_basestring(value))
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/escape.py", line 247, in to_basestring
        "Expected bytes, unicode, or None; got %r" % type(value)
    TypeError: Expected bytes, unicode, or None; got <class 'dict'>
[I 180822 10:45:34 web:2162] 101 GET /ws (127.0.0.1) 1.24ms
[E 180822 10:45:34 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        message = tornado.escape.json_decode({'come': "{}进入了聊天室🌹".format(self.current_user.name)})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/escape.py", line 86, in json_decode
        return json.loads(to_basestring(value))
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/escape.py", line 247, in to_basestring
        "Expected bytes, unicode, or None; got %r" % type(value)
    TypeError: Expected bytes, unicode, or None; got <class 'dict'>
[I 180822 10:45:42 web:2162] 101 GET /ws (127.0.0.1) 0.50ms
[E 180822 10:45:42 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        message = tornado.escape.json_decode({'come': "{}进入了聊天室🌹".format(self.current_user.name)})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/escape.py", line 86, in json_decode
        return json.loads(to_basestring(value))
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/escape.py", line 247, in to_basestring
        "Expected bytes, unicode, or None; got %r" % type(value)
    TypeError: Expected bytes, unicode, or None; got <class 'dict'>
[I 180822 10:45:51 web:2162] 101 GET /ws (127.0.0.1) 0.77ms
[E 180822 10:45:51 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        message = tornado.escape.json_decode({'come': "{}进入了聊天室🌹".format(self.current_user.name)})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/escape.py", line 86, in json_decode
        return json.loads(to_basestring(value))
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/escape.py", line 247, in to_basestring
        "Expected bytes, unicode, or None; got %r" % type(value)
    TypeError: Expected bytes, unicode, or None; got <class 'dict'>
[I 180822 10:46:00 web:2162] 101 GET /ws (127.0.0.1) 0.50ms
[E 180822 10:46:00 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        message = tornado.escape.json_decode({'come': "{}进入了聊天室🌹".format(self.current_user.name)})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/escape.py", line 86, in json_decode
        return json.loads(to_basestring(value))
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/escape.py", line 247, in to_basestring
        "Expected bytes, unicode, or None; got %r" % type(value)
    TypeError: Expected bytes, unicode, or None; got <class 'dict'>
[I 180822 10:46:57 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 10:46:57 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 10:47:39 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 10:47:39 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 10:58:26 web:2162] 101 GET /ws (127.0.0.1) 1.19ms
[E 180822 10:58:26 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 10:58:31 web:2162] 101 GET /ws (127.0.0.1) 0.91ms
[E 180822 10:58:31 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 10:58:35 web:2162] 101 GET /ws (127.0.0.1) 1.76ms
[E 180822 10:58:35 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 10:58:39 web:2162] 101 GET /ws (127.0.0.1) 0.77ms
[E 180822 10:58:39 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 10:58:43 web:2162] 101 GET /ws (127.0.0.1) 0.56ms
[E 180822 10:58:43 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 10:58:47 web:2162] 101 GET /ws (127.0.0.1) 0.50ms
[E 180822 10:58:47 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 10:58:51 web:2162] 101 GET /ws (127.0.0.1) 0.82ms
[E 180822 10:58:51 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 10:58:55 web:2162] 101 GET /ws (127.0.0.1) 0.47ms
[E 180822 10:58:55 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 10:58:59 web:2162] 101 GET /ws (127.0.0.1) 0.47ms
[E 180822 10:58:59 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 10:59:03 web:2162] 101 GET /ws (127.0.0.1) 0.89ms
[E 180822 10:59:03 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 10:59:07 web:2162] 101 GET /ws (127.0.0.1) 0.51ms
[E 180822 10:59:07 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 10:59:12 web:2162] 101 GET /ws (127.0.0.1) 0.46ms
[E 180822 10:59:12 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 10:59:16 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[E 180822 10:59:16 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 10:59:20 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[E 180822 10:59:20 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 10:59:24 web:2162] 101 GET /ws (127.0.0.1) 0.76ms
[E 180822 10:59:24 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 10:59:28 web:2162] 101 GET /ws (127.0.0.1) 0.56ms
[E 180822 10:59:28 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 10:59:32 web:2162] 101 GET /ws (127.0.0.1) 0.50ms
[E 180822 10:59:32 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 10:59:36 web:2162] 101 GET /ws (127.0.0.1) 0.58ms
[E 180822 10:59:36 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 10:59:40 web:2162] 101 GET /ws (127.0.0.1) 0.46ms
[E 180822 10:59:40 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 10:59:44 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[E 180822 10:59:44 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 10:59:48 web:2162] 101 GET /ws (127.0.0.1) 0.76ms
[E 180822 10:59:48 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 10:59:52 web:2162] 101 GET /ws (127.0.0.1) 2.06ms
[E 180822 10:59:52 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 10:59:56 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 10:59:56 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:00:00 web:2162] 101 GET /ws (127.0.0.1) 0.45ms
[E 180822 11:00:00 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:00:04 web:2162] 101 GET /ws (127.0.0.1) 0.59ms
[E 180822 11:00:04 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:00:08 web:2162] 101 GET /ws (127.0.0.1) 0.52ms
[E 180822 11:00:08 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:00:12 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[E 180822 11:00:12 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:00:16 web:2162] 101 GET /ws (127.0.0.1) 0.46ms
[E 180822 11:00:16 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:00:21 web:2162] 101 GET /ws (127.0.0.1) 0.45ms
[E 180822 11:00:21 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:00:25 web:2162] 101 GET /ws (127.0.0.1) 0.54ms
[E 180822 11:00:25 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:00:29 web:2162] 101 GET /ws (127.0.0.1) 0.46ms
[E 180822 11:00:29 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:00:33 web:2162] 101 GET /ws (127.0.0.1) 0.60ms
[E 180822 11:00:33 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:00:37 web:2162] 101 GET /ws (127.0.0.1) 1.14ms
[E 180822 11:00:37 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:00:41 web:2162] 101 GET /ws (127.0.0.1) 0.52ms
[E 180822 11:00:41 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:00:45 web:2162] 101 GET /ws (127.0.0.1) 0.53ms
[E 180822 11:00:45 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:00:49 web:2162] 101 GET /ws (127.0.0.1) 0.52ms
[E 180822 11:00:49 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:00:54 web:2162] 101 GET /ws (127.0.0.1) 0.51ms
[E 180822 11:00:54 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:00:58 web:2162] 101 GET /ws (127.0.0.1) 0.46ms
[E 180822 11:00:58 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:01:02 web:2162] 101 GET /ws (127.0.0.1) 0.84ms
[E 180822 11:01:02 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:01:06 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[E 180822 11:01:06 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:01:10 web:2162] 101 GET /ws (127.0.0.1) 0.95ms
[E 180822 11:01:10 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:01:14 web:2162] 101 GET /ws (127.0.0.1) 0.56ms
[E 180822 11:01:14 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:01:18 web:2162] 101 GET /ws (127.0.0.1) 0.54ms
[E 180822 11:01:18 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:01:22 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 11:01:22 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:01:26 web:2162] 101 GET /ws (127.0.0.1) 0.60ms
[E 180822 11:01:26 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:01:30 web:2162] 101 GET /ws (127.0.0.1) 0.46ms
[E 180822 11:01:30 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:01:34 web:2162] 101 GET /ws (127.0.0.1) 0.58ms
[E 180822 11:01:34 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:01:38 web:2162] 101 GET /ws (127.0.0.1) 0.52ms
[E 180822 11:01:38 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:01:42 web:2162] 101 GET /ws (127.0.0.1) 0.82ms
[E 180822 11:01:42 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:01:46 web:2162] 101 GET /ws (127.0.0.1) 1.00ms
[E 180822 11:01:46 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:01:50 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[E 180822 11:01:50 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:01:55 web:2162] 101 GET /ws (127.0.0.1) 0.57ms
[E 180822 11:01:55 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:01:59 web:2162] 101 GET /ws (127.0.0.1) 0.57ms
[E 180822 11:01:59 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:02:03 web:2162] 101 GET /ws (127.0.0.1) 0.53ms
[E 180822 11:02:03 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:02:07 web:2162] 101 GET /ws (127.0.0.1) 0.68ms
[E 180822 11:02:07 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:02:11 web:2162] 101 GET /ws (127.0.0.1) 0.46ms
[E 180822 11:02:11 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:02:15 web:2162] 101 GET /ws (127.0.0.1) 0.81ms
[E 180822 11:02:15 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:02:19 web:2162] 101 GET /ws (127.0.0.1) 0.70ms
[E 180822 11:02:19 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:02:23 web:2162] 101 GET /ws (127.0.0.1) 0.52ms
[E 180822 11:02:23 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:02:27 web:2162] 101 GET /ws (127.0.0.1) 0.85ms
[E 180822 11:02:27 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:02:31 web:2162] 101 GET /ws (127.0.0.1) 0.50ms
[E 180822 11:02:31 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:02:35 web:2162] 101 GET /ws (127.0.0.1) 0.56ms
[E 180822 11:02:35 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:02:39 web:2162] 101 GET /ws (127.0.0.1) 0.56ms
[E 180822 11:02:39 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:02:44 web:2162] 101 GET /ws (127.0.0.1) 0.45ms
[E 180822 11:02:44 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:02:48 web:2162] 101 GET /ws (127.0.0.1) 0.47ms
[E 180822 11:02:48 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:02:52 web:2162] 101 GET /ws (127.0.0.1) 0.51ms
[E 180822 11:02:52 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:02:56 web:2162] 101 GET /ws (127.0.0.1) 0.53ms
[E 180822 11:02:56 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:03:00 web:2162] 101 GET /ws (127.0.0.1) 0.82ms
[E 180822 11:03:00 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:03:04 web:2162] 101 GET /ws (127.0.0.1) 0.45ms
[E 180822 11:03:04 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:03:08 web:2162] 101 GET /ws (127.0.0.1) 0.50ms
[E 180822 11:03:08 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:03:12 web:2162] 101 GET /ws (127.0.0.1) 0.54ms
[E 180822 11:03:12 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:03:16 web:2162] 101 GET /ws (127.0.0.1) 0.55ms
[E 180822 11:03:16 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:03:20 web:2162] 101 GET /ws (127.0.0.1) 0.46ms
[E 180822 11:03:20 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:03:25 web:2162] 101 GET /ws (127.0.0.1) 0.62ms
[E 180822 11:03:25 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:03:29 web:2162] 101 GET /ws (127.0.0.1) 0.52ms
[E 180822 11:03:29 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:03:33 web:2162] 101 GET /ws (127.0.0.1) 0.52ms
[E 180822 11:03:33 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:03:37 web:2162] 101 GET /ws (127.0.0.1) 0.47ms
[E 180822 11:03:37 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:03:41 web:2162] 101 GET /ws (127.0.0.1) 0.50ms
[E 180822 11:03:41 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:03:45 web:2162] 101 GET /ws (127.0.0.1) 0.56ms
[E 180822 11:03:45 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:03:49 web:2162] 101 GET /ws (127.0.0.1) 0.59ms
[E 180822 11:03:49 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:03:53 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 11:03:53 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:03:57 web:2162] 101 GET /ws (127.0.0.1) 1.60ms
[E 180822 11:03:57 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:04:01 web:2162] 101 GET /ws (127.0.0.1) 0.50ms
[E 180822 11:04:01 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:04:06 web:2162] 101 GET /ws (127.0.0.1) 0.52ms
[E 180822 11:04:06 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:04:10 web:2162] 101 GET /ws (127.0.0.1) 0.46ms
[E 180822 11:04:10 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:04:14 web:2162] 101 GET /ws (127.0.0.1) 0.61ms
[E 180822 11:04:14 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:04:18 web:2162] 101 GET /ws (127.0.0.1) 0.51ms
[E 180822 11:04:18 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:04:20 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 11:04:20 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 11:04:22 web:2162] 101 GET /ws (127.0.0.1) 1.19ms
[E 180822 11:04:22 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:04:26 web:2162] 101 GET /ws (127.0.0.1) 0.92ms
[E 180822 11:04:26 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:04:30 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 11:04:30 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:04:34 web:2162] 101 GET /ws (127.0.0.1) 0.79ms
[E 180822 11:04:34 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:04:38 web:2162] 101 GET /ws (127.0.0.1) 0.73ms
[E 180822 11:04:38 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:04:43 web:2162] 101 GET /ws (127.0.0.1) 0.53ms
[E 180822 11:04:43 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:04:47 web:2162] 101 GET /ws (127.0.0.1) 2.10ms
[E 180822 11:04:47 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:04:51 web:2162] 101 GET /ws (127.0.0.1) 0.70ms
[E 180822 11:04:51 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:04:55 web:2162] 101 GET /ws (127.0.0.1) 0.65ms
[E 180822 11:04:55 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:04:59 web:2162] 101 GET /ws (127.0.0.1) 0.76ms
[E 180822 11:04:59 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:05:03 web:2162] 101 GET /ws (127.0.0.1) 1.36ms
[E 180822 11:05:03 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:22:21 web:2162] 200 GET /message/message (127.0.0.1) 14.48ms
[I 180822 11:22:21 web:2162] 101 GET /ws (127.0.0.1) 1.04ms
[I 180822 11:22:45 web:2162] 302 GET / (127.0.0.1) 7.95ms
[I 180822 11:22:45 web:2162] 200 GET /login?next=%2F (127.0.0.1) 17.29ms
[I 180822 11:22:46 web:2162] 200 GET /favicon.ico (127.0.0.1) 12.49ms
[I 180822 11:22:51 web:2162] 302 POST /login?next=%2F (127.0.0.1) 32.96ms
[I 180822 11:22:51 web:2162] 200 GET / (127.0.0.1) 13.74ms
[I 180822 11:22:52 web:2162] 200 GET /message/message (127.0.0.1) 8.78ms
[I 180822 11:22:52 web:2162] 101 GET /ws (127.0.0.1) 1.22ms
[I 180822 11:23:00 message_handler:180] 聊天室人数：1
[I 180822 11:23:09 web:2162] 200 GET /message/message (127.0.0.1) 6.34ms
[I 180822 11:23:09 web:2162] 101 GET /ws (127.0.0.1) 1.30ms
[I 180822 11:23:11 web:2162] 200 GET /message/message (127.0.0.1) 8.15ms
[I 180822 11:23:11 web:2162] 101 GET /ws (127.0.0.1) 0.90ms
[I 180822 11:23:25 message_handler:180] 聊天室人数：2
[I 180822 11:23:28 web:2162] 200 GET /message/message (127.0.0.1) 7.57ms
[I 180822 11:23:28 web:2162] 101 GET /ws (127.0.0.1) 1.29ms
[I 180822 11:23:31 web:2162] 200 GET /message/message (127.0.0.1) 10.81ms
[I 180822 11:23:32 web:2162] 101 GET /ws (127.0.0.1) 1.74ms
[E 180822 11:23:32 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:23:36 web:2162] 101 GET /ws (127.0.0.1) 0.67ms
[I 180822 11:25:45 message_handler:180] 聊天室人数：2
[I 180822 11:25:49 message_handler:180] 聊天室人数：2
[I 180822 11:26:22 web:2162] 200 GET /message/message (127.0.0.1) 9.30ms
[I 180822 11:26:22 web:2162] 101 GET /ws (127.0.0.1) 0.89ms
[I 180822 11:26:33 web:2162] 200 GET /message/message (127.0.0.1) 9.80ms
[I 180822 11:26:33 web:2162] 101 GET /ws (127.0.0.1) 1.03ms
[I 180822 11:30:08 web:2162] 200 GET /message/message (127.0.0.1) 10.05ms
[I 180822 11:30:08 web:2162] 101 GET /ws (127.0.0.1) 0.97ms
[I 180822 11:30:12 web:2162] 200 GET /message/message (127.0.0.1) 7.38ms
[I 180822 11:30:12 web:2162] 101 GET /ws (127.0.0.1) 0.88ms
[I 180822 11:30:13 web:2162] 200 GET /message/message (127.0.0.1) 8.39ms
[I 180822 11:30:13 web:2162] 101 GET /ws (127.0.0.1) 0.98ms
[I 180822 11:30:46 web:2162] 200 GET /message/message (127.0.0.1) 8.82ms
[I 180822 11:30:46 web:2162] 101 GET /ws (127.0.0.1) 1.01ms
[I 180822 11:30:49 web:2162] 200 GET /message/message (127.0.0.1) 12.98ms
[I 180822 11:30:50 web:2162] 101 GET /ws (127.0.0.1) 1.04ms
[I 180822 11:30:55 message_handler:180] 聊天室人数：2
[I 180822 11:31:01 message_handler:180] 聊天室人数：2
[I 180822 11:31:02 web:2162] 200 GET /message/message (127.0.0.1) 6.91ms
[I 180822 11:31:02 web:2162] 101 GET /ws (127.0.0.1) 0.83ms
[I 180822 11:32:14 web:2162] 101 GET /ws (127.0.0.1) 0.72ms
[E 180822 11:32:14 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:32:18 web:2162] 101 GET /ws (127.0.0.1) 2.34ms
[E 180822 11:32:18 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:32:22 web:2162] 101 GET /ws (127.0.0.1) 1.12ms
[E 180822 11:32:22 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:32:25 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 11:32:25 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 11:32:26 web:2162] 101 GET /ws (127.0.0.1) 1.53ms
[E 180822 11:32:26 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:32:26 web:2162] 200 GET /message/message (127.0.0.1) 12.18ms
[I 180822 11:32:27 web:2162] 101 GET /ws (127.0.0.1) 3.03ms
[I 180822 11:32:28 web:2162] 200 GET /message/message (127.0.0.1) 10.04ms
[E 180822 11:32:28 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:32:28 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10cefbf28>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:32:28 web:2162] 101 GET /ws (127.0.0.1) 0.84ms
[I 180822 11:32:29 web:2162] 101 GET /ws (127.0.0.1) 0.70ms
[I 180822 11:32:30 web:2162] 101 GET /ws (127.0.0.1) 0.59ms
[E 180822 11:32:30 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:32:30 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:32:30 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1063b3048>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:32:34 web:2162] 101 GET /ws (127.0.0.1) 0.51ms
[E 180822 11:32:34 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:32:34 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:32:34 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10cf89950>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:32:39 web:2162] 101 GET /ws (127.0.0.1) 0.53ms
[E 180822 11:32:39 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:32:39 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:32:39 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10cf89a60>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:32:43 web:2162] 101 GET /ws (127.0.0.1) 0.53ms
[E 180822 11:32:43 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:32:43 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:32:43 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10cf898c8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:32:47 web:2162] 101 GET /ws (127.0.0.1) 0.98ms
[E 180822 11:32:47 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:32:47 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:32:47 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10cf89a60>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:32:51 web:2162] 101 GET /ws (127.0.0.1) 1.15ms
[E 180822 11:32:51 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:32:51 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:32:51 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10635fd08>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:32:55 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 11:32:55 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:32:55 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:32:55 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10cf898c8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:32:58 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:32:58 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1062fdc80>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:32:59 web:2162] 101 GET /ws (127.0.0.1) 0.51ms
[E 180822 11:32:59 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:32:59 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:32:59 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1063b30d0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:33:03 web:2162] 101 GET /ws (127.0.0.1) 0.52ms
[E 180822 11:33:03 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:33:03 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:33:03 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10cf89a60>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:33:07 web:2162] 101 GET /ws (127.0.0.1) 0.54ms
[E 180822 11:33:07 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:33:07 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:33:07 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10633e400>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:33:08 message_handler:180] 聊天室人数：1
[I 180822 11:33:12 web:2162] 101 GET /ws (127.0.0.1) 0.61ms
[E 180822 11:33:12 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:33:12 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:33:12 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10cf898c8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:33:16 web:2162] 101 GET /ws (127.0.0.1) 0.51ms
[E 180822 11:33:16 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:33:16 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:33:16 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1063b3048>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:33:20 web:2162] 101 GET /ws (127.0.0.1) 0.57ms
[E 180822 11:33:20 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:33:20 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:33:20 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10cf89a60>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:33:24 web:2162] 101 GET /ws (127.0.0.1) 0.54ms
[E 180822 11:33:24 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:33:24 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:33:24 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1063b3268>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:33:29 web:2162] 101 GET /ws (127.0.0.1) 0.63ms
[E 180822 11:33:29 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:33:29 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:33:29 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10633e400>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:33:33 web:2162] 101 GET /ws (127.0.0.1) 0.81ms
[E 180822 11:33:33 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:33:33 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:33:33 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10cf898c8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:33:37 web:2162] 101 GET /ws (127.0.0.1) 1.08ms
[E 180822 11:33:37 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:33:37 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:33:37 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10cf89a60>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:33:41 web:2162] 101 GET /ws (127.0.0.1) 0.56ms
[E 180822 11:33:41 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:33:41 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:33:41 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1063b30d0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:33:45 web:2162] 101 GET /ws (127.0.0.1) 1.83ms
[E 180822 11:33:45 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:33:45 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:33:45 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10633e400>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:33:49 web:2162] 101 GET /ws (127.0.0.1) 1.91ms
[E 180822 11:33:49 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:33:49 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:33:49 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10cf898c8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:33:53 web:2162] 101 GET /ws (127.0.0.1) 1.12ms
[E 180822 11:33:53 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:33:53 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:33:53 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1063b3048>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:33:57 web:2162] 101 GET /ws (127.0.0.1) 0.52ms
[E 180822 11:33:57 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:33:57 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:33:57 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10633e400>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:34:01 web:2162] 101 GET /ws (127.0.0.1) 0.52ms
[E 180822 11:34:01 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:34:01 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:34:01 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10cf89a60>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s推出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:34:04 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 11:34:04 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 11:34:05 web:2162] 101 GET /ws (127.0.0.1) 1.08ms
[E 180822 11:34:05 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:34:13 web:2162] 101 GET /ws (127.0.0.1) 0.82ms
[E 180822 11:34:13 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:34:16 web:2162] 200 GET /message/message (127.0.0.1) 11.94ms
[I 180822 11:34:16 web:2162] 101 GET /ws (127.0.0.1) 1.26ms
[I 180822 11:34:18 web:2162] 101 GET /ws (127.0.0.1) 0.52ms
[E 180822 11:34:18 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:34:22 web:2162] 101 GET /ws (127.0.0.1) 0.55ms
[E 180822 11:34:22 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:34:22 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:34:22 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1113ba048>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:34:26 web:2162] 101 GET /ws (127.0.0.1) 0.60ms
[E 180822 11:34:26 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:34:30 web:2162] 101 GET /ws (127.0.0.1) 0.84ms
[E 180822 11:34:30 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:34:30 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:34:30 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x111338488>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:34:34 web:2162] 101 GET /ws (127.0.0.1) 0.56ms
[E 180822 11:34:34 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:34:35 web:2162] 302 GET / (127.0.0.1) 5.35ms
[I 180822 11:34:35 web:2162] 200 GET /login?next=%2F (127.0.0.1) 16.02ms
[I 180822 11:34:35 web:2162] 200 GET /favicon.ico (127.0.0.1) 10.83ms
[I 180822 11:34:38 web:2162] 101 GET /ws (127.0.0.1) 0.65ms
[E 180822 11:34:38 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:34:41 web:2162] 302 POST /login?next=%2F (127.0.0.1) 7.23ms
[I 180822 11:34:41 web:2162] 200 GET / (127.0.0.1) 37.54ms
[I 180822 11:34:42 web:2162] 200 GET /message/message (127.0.0.1) 9.63ms
[I 180822 11:34:42 web:2162] 101 GET /ws (127.0.0.1) 1.36ms
[I 180822 11:34:42 web:2162] 101 GET /ws (127.0.0.1) 0.47ms
[E 180822 11:34:42 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:34:42 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:34:42 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1113eb488>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:34:46 web:2162] 101 GET /ws (127.0.0.1) 0.51ms
[E 180822 11:34:46 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:34:46 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:34:46 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x111338ea0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:34:50 web:2162] 101 GET /ws (127.0.0.1) 0.65ms
[E 180822 11:34:50 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:34:50 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:34:50 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10db9e378>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:34:55 web:2162] 101 GET /ws (127.0.0.1) 0.57ms
[E 180822 11:34:55 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:34:55 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:34:55 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10dc03e18>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:34:59 web:2162] 101 GET /ws (127.0.0.1) 0.54ms
[E 180822 11:34:59 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:34:59 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:34:59 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10fec6488>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:35:03 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[E 180822 11:35:03 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:35:03 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:35:03 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10db9e400>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:35:07 web:2162] 101 GET /ws (127.0.0.1) 0.73ms
[E 180822 11:35:07 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:35:07 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:35:07 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x111338730>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:35:11 web:2162] 101 GET /ws (127.0.0.1) 0.61ms
[E 180822 11:35:11 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:35:11 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:35:11 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10dc03ea0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:35:15 web:2162] 101 GET /ws (127.0.0.1) 2.71ms
[E 180822 11:35:15 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:35:15 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:35:15 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10db9e510>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:35:19 web:2162] 101 GET /ws (127.0.0.1) 0.54ms
[E 180822 11:35:19 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:35:19 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:35:19 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1113387b8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:35:23 web:2162] 101 GET /ws (127.0.0.1) 0.50ms
[E 180822 11:35:23 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:35:23 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:35:23 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1113387b8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:35:27 web:2162] 101 GET /ws (127.0.0.1) 0.54ms
[E 180822 11:35:27 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:35:27 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:35:27 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x111338d08>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:35:31 web:2162] 101 GET /ws (127.0.0.1) 0.52ms
[E 180822 11:35:31 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:35:31 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:35:31 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10dc03598>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:35:35 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[E 180822 11:35:35 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:35:35 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:35:35 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10dc03598>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:35:39 web:2162] 101 GET /ws (127.0.0.1) 0.51ms
[E 180822 11:35:39 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:35:39 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:35:39 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10dc03598>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:35:44 web:2162] 101 GET /ws (127.0.0.1) 0.51ms
[E 180822 11:35:44 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:35:44 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:35:44 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x111338d08>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:35:48 web:2162] 101 GET /ws (127.0.0.1) 0.77ms
[E 180822 11:35:48 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:35:48 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:35:48 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x111338d08>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:35:52 web:2162] 101 GET /ws (127.0.0.1) 0.51ms
[E 180822 11:35:52 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:35:52 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:35:52 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x111338d08>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:35:56 web:2162] 101 GET /ws (127.0.0.1) 0.67ms
[E 180822 11:35:56 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:35:56 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:35:56 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10dc03598>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:36:00 web:2162] 101 GET /ws (127.0.0.1) 0.47ms
[E 180822 11:36:00 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:36:00 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:36:00 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x111338d08>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室🐍" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:36:02 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 11:36:02 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 11:36:04 web:2162] 101 GET /ws (127.0.0.1) 0.82ms
[E 180822 11:36:04 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:36:06 web:2162] 101 GET /ws (127.0.0.1) 0.71ms
[I 180822 11:36:07 web:2162] 101 GET /ws (127.0.0.1) 1.25ms
[I 180822 11:36:08 web:2162] 101 GET /ws (127.0.0.1) 0.67ms
[E 180822 11:36:08 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:36:08 web:2162] 200 GET /message/message (127.0.0.1) 10.21ms
[I 180822 11:36:08 web:2162] 101 GET /ws (127.0.0.1) 1.12ms
[I 180822 11:36:09 web:2162] 200 GET /message/message (127.0.0.1) 10.50ms
[I 180822 11:36:09 web:2162] 101 GET /ws (127.0.0.1) 1.32ms
[I 180822 11:36:12 web:2162] 101 GET /ws (127.0.0.1) 0.92ms
[E 180822 11:36:12 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:36:16 web:2162] 101 GET /ws (127.0.0.1) 0.52ms
[E 180822 11:36:16 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:36:18 web:2162] 200 GET /message/message (127.0.0.1) 8.18ms
[I 180822 11:36:18 web:2162] 101 GET /ws (127.0.0.1) 1.16ms
[E 180822 11:36:18 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:36:20 web:2162] 101 GET /ws (127.0.0.1) 0.61ms
[E 180822 11:36:20 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:36:21 web:2162] 200 GET /message/message (127.0.0.1) 9.75ms
[I 180822 11:36:22 web:2162] 101 GET /ws (127.0.0.1) 1.86ms
[I 180822 11:36:24 web:2162] 101 GET /ws (127.0.0.1) 0.88ms
[E 180822 11:36:24 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:36:27 web:2162] 200 GET /message/message (127.0.0.1) 9.09ms
[I 180822 11:36:27 web:2162] 101 GET /ws (127.0.0.1) 0.85ms
[I 180822 11:36:28 web:2162] 101 GET /ws (127.0.0.1) 0.54ms
[E 180822 11:36:28 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:36:32 web:2162] 101 GET /ws (127.0.0.1) 0.63ms
[E 180822 11:36:32 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:36:36 web:2162] 101 GET /ws (127.0.0.1) 0.59ms
[E 180822 11:36:36 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:36:41 web:2162] 101 GET /ws (127.0.0.1) 0.51ms
[E 180822 11:36:41 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:36:45 web:2162] 101 GET /ws (127.0.0.1) 0.47ms
[E 180822 11:36:45 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:36:49 web:2162] 101 GET /ws (127.0.0.1) 0.55ms
[E 180822 11:36:49 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:36:53 web:2162] 101 GET /ws (127.0.0.1) 0.50ms
[E 180822 11:36:53 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:36:57 web:2162] 101 GET /ws (127.0.0.1) 0.96ms
[E 180822 11:36:57 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:37:01 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 11:37:01 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:37:05 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 11:37:05 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 11:37:13 web:2162] 101 GET /ws (127.0.0.1) 0.83ms
[I 180822 11:37:16 web:2162] 200 GET /message/message (127.0.0.1) 13.24ms
[I 180822 11:37:16 web:2162] 101 GET /ws (127.0.0.1) 1.96ms
[I 180822 11:37:16 web:2162] 200 GET /message/message (127.0.0.1) 15.30ms
[E 180822 11:37:16 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:37:16 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1054200d0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:37:16 web:2162] 101 GET /ws (127.0.0.1) 0.92ms
[I 180822 11:37:17 web:2162] 101 GET /ws (127.0.0.1) 0.61ms
[E 180822 11:37:17 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:37:17 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:37:17 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x105534840>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:37:21 web:2162] 101 GET /ws (127.0.0.1) 0.89ms
[E 180822 11:37:21 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:37:21 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:37:21 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x105534a60>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:37:23 web:2162] 200 GET /message/message (127.0.0.1) 8.88ms
[E 180822 11:37:23 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:37:23 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x105434730>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:37:23 web:2162] 101 GET /ws (127.0.0.1) 0.82ms
[E 180822 11:37:23 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:37:23 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:37:23 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x105446048>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:37:24 web:2162] 200 GET /message/message (127.0.0.1) 10.93ms
[I 180822 11:37:24 web:2162] 101 GET /ws (127.0.0.1) 0.96ms
[E 180822 11:37:24 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:37:24 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:37:24 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1054462f0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:37:25 web:2162] 101 GET /ws (127.0.0.1) 0.52ms
[E 180822 11:37:25 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:37:25 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:37:25 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1068aa378>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:37:28 web:2162] 200 GET /message/message (127.0.0.1) 9.34ms
[E 180822 11:37:28 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:37:28 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x106788f28>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:37:28 web:2162] 101 GET /ws (127.0.0.1) 0.95ms
[E 180822 11:37:28 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:37:28 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:37:28 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1054462f0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:37:28 web:2162] 101 GET /ws (127.0.0.1) 0.80ms
[E 180822 11:37:28 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:37:28 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:37:28 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1054348c8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:37:29 web:2162] 101 GET /ws (127.0.0.1) 0.56ms
[E 180822 11:37:29 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:37:29 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:37:29 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x106864840>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:37:31 web:2162] 200 GET /message/message (127.0.0.1) 10.74ms
[I 180822 11:37:31 web:2162] 101 GET /ws (127.0.0.1) 1.26ms
[I 180822 11:37:32 web:2162] 101 GET /ws (127.0.0.1) 1.04ms
[E 180822 11:37:32 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:37:32 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:37:32 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1054206a8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:37:33 web:2162] 101 GET /ws (127.0.0.1) 0.90ms
[E 180822 11:37:33 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:37:33 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:37:33 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x106883048>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:37:36 web:2162] 200 GET /message/message (127.0.0.1) 11.43ms
[I 180822 11:37:36 web:2162] 101 GET /ws (127.0.0.1) 0.88ms
[E 180822 11:37:36 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:37:36 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:37:36 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1054d3d90>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:37:37 web:2162] 101 GET /ws (127.0.0.1) 0.57ms
[E 180822 11:37:37 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:37:37 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:37:37 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10551a268>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:37:39 web:2162] 200 GET /message/message (127.0.0.1) 5.94ms
[I 180822 11:37:39 web:2162] 101 GET /ws (127.0.0.1) 1.06ms
[E 180822 11:37:39 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:37:39 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:37:39 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10551a378>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:37:41 web:2162] 101 GET /ws (127.0.0.1) 0.62ms
[E 180822 11:37:41 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:37:41 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:37:41 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1067fa730>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:37:43 web:2162] 101 GET /ws (127.0.0.1) 0.68ms
[E 180822 11:37:43 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:37:43 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:37:43 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10551a268>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:37:45 web:2162] 101 GET /ws (127.0.0.1) 1.02ms
[E 180822 11:37:45 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:37:45 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:37:45 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x106864bf8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:37:47 web:2162] 101 GET /ws (127.0.0.1) 1.10ms
[I 180822 11:37:49 message_handler:180] 聊天室人数：2
[I 180822 11:37:50 web:2162] 101 GET /ws (127.0.0.1) 0.91ms
[E 180822 11:37:50 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:37:50 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:37:50 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10551a400>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:37:54 web:2162] 101 GET /ws (127.0.0.1) 0.93ms
[E 180822 11:37:54 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:37:54 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:37:54 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10551a268>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:37:58 web:2162] 101 GET /ws (127.0.0.1) 0.52ms
[E 180822 11:37:58 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:37:58 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:37:58 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1068e70d0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:38:02 web:2162] 101 GET /ws (127.0.0.1) 0.66ms
[E 180822 11:38:02 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:38:02 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:38:02 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1068e72f0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:38:06 web:2162] 101 GET /ws (127.0.0.1) 0.50ms
[E 180822 11:38:06 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:38:06 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:38:06 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x104349ae8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:38:10 web:2162] 101 GET /ws (127.0.0.1) 0.54ms
[E 180822 11:38:10 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:38:10 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:38:10 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x104349ae8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:38:14 web:2162] 101 GET /ws (127.0.0.1) 0.95ms
[E 180822 11:38:14 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:38:14 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:38:14 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1054348c8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:38:18 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 11:38:18 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:38:18 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:38:18 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1068e70d0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:38:23 web:2162] 101 GET /ws (127.0.0.1) 2.25ms
[E 180822 11:38:23 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:38:23 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:38:23 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1068642f0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:38:27 web:2162] 101 GET /ws (127.0.0.1) 0.52ms
[E 180822 11:38:27 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:38:27 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:38:27 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1054348c8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:38:31 web:2162] 101 GET /ws (127.0.0.1) 1.50ms
[E 180822 11:38:31 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:38:31 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:38:31 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1068648c8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:38:35 web:2162] 101 GET /ws (127.0.0.1) 1.10ms
[E 180822 11:38:35 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:38:35 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:38:35 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1068646a8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:38:39 web:2162] 101 GET /ws (127.0.0.1) 0.82ms
[E 180822 11:38:39 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:38:39 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:38:39 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x105434730>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:38:43 web:2162] 101 GET /ws (127.0.0.1) 0.57ms
[E 180822 11:38:43 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:38:43 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:38:43 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x106864620>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:38:48 web:2162] 101 GET /ws (127.0.0.1) 0.52ms
[E 180822 11:38:48 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:38:48 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:38:48 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1054348c8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:38:52 web:2162] 101 GET /ws (127.0.0.1) 0.47ms
[E 180822 11:38:52 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:38:52 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:38:52 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x106864c80>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:38:56 web:2162] 101 GET /ws (127.0.0.1) 0.73ms
[E 180822 11:38:56 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:38:56 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:38:56 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x106864840>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:39:00 web:2162] 101 GET /ws (127.0.0.1) 0.61ms
[E 180822 11:39:00 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:39:00 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:39:00 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x105434730>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:39:04 web:2162] 101 GET /ws (127.0.0.1) 0.98ms
[E 180822 11:39:04 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:39:04 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:39:04 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1068aa378>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:39:08 web:2162] 101 GET /ws (127.0.0.1) 0.77ms
[E 180822 11:39:08 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:39:08 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:39:08 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x105434730>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:39:09 web:2162] 200 GET /message/message (127.0.0.1) 7.66ms
[E 180822 11:39:09 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:39:09 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1067889d8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:39:09 web:2162] 101 GET /ws (127.0.0.1) 1.11ms
[E 180822 11:39:09 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:39:09 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:39:09 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x105420048>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:39:11 web:2162] 200 GET /message/message (127.0.0.1) 7.36ms
[I 180822 11:39:11 web:2162] 101 GET /ws (127.0.0.1) 0.86ms
[I 180822 11:39:12 web:2162] 200 GET /message/message (127.0.0.1) 9.28ms
[E 180822 11:39:12 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:39:12 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1068646a8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:39:12 web:2162] 101 GET /ws (127.0.0.1) 0.87ms
[I 180822 11:39:12 web:2162] 101 GET /ws (127.0.0.1) 1.00ms
[E 180822 11:39:12 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:39:12 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:39:12 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x105420598>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:39:14 web:2162] 200 GET /message/message (127.0.0.1) 9.64ms
[E 180822 11:39:14 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:39:14 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1067dab70>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:39:15 web:2162] 101 GET /ws (127.0.0.1) 0.98ms
[E 180822 11:39:15 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:39:15 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:39:15 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x105420598>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:39:17 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 11:39:17 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:39:17 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:39:17 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1068caae8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:39:18 web:2162] 200 GET /message/message (127.0.0.1) 13.73ms
[I 180822 11:39:18 web:2162] 101 GET /ws (127.0.0.1) 1.11ms
[E 180822 11:39:18 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:39:18 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:39:18 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1054201e0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:39:20 web:2162] 200 GET /message/message (127.0.0.1) 7.93ms
[I 180822 11:39:20 web:2162] 101 GET /ws (127.0.0.1) 1.05ms
[E 180822 11:39:20 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:39:20 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:39:20 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1054200d0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:39:21 web:2162] 101 GET /ws (127.0.0.1) 0.53ms
[E 180822 11:39:21 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:39:21 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:39:21 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1068ca268>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:39:21 web:2162] 200 GET /message/message (127.0.0.1) 10.64ms
[I 180822 11:39:21 web:2162] 101 GET /ws (127.0.0.1) 0.76ms
[E 180822 11:39:21 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:39:21 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:39:21 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1054d3ae8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:39:22 web:2162] 200 GET /message/message (127.0.0.1) 8.04ms
[I 180822 11:39:22 web:2162] 101 GET /ws (127.0.0.1) 1.02ms
[I 180822 11:39:22 web:2162] 200 GET /message/message (127.0.0.1) 12.43ms
[E 180822 11:39:22 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:39:22 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1067ec268>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:39:22 web:2162] 101 GET /ws (127.0.0.1) 1.45ms
[E 180822 11:39:22 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:39:22 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:39:22 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x105420048>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:39:22 web:2162] 200 GET /message/message (127.0.0.1) 11.77ms
[I 180822 11:39:22 web:2162] 101 GET /ws (127.0.0.1) 0.89ms
[E 180822 11:39:22 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:39:22 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:39:22 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x105420048>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:39:23 web:2162] 200 GET /message/message (127.0.0.1) 10.88ms
[I 180822 11:39:23 web:2162] 101 GET /ws (127.0.0.1) 0.81ms
[I 180822 11:39:25 web:2162] 101 GET /ws (127.0.0.1) 0.56ms
[E 180822 11:39:25 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:39:25 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:39:25 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x105504400>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:39:29 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 11:39:29 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:39:30 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:39:30 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x106908d90>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:39:31 web:2162] 101 GET /ws (127.0.0.1) 0.54ms
[E 180822 11:39:31 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:39:31 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:39:31 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x105504510>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:39:34 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[E 180822 11:39:34 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:39:34 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:39:34 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x106864620>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:39:35 web:2162] 101 GET /ws (127.0.0.1) 0.55ms
[E 180822 11:39:35 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:39:35 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:39:35 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x105420840>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:39:38 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 11:39:38 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:39:38 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:39:38 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1054d3ae8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:39:39 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 11:39:39 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:39:39 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:39:39 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1054d3b70>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:39:42 web:2162] 101 GET /ws (127.0.0.1) 0.50ms
[E 180822 11:39:42 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:39:42 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:39:42 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1067da048>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:39:43 web:2162] 101 GET /ws (127.0.0.1) 0.65ms
[E 180822 11:39:43 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:39:43 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:39:43 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1054d3ae8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:39:46 web:2162] 101 GET /ws (127.0.0.1) 1.52ms
[E 180822 11:39:46 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:39:46 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:39:46 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1068d4a60>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:39:47 web:2162] 101 GET /ws (127.0.0.1) 1.31ms
[E 180822 11:39:47 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:39:47 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:39:47 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1054d30d0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:39:50 web:2162] 101 GET /ws (127.0.0.1) 0.51ms
[E 180822 11:39:50 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:39:50 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:39:50 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1068d49d8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:39:51 web:2162] 101 GET /ws (127.0.0.1) 0.53ms
[E 180822 11:39:51 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:39:51 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:39:51 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1054d3158>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:39:54 web:2162] 101 GET /ws (127.0.0.1) 0.53ms
[E 180822 11:39:54 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:39:54 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:39:54 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1068d4a60>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:39:55 web:2162] 101 GET /ws (127.0.0.1) 0.54ms
[I 180822 11:39:58 web:2162] 101 GET /ws (127.0.0.1) 0.66ms
[E 180822 11:39:58 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:39:58 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:39:58 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1054d30d0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:40:03 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 11:40:03 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:40:03 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:40:03 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1054d3b70>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:40:10 web:2162] 101 GET /ws (127.0.0.1) 1.09ms
[E 180822 11:40:10 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:40:10 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:40:10 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x106908f28>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:40:14 web:2162] 101 GET /ws (127.0.0.1) 0.47ms
[E 180822 11:40:14 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:40:14 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:40:14 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1054d3ae8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:40:18 web:2162] 101 GET /ws (127.0.0.1) 0.50ms
[E 180822 11:40:18 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:40:18 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:40:18 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1068d4e18>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:40:22 web:2162] 101 GET /ws (127.0.0.1) 0.55ms
[E 180822 11:40:22 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:40:22 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:40:22 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1068d4e18>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:40:26 web:2162] 101 GET /ws (127.0.0.1) 0.58ms
[E 180822 11:40:26 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:40:26 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:40:26 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1054d3048>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:40:27 web:2162] 101 GET /ws (127.0.0.1) 0.90ms
[I 180822 11:40:30 web:2162] 101 GET /ws (127.0.0.1) 0.54ms
[E 180822 11:40:30 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:40:30 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:40:30 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1054d3048>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:40:34 web:2162] 101 GET /ws (127.0.0.1) 0.77ms
[E 180822 11:40:34 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:40:34 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:40:34 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1054d3b70>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:40:38 web:2162] 101 GET /ws (127.0.0.1) 0.51ms
[E 180822 11:40:38 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:40:38 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:40:38 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1067fa730>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:40:43 web:2162] 101 GET /ws (127.0.0.1) 0.52ms
[E 180822 11:40:43 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:40:43 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:40:43 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1068d4ae8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:40:43 web:2162] 200 GET /message/message (127.0.0.1) 8.83ms
[E 180822 11:40:43 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:40:43 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1068d4ae8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:40:43 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:40:43 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1068d4ae8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:40:43 web:2162] 101 GET /ws (127.0.0.1) 1.62ms
[I 180822 11:40:47 web:2162] 101 GET /ws (127.0.0.1) 0.53ms
[E 180822 11:40:47 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:40:47 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:40:47 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10400a488>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:40:51 web:2162] 101 GET /ws (127.0.0.1) 0.83ms
[E 180822 11:40:51 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:40:51 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:40:51 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10544f730>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:40:55 web:2162] 101 GET /ws (127.0.0.1) 0.69ms
[E 180822 11:40:55 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:40:55 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:40:55 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x106864620>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:40:59 web:2162] 101 GET /ws (127.0.0.1) 0.98ms
[E 180822 11:40:59 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:40:59 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:40:59 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1054460d0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:41:03 web:2162] 101 GET /ws (127.0.0.1) 0.47ms
[E 180822 11:41:03 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:41:03 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:41:03 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x106864b70>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:41:07 web:2162] 101 GET /ws (127.0.0.1) 0.50ms
[E 180822 11:41:07 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:41:07 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:41:07 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x106864620>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:41:11 web:2162] 101 GET /ws (127.0.0.1) 0.50ms
[E 180822 11:41:11 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:41:11 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:41:11 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10544fae8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:41:16 web:2162] 101 GET /ws (127.0.0.1) 0.73ms
[E 180822 11:41:16 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:41:16 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:41:16 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x106864b70>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:41:20 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[E 180822 11:41:20 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:41:20 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:41:20 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1054461e0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:41:24 web:2162] 101 GET /ws (127.0.0.1) 0.67ms
[E 180822 11:41:24 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:41:24 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:41:24 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x106864620>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:41:28 web:2162] 101 GET /ws (127.0.0.1) 0.57ms
[E 180822 11:41:28 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:41:28 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:41:28 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x105420840>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:41:32 web:2162] 101 GET /ws (127.0.0.1) 0.75ms
[E 180822 11:41:32 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:41:32 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:41:32 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x106864b70>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:41:36 web:2162] 101 GET /ws (127.0.0.1) 0.65ms
[E 180822 11:41:36 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:41:36 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:41:36 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1054460d0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:41:40 web:2162] 101 GET /ws (127.0.0.1) 0.68ms
[E 180822 11:41:40 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:41:40 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:41:40 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x106864620>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:41:44 web:2162] 101 GET /ws (127.0.0.1) 0.51ms
[E 180822 11:41:44 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:41:44 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:41:44 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x106864b70>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:41:48 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 11:41:48 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:41:48 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:41:48 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x105420840>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:41:53 web:2162] 101 GET /ws (127.0.0.1) 0.55ms
[E 180822 11:41:53 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:41:53 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:41:53 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1054460d0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:41:57 web:2162] 101 GET /ws (127.0.0.1) 0.54ms
[E 180822 11:41:57 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:41:57 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:41:57 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x105420840>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:42:01 web:2162] 101 GET /ws (127.0.0.1) 0.47ms
[E 180822 11:42:01 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:42:01 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:42:01 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x106864620>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:42:05 web:2162] 101 GET /ws (127.0.0.1) 0.55ms
[E 180822 11:42:05 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:42:05 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:42:05 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x106864b70>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:42:09 web:2162] 101 GET /ws (127.0.0.1) 0.47ms
[E 180822 11:42:09 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:42:09 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:42:09 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1054460d0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:42:13 web:2162] 101 GET /ws (127.0.0.1) 0.74ms
[E 180822 11:42:13 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:42:13 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:42:13 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x105420840>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        v.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:42:15 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 11:42:15 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 11:42:17 web:2162] 101 GET /ws (127.0.0.1) 1.21ms
[E 180822 11:42:17 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:42:17 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 185, in on_close
        logging.info("%s退出了聊天室" % self.current_user.name)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:42:17 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10b1f3620>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 185, in on_close
        logging.info("%s退出了聊天室" % self.current_user.name)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:42:19 web:2162] 101 GET /ws (127.0.0.1) 0.96ms
[I 180822 11:42:19 web:2162] 101 GET /ws (127.0.0.1) 0.79ms
[I 180822 11:42:24 web:2162] 101 GET /ws (127.0.0.1) 0.94ms
[I 180822 11:42:24 web:2162] 101 GET /ws (127.0.0.1) 1.45ms
[I 180822 11:42:25 web:2162] 200 GET /message/message (127.0.0.1) 10.63ms
[I 180822 11:42:25 message_handler:185] comi退出了聊天室
[E 180822 11:42:25 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        self.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:42:25 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x106ab59d8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        self.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:42:25 web:2162] 101 GET /ws (127.0.0.1) 0.77ms
[I 180822 11:42:25 web:2162] 101 GET /ws (127.0.0.1) 1.05ms
[E 180822 11:42:25 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:42:25 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 185, in on_close
        logging.info("%s退出了聊天室" % self.current_user.name)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:42:25 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x106c19488>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 185, in on_close
        logging.info("%s退出了聊天室" % self.current_user.name)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:42:26 web:2162] 200 GET /message/message (127.0.0.1) 9.78ms
[I 180822 11:42:26 message_handler:185] test退出了聊天室
[E 180822 11:42:26 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        self.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:42:26 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10d7c40d0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        self.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:42:28 web:2162] 200 GET /message/message (127.0.0.1) 9.97ms
[I 180822 11:42:28 web:2162] 101 GET /ws (127.0.0.1) 1.29ms
[I 180822 11:42:29 web:2162] 101 GET /ws (127.0.0.1) 0.57ms
[E 180822 11:42:29 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:42:29 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 185, in on_close
        logging.info("%s退出了聊天室" % self.current_user.name)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:42:29 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10d8f40d0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 185, in on_close
        logging.info("%s退出了聊天室" % self.current_user.name)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:42:33 web:2162] 101 GET /ws (127.0.0.1) 0.67ms
[E 180822 11:42:33 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:42:33 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 185, in on_close
        logging.info("%s退出了聊天室" % self.current_user.name)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:42:33 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x106af3048>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 185, in on_close
        logging.info("%s退出了聊天室" % self.current_user.name)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:42:37 web:2162] 101 GET /ws (127.0.0.1) 0.59ms
[E 180822 11:42:37 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:42:37 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 185, in on_close
        logging.info("%s退出了聊天室" % self.current_user.name)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:42:37 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x106ab5ea0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 185, in on_close
        logging.info("%s退出了聊天室" % self.current_user.name)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:42:41 web:2162] 101 GET /ws (127.0.0.1) 0.52ms
[E 180822 11:42:41 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:42:41 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 185, in on_close
        logging.info("%s退出了聊天室" % self.current_user.name)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:42:41 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10d8f42f0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 185, in on_close
        logging.info("%s退出了聊天室" % self.current_user.name)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:42:45 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[E 180822 11:42:45 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:42:45 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 185, in on_close
        logging.info("%s退出了聊天室" % self.current_user.name)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:42:45 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10d8f40d0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 185, in on_close
        logging.info("%s退出了聊天室" % self.current_user.name)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:42:48 message_handler:185] test退出了聊天室
[E 180822 11:42:48 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        self.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:42:48 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10bec1e18>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        self.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:42:49 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 11:42:49 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:42:49 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 185, in on_close
        logging.info("%s退出了聊天室" % self.current_user.name)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:42:49 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x106af3598>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 185, in on_close
        logging.info("%s退出了聊天室" % self.current_user.name)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:42:53 web:2162] 101 GET /ws (127.0.0.1) 0.83ms
[E 180822 11:42:53 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:42:53 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 185, in on_close
        logging.info("%s退出了聊天室" % self.current_user.name)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:42:53 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x106ab5ae8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 185, in on_close
        logging.info("%s退出了聊天室" % self.current_user.name)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:42:58 web:2162] 101 GET /ws (127.0.0.1) 0.54ms
[E 180822 11:42:58 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:42:58 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 185, in on_close
        logging.info("%s退出了聊天室" % self.current_user.name)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:42:58 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10d7c4510>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 185, in on_close
        logging.info("%s退出了聊天室" % self.current_user.name)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:43:02 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[E 180822 11:43:02 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:43:02 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 185, in on_close
        logging.info("%s退出了聊天室" % self.current_user.name)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:43:02 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x106af3730>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 185, in on_close
        logging.info("%s退出了聊天室" % self.current_user.name)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:43:06 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 11:43:06 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:43:06 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 185, in on_close
        logging.info("%s退出了聊天室" % self.current_user.name)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:43:06 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10bec1e18>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 185, in on_close
        logging.info("%s退出了聊天室" % self.current_user.name)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:43:10 web:2162] 101 GET /ws (127.0.0.1) 1.24ms
[E 180822 11:43:10 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:43:10 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 185, in on_close
        logging.info("%s退出了聊天室" % self.current_user.name)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:43:10 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x106ab5ea0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 185, in on_close
        logging.info("%s退出了聊天室" % self.current_user.name)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:43:14 web:2162] 101 GET /ws (127.0.0.1) 0.81ms
[E 180822 11:43:14 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:43:14 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 185, in on_close
        logging.info("%s退出了聊天室" % self.current_user.name)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:43:14 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x106af3598>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 185, in on_close
        logging.info("%s退出了聊天室" % self.current_user.name)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:43:16 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 11:43:16 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 11:43:18 web:2162] 101 GET /ws (127.0.0.1) 0.85ms
[E 180822 11:43:18 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:43:18 message_handler:185] 退出了聊天室
[E 180822 11:43:18 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        self.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:43:18 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10f6ce6a8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        self.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:43:25 web:2162] 101 GET /ws (127.0.0.1) 0.84ms
[I 180822 11:43:30 web:2162] 101 GET /ws (127.0.0.1) 0.69ms
[E 180822 11:43:30 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:43:30 message_handler:185] 退出了聊天室
[E 180822 11:43:30 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        self.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[E 180822 11:43:30 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10c2296a8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        self.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 11:43:30 web:2162] 302 GET /message/message (127.0.0.1) 2.54ms
[I 180822 11:43:30 web:2162] 200 GET /login?next=%2Fmessage%2Fmessage (127.0.0.1) 10.50ms
[I 180822 11:43:36 web:2162] 302 POST /login?next=%2Fmessage%2Fmessage (127.0.0.1) 4.78ms
[I 180822 11:43:36 web:2162] 200 GET /message/message (127.0.0.1) 7.36ms
[I 180822 11:43:36 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[I 180822 11:43:53 web:2162] 200 GET /login (127.0.0.1) 8.84ms
[I 180822 11:43:53 message_handler:185] 退出了聊天室
[E 180822 11:43:53 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        self.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:43:53 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10b550158>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        self.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:44:08 web:2162] 302 POST /login (127.0.0.1) 5.13ms
[I 180822 11:44:08 web:2162] 200 GET / (127.0.0.1) 27.79ms
[I 180822 11:44:10 web:2162] 200 GET /message/message (127.0.0.1) 9.13ms
[I 180822 11:44:11 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[I 180822 11:44:20 web:2162] 200 GET /message/message (127.0.0.1) 7.99ms
[I 180822 11:44:20 message_handler:185] 退出了聊天室
[E 180822 11:44:20 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        self.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:44:20 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10b60bbf8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        self.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:44:20 web:2162] 101 GET /ws (127.0.0.1) 1.00ms
[I 180822 11:44:21 web:2162] 200 GET /message/message (127.0.0.1) 11.66ms
[I 180822 11:44:21 message_handler:185] 退出了聊天室
[E 180822 11:44:21 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        self.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:44:21 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10b60be18>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        self.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:44:22 web:2162] 101 GET /ws (127.0.0.1) 1.30ms
[I 180822 11:44:27 message_handler:180] 聊天室人数：1
[I 180822 11:44:28 message_handler:180] 聊天室人数：1
[I 180822 11:44:35 web:2162] 200 GET /message/message (127.0.0.1) 6.81ms
[I 180822 11:44:35 message_handler:185] 退出了聊天室
[E 180822 11:44:35 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        self.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:44:35 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10c24fea0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        self.write_message({"come": "%s退出了聊天室" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:44:35 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[I 180822 11:44:38 message_handler:180] 聊天室人数：2
[I 180822 11:45:13 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 11:45:13 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 11:45:28 web:2162] 200 GET /message/message (127.0.0.1) 8.20ms
[I 180822 11:45:28 web:2162] 101 GET /ws (127.0.0.1) 1.00ms
[I 180822 11:45:28 web:2162] 304 GET /message/message (127.0.0.1) 7.38ms
[I 180822 11:45:28 message_handler:185] 退出了聊天室
[E 180822 11:45:28 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        self.write_message({"come": "退出了聊天室"})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:45:28 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x104ffb2f0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        self.write_message({"come": "退出了聊天室"})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:45:29 web:2162] 101 GET /ws (127.0.0.1) 0.56ms
[I 180822 11:45:32 web:2162] 200 GET /message/message (127.0.0.1) 8.33ms
[I 180822 11:45:32 web:2162] 101 GET /ws (127.0.0.1) 0.80ms
[I 180822 11:45:41 message_handler:180] 聊天室人数：2
[I 180822 11:45:43 message_handler:185] 退出了聊天室
[E 180822 11:45:43 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        self.write_message({"come": "退出了聊天室"})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:45:43 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10a604620>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        self.write_message({"come": "退出了聊天室"})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:46:07 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 11:46:07 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 11:46:12 web:2162] 101 GET /ws (127.0.0.1) 1.13ms
[I 180822 11:46:16 web:2162] 101 GET /ws (127.0.0.1) 1.19ms
[I 180822 11:46:22 web:2162] 200 GET /login (127.0.0.1) 8.92ms
[I 180822 11:46:26 web:2162] 302 POST /login (127.0.0.1) 21.25ms
[I 180822 11:46:26 web:2162] 304 GET / (127.0.0.1) 10.94ms
[I 180822 11:46:31 web:2162] 200 GET /message/message (127.0.0.1) 9.19ms
[I 180822 11:46:31 message_handler:185] 退出了聊天室
[E 180822 11:46:31 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        self.write_message("退出了聊天室")
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:46:31 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1043100d0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        self.write_message("退出了聊天室")
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:46:31 web:2162] 101 GET /ws (127.0.0.1) 1.10ms
[I 180822 11:46:34 web:2162] 200 GET /message/message (127.0.0.1) 6.75ms
[I 180822 11:46:35 web:2162] 101 GET /ws (127.0.0.1) 0.56ms
[I 180822 11:46:39 web:2162] 304 GET /message/message (127.0.0.1) 7.82ms
[I 180822 11:46:39 message_handler:185] 退出了聊天室
[E 180822 11:46:39 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        self.write_message("退出了聊天室")
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:46:39 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x107b07ae8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        self.write_message("退出了聊天室")
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:46:39 web:2162] 101 GET /ws (127.0.0.1) 0.55ms
[I 180822 11:46:39 web:2162] 200 GET /favicon.ico (127.0.0.1) 6.26ms
[I 180822 11:46:40 web:2162] 304 GET /message/message (127.0.0.1) 6.93ms
[I 180822 11:46:40 message_handler:185] 退出了聊天室
[E 180822 11:46:40 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        self.write_message("退出了聊天室")
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:46:40 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x108be4048>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        self.write_message("退出了聊天室")
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:46:40 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.85ms
[I 180822 11:46:40 web:2162] 101 GET /ws (127.0.0.1) 0.66ms
[I 180822 11:46:47 message_handler:180] 聊天室人数：2
[I 180822 11:46:56 message_handler:185] 退出了聊天室
[E 180822 11:46:56 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        self.write_message("退出了聊天室")
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 11:46:56 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x104319ae8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 186, in on_close
        self.write_message("退出了聊天室")
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:47:14 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 11:47:14 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 11:47:20 web:2162] 101 GET /ws (127.0.0.1) 0.86ms
[I 180822 11:50:04 web:2162] 200 GET /message/message (127.0.0.1) 15.57ms
[I 180822 11:50:04 web:2162] 101 GET /ws (127.0.0.1) 1.09ms
[I 180822 11:50:13 web:2162] 200 GET /login?next=%2F (127.0.0.1) 17.86ms
[I 180822 11:50:17 web:2162] 302 POST /login?next=%2F (127.0.0.1) 10.07ms
[I 180822 11:50:17 web:2162] 304 GET / (127.0.0.1) 40.69ms
[I 180822 11:50:18 web:2162] 200 GET /message/message (127.0.0.1) 8.83ms
[I 180822 11:50:18 web:2162] 101 GET /ws (127.0.0.1) 0.86ms
[I 180822 11:51:28 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 11:51:28 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 11:51:32 web:2162] 101 GET /ws (127.0.0.1) 0.67ms
[I 180822 11:51:32 message_handler:160] 聊天室人数：1
[I 180822 11:51:33 web:2162] 200 GET /message/message (127.0.0.1) 11.68ms
[I 180822 11:51:33 web:2162] 101 GET /ws (127.0.0.1) 0.79ms
[I 180822 11:51:33 message_handler:160] 聊天室人数：1
[I 180822 11:51:58 web:2162] 200 GET /message/message (127.0.0.1) 8.80ms
[I 180822 11:51:58 web:2162] 101 GET /ws (127.0.0.1) 0.88ms
[I 180822 11:51:58 message_handler:160] 聊天室人数：1
[I 180822 11:52:14 web:2162] 200 GET /message/message (127.0.0.1) 6.86ms
[I 180822 11:52:15 web:2162] 101 GET /ws (127.0.0.1) 1.16ms
[I 180822 11:52:15 message_handler:160] 聊天室人数：2
[I 180822 11:52:28 web:2162] 200 GET /login (127.0.0.1) 9.68ms
[I 180822 11:52:39 web:2162] 302 POST /login (127.0.0.1) 5.30ms
[I 180822 11:52:39 web:2162] 304 GET / (127.0.0.1) 9.64ms
[I 180822 11:52:41 web:2162] 304 GET /message/message (127.0.0.1) 7.41ms
[I 180822 11:52:41 web:2162] 101 GET /ws (127.0.0.1) 0.83ms
[I 180822 11:52:41 message_handler:160] 聊天室人数：2
[I 180822 11:52:48 message_handler:181] 聊天室人数：2
[I 180822 11:52:54 message_handler:181] 聊天室人数：2
[I 180822 11:53:30 web:2162] 200 GET /message/message (127.0.0.1) 12.55ms
[I 180822 11:53:30 web:2162] 101 GET /ws (127.0.0.1) 1.26ms
[I 180822 11:53:30 message_handler:160] 聊天室人数：1
[I 180822 11:53:42 message_handler:181] 聊天室人数：2
[E 180822 11:53:42 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 183, in on_message
        v.write_message(message)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:53:46 web:2162] 101 GET /ws (127.0.0.1) 0.96ms
[E 180822 11:53:46 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:53:50 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[I 180822 11:53:50 message_handler:160] 聊天室人数：2
[I 180822 11:54:25 message_handler:181] 聊天室人数：2
[I 180822 11:54:29 web:2162] 200 GET /message/message (127.0.0.1) 8.11ms
[I 180822 11:54:29 web:2162] 101 GET /ws (127.0.0.1) 1.05ms
[E 180822 11:54:29 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:54:33 web:2162] 101 GET /ws (127.0.0.1) 0.85ms
[I 180822 11:54:33 message_handler:160] 聊天室人数：2
[I 180822 11:55:37 web:2162] 302 GET / (127.0.0.1) 3.12ms
[I 180822 11:55:37 web:2162] 200 GET /login?next=%2F (127.0.0.1) 9.59ms
[I 180822 11:55:38 web:2162] 200 GET /favicon.ico (127.0.0.1) 9.11ms
[I 180822 11:55:46 web:2162] 302 POST /login?next=%2F (127.0.0.1) 5.85ms
[I 180822 11:55:46 web:2162] 200 GET / (127.0.0.1) 10.59ms
[I 180822 11:55:47 web:2162] 200 GET /message/message (127.0.0.1) 8.22ms
[I 180822 11:55:47 web:2162] 101 GET /ws (127.0.0.1) 0.78ms
[E 180822 11:55:47 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:55:52 web:2162] 101 GET /ws (127.0.0.1) 0.93ms
[I 180822 11:55:52 message_handler:160] 聊天室人数：3
[W 180822 11:56:56 web:2162] 404 GET /logoout (127.0.0.1) 2.37ms
[I 180822 11:57:01 web:2162] 302 GET /logout (127.0.0.1) 3.52ms
[I 180822 11:57:01 web:2162] 200 GET /login (127.0.0.1) 9.39ms
[I 180822 11:57:07 web:2162] 302 POST /login (127.0.0.1) 5.32ms
[I 180822 11:57:07 web:2162] 200 GET / (127.0.0.1) 8.57ms
[I 180822 11:57:09 web:2162] 200 GET /message/message (127.0.0.1) 7.50ms
[I 180822 11:57:09 web:2162] 101 GET /ws (127.0.0.1) 0.75ms
[E 180822 11:57:09 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:57:13 web:2162] 101 GET /ws (127.0.0.1) 0.87ms
[E 180822 11:57:13 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:57:17 web:2162] 101 GET /ws (127.0.0.1) 0.76ms
[E 180822 11:57:17 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:57:21 web:2162] 101 GET /ws (127.0.0.1) 0.76ms
[E 180822 11:57:21 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:57:25 web:2162] 101 GET /ws (127.0.0.1) 0.75ms
[E 180822 11:57:25 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:57:27 web:2162] 304 GET /message/message (127.0.0.1) 7.25ms
[I 180822 11:57:27 web:2162] 101 GET /ws (127.0.0.1) 0.75ms
[E 180822 11:57:27 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:57:29 web:2162] 304 GET /message/message (127.0.0.1) 7.39ms
[I 180822 11:57:29 web:2162] 101 GET /ws (127.0.0.1) 0.47ms
[E 180822 11:57:29 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:57:30 web:2162] 304 GET /message/message (127.0.0.1) 7.40ms
[I 180822 11:57:30 web:2162] 101 GET /ws (127.0.0.1) 0.75ms
[E 180822 11:57:30 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:57:31 web:2162] 304 GET /message/message (127.0.0.1) 7.15ms
[I 180822 11:57:31 web:2162] 101 GET /ws (127.0.0.1) 0.79ms
[E 180822 11:57:31 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:57:35 web:2162] 101 GET /ws (127.0.0.1) 1.18ms
[E 180822 11:57:35 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:57:40 web:2162] 101 GET /ws (127.0.0.1) 0.81ms
[E 180822 11:57:40 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:57:44 web:2162] 101 GET /ws (127.0.0.1) 0.74ms
[E 180822 11:57:44 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:57:46 web:2162] 304 GET /message/message (127.0.0.1) 7.15ms
[I 180822 11:57:46 web:2162] 101 GET /ws (127.0.0.1) 0.75ms
[E 180822 11:57:46 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:57:50 web:2162] 101 GET /ws (127.0.0.1) 0.75ms
[E 180822 11:57:50 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:57:54 web:2162] 101 GET /ws (127.0.0.1) 1.16ms
[E 180822 11:57:54 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:57:58 web:2162] 101 GET /ws (127.0.0.1) 0.82ms
[E 180822 11:57:58 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:58:02 web:2162] 101 GET /ws (127.0.0.1) 0.74ms
[E 180822 11:58:02 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:58:07 web:2162] 101 GET /ws (127.0.0.1) 0.78ms
[E 180822 11:58:07 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:58:11 web:2162] 101 GET /ws (127.0.0.1) 0.97ms
[E 180822 11:58:11 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:58:15 web:2162] 101 GET /ws (127.0.0.1) 0.74ms
[E 180822 11:58:15 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:58:17 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 11:58:17 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 11:58:19 web:2162] 101 GET /ws (127.0.0.1) 0.77ms
[I 180822 11:58:19 message_handler:160] 聊天室人数：1
[I 180822 11:58:21 web:2162] 101 GET /ws (127.0.0.1) 0.67ms
[I 180822 11:58:22 message_handler:160] 聊天室人数：1
[I 180822 11:58:23 web:2162] 101 GET /ws (127.0.0.1) 0.67ms
[I 180822 11:58:23 message_handler:160] 聊天室人数：2
[I 180822 11:58:23 web:2162] 304 GET /message/message (127.0.0.1) 8.57ms
[I 180822 11:58:23 web:2162] 101 GET /ws (127.0.0.1) 0.74ms
[I 180822 11:58:23 message_handler:160] 聊天室人数：1
[I 180822 11:58:36 web:2162] 302 GET /logout (127.0.0.1) 3.26ms
[I 180822 11:58:36 web:2162] 200 GET /login (127.0.0.1) 9.38ms
[I 180822 11:58:45 web:2162] 302 POST /login (127.0.0.1) 5.25ms
[I 180822 11:58:45 web:2162] 304 GET / (127.0.0.1) 10.85ms
[I 180822 11:58:48 web:2162] 304 GET /message/message (127.0.0.1) 9.37ms
[I 180822 11:58:49 web:2162] 101 GET /ws (127.0.0.1) 0.81ms
[I 180822 11:58:49 message_handler:160] 聊天室人数：3
[I 180822 11:59:18 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 11:59:18 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 11:59:22 web:2162] 101 GET /ws (127.0.0.1) 1.16ms
[I 180822 11:59:22 web:2162] 101 GET /ws (127.0.0.1) 1.00ms
[I 180822 11:59:22 message_handler:159] test
[I 180822 11:59:22 message_handler:161] 聊天室人数：1
[I 180822 11:59:22 message_handler:159] comi1
[I 180822 11:59:22 message_handler:161] 聊天室人数：1
[I 180822 11:59:22 web:2162] 101 GET /ws (127.0.0.1) 0.52ms
[I 180822 11:59:22 message_handler:159] comi1
[I 180822 11:59:22 message_handler:159] tpg
[I 180822 11:59:22 message_handler:161] 聊天室人数：2
[I 180822 11:59:28 web:2162] 302 GET /logout (127.0.0.1) 3.47ms
[I 180822 11:59:28 web:2162] 200 GET /login (127.0.0.1) 8.82ms
[I 180822 11:59:33 web:2162] 302 POST /login (127.0.0.1) 4.77ms
[I 180822 11:59:33 web:2162] 200 GET / (127.0.0.1) 10.92ms
[I 180822 11:59:38 web:2162] 200 GET /message/message (127.0.0.1) 9.21ms
[I 180822 11:59:39 web:2162] 101 GET /ws (127.0.0.1) 0.82ms
[I 180822 11:59:39 message_handler:159] comi1
[E 180822 11:59:39 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 160, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:59:43 web:2162] 101 GET /ws (127.0.0.1) 0.83ms
[I 180822 11:59:43 message_handler:159] comi1
[E 180822 11:59:43 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 160, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 11:59:47 web:2162] 101 GET /ws (127.0.0.1) 0.76ms
[I 180822 11:59:47 message_handler:159] test
[I 180822 11:59:47 message_handler:159] comi
[I 180822 11:59:47 message_handler:161] 聊天室人数：2
[I 180822 13:24:49 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 13:24:49 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 13:24:54 web:2162] 101 GET /ws (127.0.0.1) 0.69ms
[E 180822 13:24:54 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:24:59 web:2162] 101 GET /ws (127.0.0.1) 0.63ms
[E 180822 13:24:59 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:25:04 web:2162] 101 GET /ws (127.0.0.1) 0.70ms
[E 180822 13:25:04 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:25:10 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[E 180822 13:25:10 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:25:16 web:2162] 101 GET /ws (127.0.0.1) 0.58ms
[E 180822 13:25:16 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:25:22 web:2162] 101 GET /ws (127.0.0.1) 0.51ms
[E 180822 13:25:22 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:25:28 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 13:25:28 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:25:34 web:2162] 101 GET /ws (127.0.0.1) 0.57ms
[E 180822 13:25:34 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:25:40 web:2162] 101 GET /ws (127.0.0.1) 0.47ms
[E 180822 13:25:40 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:25:44 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[E 180822 13:25:44 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:25:50 web:2162] 101 GET /ws (127.0.0.1) 0.58ms
[E 180822 13:25:50 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:25:56 web:2162] 101 GET /ws (127.0.0.1) 0.68ms
[E 180822 13:25:56 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:26:02 web:2162] 101 GET /ws (127.0.0.1) 0.60ms
[E 180822 13:26:02 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:26:08 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 13:26:08 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:26:14 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 13:26:14 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:26:20 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 13:26:20 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:26:24 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[E 180822 13:26:24 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:26:30 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 13:26:30 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:26:36 web:2162] 101 GET /ws (127.0.0.1) 0.46ms
[E 180822 13:26:36 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:26:42 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[E 180822 13:26:42 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:26:48 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 13:26:48 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:26:54 web:2162] 101 GET /ws (127.0.0.1) 0.52ms
[E 180822 13:26:54 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:27:00 web:2162] 101 GET /ws (127.0.0.1) 0.54ms
[E 180822 13:27:00 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:27:06 web:2162] 101 GET /ws (127.0.0.1) 0.76ms
[E 180822 13:27:06 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:27:12 web:2162] 101 GET /ws (127.0.0.1) 0.50ms
[E 180822 13:27:12 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:27:17 web:2162] 101 GET /ws (127.0.0.1) 0.50ms
[E 180822 13:27:17 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:27:23 web:2162] 101 GET /ws (127.0.0.1) 0.64ms
[E 180822 13:27:23 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:27:28 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 13:27:28 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:27:34 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[E 180822 13:27:34 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:27:40 web:2162] 101 GET /ws (127.0.0.1) 0.64ms
[E 180822 13:27:40 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:27:46 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 13:27:46 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:27:52 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 13:27:52 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:27:58 web:2162] 101 GET /ws (127.0.0.1) 0.56ms
[E 180822 13:27:58 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:28:03 web:2162] 101 GET /ws (127.0.0.1) 0.52ms
[E 180822 13:28:03 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:28:09 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 13:28:09 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:28:15 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 13:28:15 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:28:21 web:2162] 101 GET /ws (127.0.0.1) 0.45ms
[E 180822 13:28:21 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:28:27 web:2162] 101 GET /ws (127.0.0.1) 0.52ms
[E 180822 13:28:27 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:28:33 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[E 180822 13:28:33 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:28:39 web:2162] 101 GET /ws (127.0.0.1) 0.66ms
[E 180822 13:28:39 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:28:45 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 13:28:45 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:28:51 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[E 180822 13:28:51 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:28:57 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 13:28:57 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:29:03 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[E 180822 13:29:03 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:29:07 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[E 180822 13:29:07 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:29:13 web:2162] 101 GET /ws (127.0.0.1) 0.80ms
[E 180822 13:29:13 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:29:19 web:2162] 101 GET /ws (127.0.0.1) 0.50ms
[E 180822 13:29:19 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:29:25 web:2162] 101 GET /ws (127.0.0.1) 0.58ms
[E 180822 13:29:25 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:29:31 web:2162] 101 GET /ws (127.0.0.1) 0.50ms
[E 180822 13:29:31 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:29:37 web:2162] 101 GET /ws (127.0.0.1) 0.56ms
[E 180822 13:29:37 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:29:42 web:2162] 101 GET /ws (127.0.0.1) 0.50ms
[E 180822 13:29:42 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:29:48 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 13:29:48 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:29:54 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 13:29:54 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:30:00 web:2162] 101 GET /ws (127.0.0.1) 0.68ms
[E 180822 13:30:00 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:30:06 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 13:30:06 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:30:12 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 13:30:12 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:30:17 web:2162] 101 GET /ws (127.0.0.1) 1.37ms
[E 180822 13:30:17 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:30:22 web:2162] 101 GET /ws (127.0.0.1) 0.51ms
[E 180822 13:30:22 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:30:28 web:2162] 101 GET /ws (127.0.0.1) 0.66ms
[E 180822 13:30:28 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:30:34 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[E 180822 13:30:34 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:30:40 web:2162] 101 GET /ws (127.0.0.1) 0.72ms
[E 180822 13:30:40 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:30:45 web:2162] 101 GET /ws (127.0.0.1) 0.92ms
[E 180822 13:30:45 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:30:51 web:2162] 101 GET /ws (127.0.0.1) 0.62ms
[E 180822 13:30:51 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:30:57 web:2162] 101 GET /ws (127.0.0.1) 0.55ms
[E 180822 13:30:57 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:31:02 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 13:31:02 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:31:08 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[E 180822 13:31:08 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:31:14 web:2162] 101 GET /ws (127.0.0.1) 0.66ms
[E 180822 13:31:14 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:31:19 web:2162] 101 GET /ws (127.0.0.1) 0.52ms
[E 180822 13:31:19 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:31:25 web:2162] 101 GET /ws (127.0.0.1) 0.52ms
[E 180822 13:31:25 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:31:31 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[E 180822 13:31:31 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:31:37 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[E 180822 13:31:37 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:31:43 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[E 180822 13:31:43 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:31:49 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 13:31:49 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:31:55 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[E 180822 13:31:55 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:32:01 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 13:32:01 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:32:07 web:2162] 101 GET /ws (127.0.0.1) 0.57ms
[E 180822 13:32:07 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:32:13 web:2162] 101 GET /ws (127.0.0.1) 0.54ms
[E 180822 13:32:13 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:32:19 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 13:32:19 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:32:23 web:2162] 101 GET /ws (127.0.0.1) 0.50ms
[E 180822 13:32:23 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:32:29 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 13:32:29 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:32:35 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[E 180822 13:32:35 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:32:41 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 13:32:41 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:32:47 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 13:32:47 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:32:53 web:2162] 101 GET /ws (127.0.0.1) 0.59ms
[E 180822 13:32:53 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:32:58 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 13:32:58 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:33:04 web:2162] 101 GET /ws (127.0.0.1) 0.59ms
[E 180822 13:33:04 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:33:08 web:2162] 101 GET /ws (127.0.0.1) 0.65ms
[E 180822 13:33:08 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:33:13 web:2162] 101 GET /ws (127.0.0.1) 0.53ms
[E 180822 13:33:13 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:33:19 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 13:33:19 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:33:25 web:2162] 101 GET /ws (127.0.0.1) 0.53ms
[E 180822 13:33:25 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:33:29 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[E 180822 13:33:29 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:33:35 web:2162] 101 GET /ws (127.0.0.1) 0.50ms
[E 180822 13:33:35 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:33:41 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[E 180822 13:33:41 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:33:47 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 13:33:47 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:33:53 web:2162] 101 GET /ws (127.0.0.1) 0.50ms
[E 180822 13:33:53 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:33:59 web:2162] 101 GET /ws (127.0.0.1) 0.51ms
[E 180822 13:33:59 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:34:04 web:2162] 101 GET /ws (127.0.0.1) 0.70ms
[E 180822 13:34:04 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:34:10 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 13:34:10 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:34:16 web:2162] 101 GET /ws (127.0.0.1) 0.45ms
[E 180822 13:34:16 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:34:22 web:2162] 101 GET /ws (127.0.0.1) 0.66ms
[E 180822 13:34:22 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:34:28 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 13:34:28 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:34:33 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[E 180822 13:34:33 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:34:39 web:2162] 101 GET /ws (127.0.0.1) 0.63ms
[E 180822 13:34:39 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:34:45 web:2162] 101 GET /ws (127.0.0.1) 0.57ms
[E 180822 13:34:45 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:34:51 web:2162] 101 GET /ws (127.0.0.1) 0.51ms
[E 180822 13:34:51 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:34:57 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 13:34:57 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:35:02 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 13:35:02 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:35:08 web:2162] 101 GET /ws (127.0.0.1) 0.68ms
[E 180822 13:35:08 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:35:14 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 13:35:14 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:35:19 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 13:35:19 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:35:25 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 13:35:25 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:35:31 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[E 180822 13:35:31 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:35:37 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[E 180822 13:35:37 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:35:42 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[E 180822 13:35:42 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:35:47 web:2162] 101 GET /ws (127.0.0.1) 0.54ms
[E 180822 13:35:47 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:36:04 web:2162] 101 GET /ws (127.0.0.1) 0.68ms
[E 180822 13:36:04 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:36:08 web:2162] 101 GET /ws (127.0.0.1) 0.58ms
[E 180822 13:36:08 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 157, in open
        WebSocketHandler.users[self.current_user.name] = self
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 1233, in current_user
        self._current_user = self.get_current_user()
      File "/Users/apple/PycharmProjects/work/todo/handlers/ws/ws_handler.py", line 23, in get_current_user
        username = self.session.get('cookie_name')
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 95, in get
        session = self.__get_session_from_db()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 139, in __get_session_from_db
        session_id = self.__get_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 145, in __get_session_id
        session_id = self.__create_session_id()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/pycket/session.py", line 151, in __create_session_id
        **self.__cookie_settings())
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/web.py", line 645, in set_secure_cookie
        expires_days=expires_days, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 526, in _raise_not_supported_for_websockets
        raise RuntimeError("Method not supported for Web Sockets")
    RuntimeError: Method not supported for Web Sockets
[I 180822 13:36:11 web:2162] 302 GET /message/message (127.0.0.1) 7.83ms
[I 180822 13:36:11 web:2162] 200 GET /login?next=%2Fmessage%2Fmessage (127.0.0.1) 13.70ms
[I 180822 13:36:16 web:2162] 302 POST /login?next=%2Fmessage%2Fmessage (127.0.0.1) 24.21ms
[I 180822 13:36:16 web:2162] 200 GET /message/message (127.0.0.1) 7.46ms
[I 180822 13:36:16 web:2162] 101 GET /ws (127.0.0.1) 1.35ms
[I 180822 13:36:16 message_handler:160] 聊天室人数：1
[I 180822 13:36:36 web:2162] 302 GET /logout (127.0.0.1) 3.28ms
[I 180822 13:36:36 web:2162] 200 GET /login (127.0.0.1) 13.17ms
[I 180822 13:36:42 web:2162] 302 POST /login (127.0.0.1) 25.32ms
[I 180822 13:36:42 web:2162] 304 GET / (127.0.0.1) 17.85ms
[I 180822 13:36:50 web:2162] 304 GET /message/message (127.0.0.1) 8.15ms
[I 180822 13:36:50 web:2162] 101 GET /ws (127.0.0.1) 0.98ms
[I 180822 13:36:50 message_handler:160] 聊天室人数：1
[I 180822 13:37:10 web:2162] 302 GET / (127.0.0.1) 5.97ms
[I 180822 13:37:10 web:2162] 200 GET /login?next=%2F (127.0.0.1) 13.84ms
[I 180822 13:37:10 web:2162] 200 GET /favicon.ico (127.0.0.1) 11.74ms
[I 180822 13:37:14 web:2162] 302 POST /login?next=%2F (127.0.0.1) 5.09ms
[I 180822 13:37:14 web:2162] 200 GET / (127.0.0.1) 11.33ms
[I 180822 13:37:16 web:2162] 200 GET /message/message (127.0.0.1) 6.14ms
[I 180822 13:37:16 web:2162] 101 GET /ws (127.0.0.1) 1.02ms
[E 180822 13:37:16 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 13:37:20 web:2162] 101 GET /ws (127.0.0.1) 0.82ms
[I 180822 13:37:20 message_handler:160] 聊天室人数：2
[I 180822 13:40:07 web:2162] 302 GET / (127.0.0.1) 3.50ms
[I 180822 13:40:07 web:2162] 200 GET /login?next=%2F (127.0.0.1) 10.35ms
[I 180822 13:40:20 web:2162] 302 POST /login?next=%2F (127.0.0.1) 4.98ms
[I 180822 13:40:20 web:2162] 200 GET / (127.0.0.1) 13.90ms
[I 180822 13:40:23 web:2162] 200 GET /explore (127.0.0.1) 15.25ms
[I 180822 13:40:24 web:2162] 304 GET /explore (127.0.0.1) 11.41ms
[I 180822 13:40:25 web:2162] 304 GET / (127.0.0.1) 11.49ms
[I 180822 13:40:26 web:2162] 200 GET /upload (127.0.0.1) 7.87ms
[I 180822 13:40:29 web:2162] 200 GET /profile?username=comi1 (127.0.0.1) 16.71ms
[I 180822 13:40:31 web:2162] 200 GET /message/message (127.0.0.1) 7.81ms
[I 180822 13:40:31 web:2162] 101 GET /ws (127.0.0.1) 0.80ms
[E 180822 13:40:31 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 13:40:35 web:2162] 101 GET /ws (127.0.0.1) 0.50ms
[I 180822 13:40:35 message_handler:160] 聊天室人数：3
[I 180822 13:41:55 web:2162] 200 GET /message/message (127.0.0.1) 8.07ms
[I 180822 13:41:55 web:2162] 200 GET /favicon.ico (127.0.0.1) 6.42ms
[I 180822 13:41:55 web:2162] 101 GET /ws (127.0.0.1) 0.80ms
[E 180822 13:41:55 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 13:41:59 web:2162] 101 GET /ws (127.0.0.1) 0.75ms
[I 180822 13:41:59 message_handler:160] 聊天室人数：3
[I 180822 13:42:27 web:2162] 304 GET /message/message (127.0.0.1) 8.05ms
[I 180822 13:42:27 web:2162] 101 GET /ws (127.0.0.1) 0.75ms
[E 180822 13:42:27 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 13:42:31 web:2162] 101 GET /ws (127.0.0.1) 0.46ms
[I 180822 13:42:31 message_handler:160] 聊天室人数：3
[I 180822 13:44:17 web:2162] 200 GET /message/message (127.0.0.1) 7.15ms
[I 180822 13:44:17 web:2162] 101 GET /ws (127.0.0.1) 0.76ms
[E 180822 13:44:17 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 13:44:17 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.97ms
[I 180822 13:44:21 web:2162] 101 GET /ws (127.0.0.1) 0.75ms
[E 180822 13:44:21 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 13:44:26 web:2162] 101 GET /ws (127.0.0.1) 0.75ms
[I 180822 13:44:26 message_handler:160] 聊天室人数：3
[I 180822 13:47:17 web:2162] 101 GET /ws (127.0.0.1) 1.09ms
[I 180822 13:47:17 web:2162] 101 GET /ws (127.0.0.1) 1.43ms
[I 180822 13:47:17 message_handler:160] 聊天室人数：1
[I 180822 13:47:17 message_handler:160] 聊天室人数：1
[I 180822 13:47:17 web:2162] 101 GET /ws (127.0.0.1) 0.82ms
[I 180822 13:47:17 message_handler:160] 聊天室人数：2
[I 180822 13:47:22 web:2162] 304 GET /message/message (127.0.0.1) 10.06ms
[I 180822 13:47:22 web:2162] 101 GET /ws (127.0.0.1) 0.55ms
[I 180822 13:47:22 message_handler:160] 聊天室人数：2
[I 180822 13:47:22 web:2162] 200 GET /favicon.ico (127.0.0.1) 7.19ms
[I 180822 13:47:24 web:2162] 304 GET /message/message (127.0.0.1) 8.32ms
[I 180822 13:47:25 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.50ms
[I 180822 13:47:25 web:2162] 101 GET /ws (127.0.0.1) 0.91ms
[I 180822 13:47:25 message_handler:160] 聊天室人数：2
[I 180822 13:47:26 web:2162] 304 GET /message/message (127.0.0.1) 8.72ms
[I 180822 13:47:26 web:2162] 200 GET /favicon.ico (127.0.0.1) 8.50ms
[I 180822 13:47:26 web:2162] 101 GET /ws (127.0.0.1) 1.22ms
[I 180822 13:47:26 message_handler:160] 聊天室人数：2
[I 180822 13:47:34 web:2162] 200 GET /message/message (127.0.0.1) 11.07ms
[I 180822 13:47:34 web:2162] 101 GET /ws (127.0.0.1) 0.84ms
[I 180822 13:47:34 message_handler:160] 聊天室人数：3
[I 180822 13:47:46 web:2162] 302 GET /logout (127.0.0.1) 2.40ms
[I 180822 13:47:46 web:2162] 200 GET /login (127.0.0.1) 12.12ms
[I 180822 13:47:57 web:2162] 302 POST /login (127.0.0.1) 5.08ms
[I 180822 13:47:57 web:2162] 200 GET / (127.0.0.1) 10.81ms
[I 180822 13:48:02 web:2162] 200 GET /message/message (127.0.0.1) 7.82ms
[I 180822 13:48:02 web:2162] 101 GET /ws (127.0.0.1) 0.77ms
[E 180822 13:48:02 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 13:48:06 web:2162] 101 GET /ws (127.0.0.1) 0.71ms
[E 180822 13:48:06 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 13:48:10 web:2162] 101 GET /ws (127.0.0.1) 0.75ms
[E 180822 13:48:10 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 13:48:14 web:2162] 101 GET /ws (127.0.0.1) 0.77ms
[E 180822 13:48:14 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 13:48:19 web:2162] 101 GET /ws (127.0.0.1) 0.76ms
[E 180822 13:48:19 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 13:48:23 web:2162] 101 GET /ws (127.0.0.1) 0.80ms
[E 180822 13:48:23 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 13:48:27 web:2162] 101 GET /ws (127.0.0.1) 0.61ms
[E 180822 13:48:27 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 13:48:31 web:2162] 101 GET /ws (127.0.0.1) 0.81ms
[E 180822 13:48:31 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 13:48:35 web:2162] 101 GET /ws (127.0.0.1) 0.46ms
[E 180822 13:48:35 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 13:48:39 web:2162] 101 GET /ws (127.0.0.1) 1.30ms
[E 180822 13:48:39 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 13:48:43 web:2162] 101 GET /ws (127.0.0.1) 0.74ms
[E 180822 13:48:43 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 13:48:47 web:2162] 101 GET /ws (127.0.0.1) 0.81ms
[E 180822 13:48:47 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 13:48:51 web:2162] 101 GET /ws (127.0.0.1) 0.52ms
[E 180822 13:48:51 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 13:48:55 web:2162] 101 GET /ws (127.0.0.1) 0.58ms
[E 180822 13:48:55 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 13:48:59 web:2162] 101 GET /ws (127.0.0.1) 0.61ms
[E 180822 13:48:59 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 13:49:04 web:2162] 101 GET /ws (127.0.0.1) 0.55ms
[E 180822 13:49:04 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 13:49:08 web:2162] 101 GET /ws (127.0.0.1) 0.83ms
[E 180822 13:49:08 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 13:49:12 web:2162] 101 GET /ws (127.0.0.1) 0.56ms
[E 180822 13:49:12 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 13:49:16 web:2162] 101 GET /ws (127.0.0.1) 0.53ms
[E 180822 13:49:16 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 13:49:20 web:2162] 101 GET /ws (127.0.0.1) 0.58ms
[E 180822 13:49:20 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 13:49:24 web:2162] 101 GET /ws (127.0.0.1) 0.77ms
[E 180822 13:49:24 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 13:49:28 web:2162] 101 GET /ws (127.0.0.1) 0.69ms
[E 180822 13:49:28 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 13:49:32 web:2162] 101 GET /ws (127.0.0.1) 0.83ms
[E 180822 13:49:32 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 13:49:36 web:2162] 101 GET /ws (127.0.0.1) 0.53ms
[E 180822 13:49:36 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 13:49:40 web:2162] 101 GET /ws (127.0.0.1) 1.15ms
[E 180822 13:49:40 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 13:49:44 web:2162] 101 GET /ws (127.0.0.1) 0.76ms
[E 180822 13:49:44 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 13:49:49 web:2162] 101 GET /ws (127.0.0.1) 0.46ms
[E 180822 13:49:49 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 13:49:53 web:2162] 101 GET /ws (127.0.0.1) 3.21ms
[E 180822 13:49:53 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 159, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 13:49:56 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 13:49:56 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.ws.ws_handler import rds
ModuleNotFoundError: No module named 'handlers.ws'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.ws.ws_handler import rds
ModuleNotFoundError: No module named 'handlers.ws'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.ws.ws_handler import rds
ModuleNotFoundError: No module named 'handlers.ws'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.ws.ws_handler import rds
ModuleNotFoundError: No module named 'handlers.ws'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.ws.ws_handler import rds
ModuleNotFoundError: No module named 'handlers.ws'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.ws.ws_handler import rds
ModuleNotFoundError: No module named 'handlers.ws'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.ws.ws_handler import rds
ModuleNotFoundError: No module named 'handlers.ws'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.ws.ws_handler import rds
ModuleNotFoundError: No module named 'handlers.ws'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.ws.ws_handler import rds
ModuleNotFoundError: No module named 'handlers.ws'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.ws.ws_handler import rds
ModuleNotFoundError: No module named 'handlers.ws'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.ws.ws_handler import rds
ModuleNotFoundError: No module named 'handlers.ws'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.ws.ws_handler import rds
ModuleNotFoundError: No module named 'handlers.ws'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.ws.ws_handler import rds
ModuleNotFoundError: No module named 'handlers.ws'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.ws.ws_handler import rds
ModuleNotFoundError: No module named 'handlers.ws'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.ws.ws_handler import rds
ModuleNotFoundError: No module named 'handlers.ws'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.ws.ws_handler import rds
ModuleNotFoundError: No module named 'handlers.ws'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.ws.ws_handler import rds
ModuleNotFoundError: No module named 'handlers.ws'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.ws.ws_handler import rds
ModuleNotFoundError: No module named 'handlers.ws'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.ws.ws_handler import rds
ModuleNotFoundError: No module named 'handlers.ws'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.ws.ws_handler import rds
ModuleNotFoundError: No module named 'handlers.ws'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.ws.ws_handler import rds
ModuleNotFoundError: No module named 'handlers.ws'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.ws.ws_handler import rds
ModuleNotFoundError: No module named 'handlers.ws'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.ws.ws_handler import rds
ModuleNotFoundError: No module named 'handlers.ws'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.ws.ws_handler import rds
ModuleNotFoundError: No module named 'handlers.ws'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.ws.ws_handler import rds
ModuleNotFoundError: No module named 'handlers.ws'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.ws.ws_handler import rds
ModuleNotFoundError: No module named 'handlers.ws'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.message.message_handler import conn
  File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 12, in <module>
    from handlers.main.main_handler import AuthBaseHandler as BaseHandler
ImportError: cannot import name 'AuthBaseHandler'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.message.message_handler import conn
  File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 12, in <module>
    from handlers.main.main_handler import AuthBaseHandler as BaseHandler
ImportError: cannot import name 'AuthBaseHandler'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.message.message_handler import conn
  File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 12, in <module>
    from handlers.main.main_handler import AuthBaseHandler as BaseHandler
ImportError: cannot import name 'AuthBaseHandler'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.message.message_handler import conn
  File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 12, in <module>
    from handlers.main.main_handler import AuthBaseHandler as BaseHandler
ImportError: cannot import name 'AuthBaseHandler'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.message.message_handler import conn
  File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 12, in <module>
    from handlers.main.main_handler import AuthBaseHandler as BaseHandler
ImportError: cannot import name 'AuthBaseHandler'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.message.message_handler import conn
  File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 12, in <module>
    from handlers.main.main_handler import AuthBaseHandler as BaseHandler
ImportError: cannot import name 'AuthBaseHandler'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.message.message_handler import conn
  File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 12, in <module>
    from handlers.main.main_handler import AuthBaseHandler as BaseHandler
ImportError: cannot import name 'AuthBaseHandler'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.message.message_handler import conn
  File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 12, in <module>
    from handlers.main.main_handler import AuthBaseHandler as BaseHandler
ImportError: cannot import name 'AuthBaseHandler'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.message.message_handler import conn
  File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 12, in <module>
    from handlers.main.main_handler import AuthBaseHandler
ImportError: cannot import name 'AuthBaseHandler'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.message.message_handler import conn
  File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 12, in <module>
    from handlers.main.main_handler import AuthBaseHandler
ImportError: cannot import name 'AuthBaseHandler'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.message.message_handler import conn
  File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 12, in <module>
    from handlers.main.main_handler import AuthBaseHandler
ImportError: cannot import name 'AuthBaseHandler'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.message.message_handler import conn
  File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 12, in <module>
    from handlers.main.main_handler import AuthBaseHandler
ImportError: cannot import name 'AuthBaseHandler'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.message.message_handler import conn
  File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 12, in <module>
    from handlers.main.main_handler import AuthBaseHandler
ImportError: cannot import name 'AuthBaseHandler'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.message.message_handler import conn
  File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 12, in <module>
    from handlers.main.main_handler import AuthBaseHandler
ImportError: cannot import name 'AuthBaseHandler'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.message.message_handler import conn
  File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 12, in <module>
    from handlers.main.main_handler import AuthBaseHandler
ImportError: cannot import name 'AuthBaseHandler'
Traceback (most recent call last):
  File "app.py", line 6, in <module>
    from handlers.main import main_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/main/main_handler.py", line 8, in <module>
    from handlers.message.message_handler import conn
  File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 12, in <module>
    from handlers.main.main_handler import AuthBaseHandler
ImportError: cannot import name 'AuthBaseHandler'
[I 180822 14:06:55 web:2162] 200 GET /message/message (127.0.0.1) 10.95ms
[I 180822 14:06:58 web:2162] 101 GET /ws (127.0.0.1) 0.61ms
[I 180822 14:06:58 message_handler:181] 聊天室人数：1
[I 180822 14:06:59 web:2162] 101 GET /ws (127.0.0.1) 1.16ms
[I 180822 14:06:59 message_handler:181] 聊天室人数：2
[I 180822 14:07:00 web:2162] 101 GET /ws (127.0.0.1) 4.49ms
[I 180822 14:07:00 message_handler:181] 聊天室人数：1
[I 180822 14:07:14 web:2162] 304 GET /message/message (127.0.0.1) 6.91ms
[I 180822 14:07:16 web:2162] 101 GET /ws (127.0.0.1) 0.76ms
[I 180822 14:07:16 message_handler:181] 聊天室人数：2
[I 180822 14:07:27 web:2162] 302 GET /logout (127.0.0.1) 2.92ms
[I 180822 14:07:27 web:2162] 200 GET /login (127.0.0.1) 8.96ms
[I 180822 14:08:09 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 14:08:09 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 14:08:13 web:2162] 101 GET /ws (127.0.0.1) 1.26ms
[I 180822 14:08:13 message_handler:181] 聊天室人数：1
[I 180822 14:08:14 web:2162] 101 GET /ws (127.0.0.1) 1.03ms
[I 180822 14:08:14 message_handler:181] 聊天室人数：1
[I 180822 14:08:15 web:2162] 304 GET /message/message (127.0.0.1) 8.35ms
[I 180822 14:08:15 message_handler:207] 聊天室人数：1
[I 180822 14:08:16 web:2162] 101 GET /ws (127.0.0.1) 0.89ms
[I 180822 14:08:16 message_handler:181] 聊天室人数：1
[I 180822 14:08:22 web:2162] 304 GET /login (127.0.0.1) 10.19ms
[I 180822 14:08:30 web:2162] 302 POST /login (127.0.0.1) 4.84ms
[I 180822 14:08:30 web:2162] 200 GET / (127.0.0.1) 11.10ms
[I 180822 14:08:31 web:2162] 200 GET /message/message (127.0.0.1) 7.96ms
[I 180822 14:08:31 web:2162] 101 GET /ws (127.0.0.1) 0.62ms
[I 180822 14:08:31 message_handler:181] 聊天室人数：2
[I 180822 14:08:46 web:2162] 302 GET /logout (127.0.0.1) 2.45ms
[I 180822 14:08:46 web:2162] 200 GET /login (127.0.0.1) 11.76ms
[I 180822 14:08:46 message_handler:207] 聊天室人数：2
[I 180822 14:08:56 web:2162] 302 POST /login (127.0.0.1) 4.87ms
[I 180822 14:08:56 web:2162] 200 GET / (127.0.0.1) 9.74ms
[I 180822 14:08:57 web:2162] 200 GET /message/message (127.0.0.1) 7.79ms
[I 180822 14:08:58 web:2162] 101 GET /ws (127.0.0.1) 0.61ms
[I 180822 14:08:58 message_handler:181] 聊天室人数：2
[I 180822 14:09:19 message_handler:202] 聊天室人数：2
[E 180822 14:09:19 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 204, in on_message
        v.write_message(message)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[I 180822 14:09:19 message_handler:207] 聊天室人数：2
[I 180822 14:09:24 web:2162] 101 GET /ws (127.0.0.1) 0.57ms
[I 180822 14:09:24 message_handler:180] 
[I 180822 14:09:24 message_handler:181] 聊天室人数：2
[I 180822 14:12:37 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 14:12:37 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 14:12:49 web:2162] 101 GET /ws (127.0.0.1) 0.66ms
[I 180822 14:12:49 message_handler:181] 聊天室人数：1
[I 180822 14:12:51 web:2162] 200 GET /message/message (127.0.0.1) 9.59ms
[I 180822 14:12:53 web:2162] 200 GET /message/message (127.0.0.1) 13.98ms
[I 180822 14:12:53 web:2162] 101 GET /ws (127.0.0.1) 0.91ms
[I 180822 14:12:53 message_handler:181] 聊天室人数：2
[I 180822 14:12:53 web:2162] 101 GET /ws (127.0.0.1) 0.95ms
[I 180822 14:12:53 message_handler:181] 聊天室人数：1
[I 180822 14:13:00 web:2162] 200 GET /message/message (127.0.0.1) 7.23ms
[I 180822 14:13:00 message_handler:208] 聊天室人数：0
[I 180822 14:13:00 web:2162] 101 GET /ws (127.0.0.1) 0.76ms
[I 180822 14:13:00 message_handler:181] 聊天室人数：1
[I 180822 14:13:08 message_handler:202] 聊天室人数：1
[I 180822 14:13:13 message_handler:202] 聊天室人数：2
[I 180822 14:13:19 message_handler:202] 聊天室人数：2
[I 180822 14:14:04 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 14:14:04 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 14:14:08 web:2162] 101 GET /ws (127.0.0.1) 2.34ms
[I 180822 14:14:08 message_handler:181] 聊天室人数：1
[I 180822 14:14:08 web:2162] 101 GET /ws (127.0.0.1) 0.74ms
[I 180822 14:14:08 message_handler:181] 聊天室人数：2
[I 180822 14:14:08 web:2162] 101 GET /ws (127.0.0.1) 0.62ms
[I 180822 14:14:08 message_handler:181] 聊天室人数：1
[I 180822 14:14:12 web:2162] 200 GET /message/message (127.0.0.1) 15.60ms
[I 180822 14:14:12 message_handler:209] 聊天室人数：0
[I 180822 14:14:12 web:2162] 101 GET /ws (127.0.0.1) 1.11ms
[I 180822 14:14:12 message_handler:181] 聊天室人数：3
[I 180822 14:14:14 web:2162] 200 GET /message/message (127.0.0.1) 9.01ms
[I 180822 14:14:14 message_handler:209] 聊天室人数：2
[I 180822 14:14:14 web:2162] 101 GET /ws (127.0.0.1) 0.73ms
[I 180822 14:14:14 message_handler:181] 聊天室人数：3
[I 180822 14:14:23 message_handler:202] 聊天室人数：3
[I 180822 14:14:23 message_handler:204] Bad message (TypeError('not all arguments converted during string formatting',)): {'name': 'root', 'msg': 'test', 'args': ('user',), 'levelname': 'INFO', 'levelno': 20, 'pathname': '/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py', 'filename': 'message_handler.py', 'module': 'message_handler', 'exc_info': None, 'exc_text': None, 'stack_info': None, 'lineno': 204, 'funcName': 'on_message', 'created': 1534918463.8757398, 'msecs': 875.7398128509521, 'relativeCreated': 19267.43173599243, 'thread': 140735304577024, 'threadName': 'MainThread', 'processName': 'MainProcess', 'process': 71949}
[I 180822 14:14:23 message_handler:204] Bad message (TypeError('not all arguments converted during string formatting',)): {'name': 'root', 'msg': 'tpg', 'args': ('user',), 'levelname': 'INFO', 'levelno': 20, 'pathname': '/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py', 'filename': 'message_handler.py', 'module': 'message_handler', 'exc_info': None, 'exc_text': None, 'stack_info': None, 'lineno': 204, 'funcName': 'on_message', 'created': 1534918463.87715, 'msecs': 877.1500587463379, 'relativeCreated': 19268.841981887817, 'thread': 140735304577024, 'threadName': 'MainThread', 'processName': 'MainProcess', 'process': 71949}
[I 180822 14:14:23 message_handler:204] Bad message (TypeError('not all arguments converted during string formatting',)): {'name': 'root', 'msg': 'comi1', 'args': ('user',), 'levelname': 'INFO', 'levelno': 20, 'pathname': '/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py', 'filename': 'message_handler.py', 'module': 'message_handler', 'exc_info': None, 'exc_text': None, 'stack_info': None, 'lineno': 204, 'funcName': 'on_message', 'created': 1534918463.877882, 'msecs': 877.8820037841797, 'relativeCreated': 19269.57392692566, 'thread': 140735304577024, 'threadName': 'MainThread', 'processName': 'MainProcess', 'process': 71949}
[I 180822 14:14:44 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 14:14:44 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 14:14:48 web:2162] 101 GET /ws (127.0.0.1) 0.71ms
[I 180822 14:14:48 message_handler:181] 聊天室人数：1
[I 180822 14:14:48 web:2162] 101 GET /ws (127.0.0.1) 1.27ms
[I 180822 14:14:48 message_handler:181] 聊天室人数：1
[I 180822 14:14:48 web:2162] 101 GET /ws (127.0.0.1) 0.89ms
[I 180822 14:14:48 message_handler:181] 聊天室人数：2
[I 180822 14:14:49 web:2162] 200 GET /message/message (127.0.0.1) 18.33ms
[I 180822 14:14:49 message_handler:209] 聊天室人数：1
[I 180822 14:14:49 web:2162] 101 GET /ws (127.0.0.1) 1.04ms
[I 180822 14:14:49 message_handler:181] 聊天室人数：2
[I 180822 14:14:52 web:2162] 200 GET /message/message (127.0.0.1) 6.92ms
[I 180822 14:14:52 message_handler:209] 聊天室人数：0
[I 180822 14:14:52 web:2162] 101 GET /ws (127.0.0.1) 0.75ms
[I 180822 14:14:52 message_handler:181] 聊天室人数：1
[I 180822 14:14:54 message_handler:202] 聊天室人数：1
[I 180822 14:14:54 message_handler:204] comi1
[I 180822 14:15:07 message_handler:202] 聊天室人数：2
[I 180822 14:15:07 message_handler:204] test
[I 180822 14:15:07 message_handler:204] tpg
[I 180822 14:15:15 message_handler:202] 聊天室人数：2
[I 180822 14:15:15 message_handler:204] test
[I 180822 14:15:15 message_handler:204] tpg
[I 180822 14:15:26 message_handler:202] 聊天室人数：2
[I 180822 14:15:26 message_handler:204] test
[I 180822 14:15:26 message_handler:204] tpg
[I 180822 14:15:48 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 14:15:48 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 14:15:52 web:2162] 101 GET /ws (127.0.0.1) 1.49ms
[I 180822 14:15:52 web:2162] 101 GET /ws (127.0.0.1) 1.77ms
[I 180822 14:15:52 message_handler:181] 聊天室人数：1
[I 180822 14:15:52 message_handler:181] 聊天室人数：1
[I 180822 14:15:52 web:2162] 101 GET /ws (127.0.0.1) 0.69ms
[I 180822 14:15:52 message_handler:181] 聊天室人数：2
[I 180822 14:15:54 web:2162] 200 GET /message/message (127.0.0.1) 15.42ms
[I 180822 14:15:54 message_handler:210] 聊天室人数：1
[I 180822 14:15:54 web:2162] 101 GET /ws (127.0.0.1) 1.13ms
[I 180822 14:15:54 message_handler:181] 聊天室人数：2
[I 180822 14:15:56 web:2162] 200 GET /message/message (127.0.0.1) 6.35ms
[I 180822 14:15:56 message_handler:210] 聊天室人数：1
[I 180822 14:15:56 web:2162] 101 GET /ws (127.0.0.1) 0.75ms
[I 180822 14:15:56 message_handler:181] 聊天室人数：2
[I 180822 14:15:59 message_handler:202] 聊天室人数：2
[I 180822 14:15:59 message_handler:204] tpg
[I 180822 14:15:59 message_handler:205] <handlers.message.message_handler.WebSocketHandler object at 0x10ca73f60>
[I 180822 14:15:59 message_handler:204] comi1
[I 180822 14:15:59 message_handler:205] <handlers.message.message_handler.WebSocketHandler object at 0x10ca90320>
[I 180822 14:16:15 web:2162] 302 GET /logout (127.0.0.1) 4.24ms
[I 180822 14:16:15 web:2162] 200 GET /login (127.0.0.1) 9.91ms
[I 180822 14:16:15 message_handler:210] 聊天室人数：1
[I 180822 14:16:21 web:2162] 302 POST /login (127.0.0.1) 5.01ms
[I 180822 14:16:21 web:2162] 200 GET / (127.0.0.1) 11.69ms
[I 180822 14:16:25 web:2162] 200 GET /message/message (127.0.0.1) 8.30ms
[I 180822 14:16:25 web:2162] 101 GET /ws (127.0.0.1) 0.79ms
[I 180822 14:16:25 message_handler:181] 聊天室人数：2
[I 180822 14:16:29 message_handler:202] 聊天室人数：2
[I 180822 14:16:29 message_handler:204] tpg
[I 180822 14:16:29 message_handler:205] <handlers.message.message_handler.WebSocketHandler object at 0x10ca73f60>
[I 180822 14:16:29 message_handler:204] comi
[I 180822 14:16:29 message_handler:205] <handlers.message.message_handler.WebSocketHandler object at 0x10ca73e48>
[I 180822 14:16:57 web:2162] 302 GET / (127.0.0.1) 4.04ms
[I 180822 14:16:57 web:2162] 200 GET /login?next=%2F (127.0.0.1) 10.74ms
[I 180822 14:17:04 web:2162] 200 GET /favicon.ico (127.0.0.1) 8.25ms
[I 180822 14:17:10 web:2162] 302 POST /login?next=%2F (127.0.0.1) 5.50ms
[I 180822 14:17:10 web:2162] 200 GET / (127.0.0.1) 12.64ms
[I 180822 14:17:12 web:2162] 200 GET /message/message (127.0.0.1) 6.43ms
[I 180822 14:17:12 web:2162] 101 GET /ws (127.0.0.1) 1.09ms
[I 180822 14:17:12 message_handler:181] 聊天室人数：2
[I 180822 14:17:22 message_handler:202] 聊天室人数：2
[I 180822 14:17:22 message_handler:204] test
[I 180822 14:17:22 message_handler:205] <handlers.message.message_handler.WebSocketHandler object at 0x1030a1668>
[I 180822 14:17:22 message_handler:204] comi1
[I 180822 14:17:22 message_handler:205] <handlers.message.message_handler.WebSocketHandler object at 0x103182be0>
[I 180822 14:18:11 message_handler:202] 聊天室人数：2
[I 180822 14:18:11 message_handler:204] tpg
[I 180822 14:18:11 message_handler:205] <handlers.message.message_handler.WebSocketHandler object at 0x10ca73f60>
[I 180822 14:18:11 message_handler:204] comi
[I 180822 14:18:11 message_handler:205] <handlers.message.message_handler.WebSocketHandler object at 0x10ca73e48>
[I 180822 14:18:36 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 14:18:36 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 14:18:51 web:2162] 200 GET /message/message (127.0.0.1) 13.73ms
[I 180822 14:18:51 web:2162] 101 GET /ws (127.0.0.1) 1.22ms
[I 180822 14:18:51 message_handler:181] 聊天室人数：1
[I 180822 14:18:51 web:2162] 304 GET /message/message (127.0.0.1) 13.98ms
[I 180822 14:18:51 message_handler:210] 聊天室人数：0
[I 180822 14:18:51 web:2162] 101 GET /ws (127.0.0.1) 1.36ms
[I 180822 14:18:51 message_handler:181] 聊天室人数：1
[I 180822 14:18:52 web:2162] 101 GET /ws (127.0.0.1) 0.79ms
[I 180822 14:18:52 message_handler:181] 聊天室人数：1
[I 180822 14:18:53 web:2162] 101 GET /ws (127.0.0.1) 0.59ms
[I 180822 14:18:53 message_handler:181] 聊天室人数：2
[I 180822 14:18:57 web:2162] 101 GET /ws (127.0.0.1) 0.87ms
[I 180822 14:18:57 message_handler:181] 聊天室人数：2
[I 180822 14:19:01 web:2162] 200 GET /message/message (127.0.0.1) 7.53ms
[I 180822 14:19:01 message_handler:210] 聊天室人数：1
[I 180822 14:19:01 web:2162] 101 GET /ws (127.0.0.1) 0.75ms
[I 180822 14:19:01 message_handler:181] 聊天室人数：2
[I 180822 14:19:04 web:2162] 200 GET /message/message (127.0.0.1) 6.17ms
[I 180822 14:19:04 message_handler:210] 聊天室人数：1
[I 180822 14:19:05 web:2162] 101 GET /ws (127.0.0.1) 0.77ms
[I 180822 14:19:05 message_handler:181] 聊天室人数：3
[I 180822 14:19:22 message_handler:202] 聊天室人数：3
[I 180822 14:19:22 message_handler:204] tpg
[I 180822 14:19:22 message_handler:205] <handlers.message.message_handler.WebSocketHandler object at 0x1077c7d30>
[I 180822 14:19:22 message_handler:204] comi1
[I 180822 14:19:22 message_handler:205] <handlers.message.message_handler.WebSocketHandler object at 0x1077e0320>
[I 180822 14:19:22 message_handler:204] comi
[I 180822 14:19:22 message_handler:205] <handlers.message.message_handler.WebSocketHandler object at 0x1077f7080>
[I 180822 14:19:33 message_handler:202] 聊天室人数：1
[I 180822 14:19:33 message_handler:204] test
[I 180822 14:19:33 message_handler:205] <handlers.message.message_handler.WebSocketHandler object at 0x106021a20>
[I 180822 14:20:27 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 14:20:27 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 14:20:31 web:2162] 101 GET /ws (127.0.0.1) 0.69ms
[I 180822 14:20:31 message_handler:181] 聊天室人数：1
[I 180822 14:20:31 web:2162] 101 GET /ws (127.0.0.1) 1.12ms
[I 180822 14:20:31 message_handler:181] 聊天室人数：2
[I 180822 14:20:31 web:2162] 101 GET /ws (127.0.0.1) 1.35ms
[I 180822 14:20:31 message_handler:181] 聊天室人数：3
[I 180822 14:20:33 web:2162] 101 GET /ws (127.0.0.1) 0.83ms
[I 180822 14:20:33 message_handler:181] 聊天室人数：1
[I 180822 14:20:55 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 14:20:55 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 14:20:59 web:2162] 101 GET /ws (127.0.0.1) 0.85ms
[I 180822 14:20:59 web:2162] 101 GET /ws (127.0.0.1) 1.07ms
[I 180822 14:20:59 message_handler:178] 聊天室人数：1
[I 180822 14:20:59 message_handler:178] 聊天室人数：1
[I 180822 14:20:59 web:2162] 101 GET /ws (127.0.0.1) 1.22ms
[I 180822 14:20:59 message_handler:178] 聊天室人数：2
[I 180822 14:21:00 message_handler:207] 聊天室人数：1
[I 180822 14:21:04 message_handler:207] 聊天室人数：0
[I 180822 14:21:05 message_handler:207] 聊天室人数：0
[I 180822 14:21:33 web:2162] 302 GET / (127.0.0.1) 6.64ms
[I 180822 14:21:33 web:2162] 200 GET /login?next=%2F (127.0.0.1) 11.54ms
[I 180822 14:21:34 web:2162] 200 GET /favicon.ico (127.0.0.1) 10.76ms
[I 180822 14:21:37 web:2162] 302 POST /login?next=%2F (127.0.0.1) 22.13ms
[I 180822 14:21:37 web:2162] 200 GET / (127.0.0.1) 29.07ms
[I 180822 14:21:40 web:2162] 200 GET /message/message (127.0.0.1) 8.96ms
[I 180822 14:21:40 web:2162] 101 GET /ws (127.0.0.1) 1.24ms
[I 180822 14:21:40 message_handler:178] 聊天室人数：1
[I 180822 14:21:43 web:2162] 302 GET / (127.0.0.1) 4.32ms
[I 180822 14:21:43 web:2162] 200 GET /login?next=%2F (127.0.0.1) 12.42ms
[I 180822 14:21:44 web:2162] 200 GET /favicon.ico (127.0.0.1) 10.30ms
[I 180822 14:21:48 web:2162] 302 POST /login?next=%2F (127.0.0.1) 5.63ms
[I 180822 14:21:48 web:2162] 200 GET / (127.0.0.1) 15.27ms
[I 180822 14:21:49 web:2162] 200 GET /message/message (127.0.0.1) 10.35ms
[I 180822 14:21:49 web:2162] 101 GET /ws (127.0.0.1) 1.11ms
[I 180822 14:21:49 message_handler:178] 聊天室人数：1
[I 180822 14:22:06 web:2162] 304 GET / (127.0.0.1) 8.29ms
[I 180822 14:22:18 web:2162] 302 GET /logout (127.0.0.1) 2.37ms
[I 180822 14:22:18 web:2162] 200 GET /login (127.0.0.1) 9.42ms
[I 180822 14:22:26 web:2162] 302 POST /login (127.0.0.1) 7.45ms
[I 180822 14:22:26 web:2162] 200 GET / (127.0.0.1) 9.28ms
[I 180822 14:22:30 web:2162] 304 GET / (127.0.0.1) 8.32ms
[I 180822 14:22:34 web:2162] 302 GET /logout (127.0.0.1) 3.38ms
[I 180822 14:22:34 web:2162] 200 GET /login (127.0.0.1) 10.63ms
[I 180822 14:22:40 web:2162] 302 POST /login (127.0.0.1) 4.73ms
[I 180822 14:22:40 web:2162] 200 GET / (127.0.0.1) 9.23ms
[I 180822 14:22:41 web:2162] 200 GET /message/message (127.0.0.1) 7.65ms
[I 180822 14:22:42 web:2162] 101 GET /ws (127.0.0.1) 0.57ms
[I 180822 14:22:42 message_handler:178] 聊天室人数：2
[I 180822 14:22:49 web:2162] 200 GET /message/message (127.0.0.1) 6.84ms
[I 180822 14:22:49 web:2162] 101 GET /ws (127.0.0.1) 1.01ms
[I 180822 14:22:49 message_handler:178] 聊天室人数：2
[I 180822 14:22:57 message_handler:199] 聊天室人数：2
[I 180822 14:22:57 message_handler:201] tpg
[I 180822 14:22:57 message_handler:202] <handlers.message.message_handler.WebSocketHandler object at 0x109603b38>
[I 180822 14:22:57 message_handler:201] comi1
[I 180822 14:22:57 message_handler:202] <handlers.message.message_handler.WebSocketHandler object at 0x10963f550>
[I 180822 14:23:03 message_handler:199] 聊天室人数：2
[I 180822 14:23:03 message_handler:201] test
[I 180822 14:23:03 message_handler:202] <handlers.message.message_handler.WebSocketHandler object at 0x102fe2048>
[I 180822 14:23:03 message_handler:201] comi
[I 180822 14:23:03 message_handler:202] <handlers.message.message_handler.WebSocketHandler object at 0x1030cc0b8>
[I 180822 14:23:45 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 14:23:45 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 14:23:53 web:2162] 101 GET /ws (127.0.0.1) 0.73ms
[I 180822 14:23:53 message_handler:178] 聊天室人数：1
[I 180822 14:23:53 web:2162] 101 GET /ws (127.0.0.1) 1.71ms
[I 180822 14:23:53 message_handler:178] 聊天室人数：1
[I 180822 14:23:57 web:2162] 101 GET /ws (127.0.0.1) 0.50ms
[I 180822 14:23:57 message_handler:178] 聊天室人数：2
[I 180822 14:24:01 web:2162] 101 GET /ws (127.0.0.1) 1.22ms
[I 180822 14:24:01 message_handler:178] 聊天室人数：3
[I 180822 14:24:13 message_handler:199] 聊天室人数：1
[I 180822 14:24:13 message_handler:201] test
[I 180822 14:24:13 message_handler:202] <handlers.message.message_handler.WebSocketHandler object at 0x10d0f95f8>
[I 180822 14:24:18 message_handler:199] 聊天室人数：3
[I 180822 14:24:18 message_handler:201] comi1
[I 180822 14:24:18 message_handler:202] <handlers.message.message_handler.WebSocketHandler object at 0x10b828668>
[I 180822 14:24:18 message_handler:201] tpg
[I 180822 14:24:18 message_handler:202] <handlers.message.message_handler.WebSocketHandler object at 0x10b8a1518>
[I 180822 14:24:18 message_handler:201] comi
[I 180822 14:24:18 message_handler:202] <handlers.message.message_handler.WebSocketHandler object at 0x10b8a1e80>
[I 180822 14:24:27 web:2162] 200 GET /message/message (127.0.0.1) 8.18ms
[I 180822 14:24:27 message_handler:207] 聊天室人数：0
[I 180822 14:24:27 web:2162] 101 GET /ws (127.0.0.1) 0.94ms
[I 180822 14:24:27 message_handler:178] 聊天室人数：4
[I 180822 14:24:33 message_handler:199] 聊天室人数：4
[I 180822 14:24:33 message_handler:201] comi1
[I 180822 14:24:33 message_handler:202] <handlers.message.message_handler.WebSocketHandler object at 0x10b828668>
[I 180822 14:24:33 message_handler:201] tpg
[I 180822 14:24:33 message_handler:202] <handlers.message.message_handler.WebSocketHandler object at 0x10b8a1518>
[I 180822 14:24:33 message_handler:201] comi
[I 180822 14:24:33 message_handler:202] <handlers.message.message_handler.WebSocketHandler object at 0x10b8a1e80>
[I 180822 14:24:33 message_handler:201] test
[I 180822 14:24:33 message_handler:202] <handlers.message.message_handler.WebSocketHandler object at 0x10b8c9710>
[I 180822 14:27:17 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 14:27:17 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 14:27:33 web:2162] 101 GET /ws (127.0.0.1) 0.70ms
[I 180822 14:27:33 message_handler:180] 聊天室人数：1
[I 180822 14:27:33 web:2162] 101 GET /ws (127.0.0.1) 0.98ms
[I 180822 14:27:33 web:2162] 101 GET /ws (127.0.0.1) 1.24ms
[I 180822 14:27:33 message_handler:180] 聊天室人数：2
[I 180822 14:27:33 message_handler:180] 聊天室人数：1
[I 180822 14:27:33 web:2162] 101 GET /ws (127.0.0.1) 1.01ms
[I 180822 14:27:33 message_handler:180] 聊天室人数：2
[I 180822 14:27:46 message_handler:201] 聊天室人数：2
[I 180822 14:27:46 message_handler:203] <handlers.message.message_handler.WebSocketHandler object at 0x10efa6630>
[I 180822 14:27:46 message_handler:203] <handlers.message.message_handler.WebSocketHandler object at 0x10f0214e0>
[I 180822 14:27:53 message_handler:201] 聊天室人数：2
[I 180822 14:27:53 message_handler:203] <handlers.message.message_handler.WebSocketHandler object at 0x10d5bf550>
[I 180822 14:27:53 message_handler:203] <handlers.message.message_handler.WebSocketHandler object at 0x10d545668>
[I 180822 14:28:59 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 14:28:59 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 14:29:15 web:2162] 101 GET /ws (127.0.0.1) 0.82ms
[I 180822 14:29:15 message_handler:180] 聊天室人数：1
[I 180822 14:29:15 web:2162] 101 GET /ws (127.0.0.1) 0.95ms
[I 180822 14:29:15 web:2162] 101 GET /ws (127.0.0.1) 1.00ms
[I 180822 14:29:15 message_handler:180] 聊天室人数：2
[I 180822 14:29:15 message_handler:180] 聊天室人数：1
[I 180822 14:29:16 web:2162] 101 GET /ws (127.0.0.1) 0.54ms
[I 180822 14:29:16 message_handler:180] 聊天室人数：2
[I 180822 14:29:25 message_handler:201] 聊天室人数：2
[I 180822 14:29:25 message_handler:202] {<handlers.message.message_handler.WebSocketHandler object at 0x105d67518>, <handlers.message.message_handler.WebSocketHandler object at 0x105cec668>}
[I 180822 14:29:25 message_handler:204] <handlers.message.message_handler.WebSocketHandler object at 0x105d67518>
[I 180822 14:29:25 message_handler:204] <handlers.message.message_handler.WebSocketHandler object at 0x105cec668>
[I 180822 14:30:01 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 14:30:01 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 14:30:05 web:2162] 101 GET /ws (127.0.0.1) 0.76ms
[I 180822 14:30:05 message_handler:180] 聊天室人数：1
[I 180822 14:30:05 web:2162] 101 GET /ws (127.0.0.1) 0.51ms
[I 180822 14:30:05 web:2162] 101 GET /ws (127.0.0.1) 1.07ms
[I 180822 14:30:05 message_handler:180] 聊天室人数：2
[I 180822 14:30:05 message_handler:180] 聊天室人数：1
[I 180822 14:30:06 web:2162] 101 GET /ws (127.0.0.1) 0.74ms
[I 180822 14:30:06 message_handler:180] 聊天室人数：3
[I 180822 14:30:36 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 14:30:36 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 14:30:40 web:2162] 101 GET /ws (127.0.0.1) 0.70ms
[I 180822 14:30:40 message_handler:180] 聊天室人数：1
[I 180822 14:30:40 web:2162] 101 GET /ws (127.0.0.1) 0.72ms
[I 180822 14:30:40 message_handler:180] 聊天室人数：1
[I 180822 14:30:40 web:2162] 101 GET /ws (127.0.0.1) 0.81ms
[I 180822 14:30:40 message_handler:180] 聊天室人数：2
[I 180822 14:30:40 web:2162] 101 GET /ws (127.0.0.1) 0.51ms
[I 180822 14:30:40 message_handler:180] 聊天室人数：2
[I 180822 14:30:46 web:2162] 101 GET /ws (127.0.0.1) 1.34ms
[I 180822 14:30:46 web:2162] 101 GET /ws (127.0.0.1) 1.42ms
[I 180822 14:30:46 message_handler:180] 聊天室人数：1
[I 180822 14:30:46 message_handler:180] 聊天室人数：1
[I 180822 14:30:46 web:2162] 101 GET /ws (127.0.0.1) 0.69ms
[I 180822 14:30:46 web:2162] 101 GET /ws (127.0.0.1) 0.92ms
[I 180822 14:30:46 message_handler:180] 聊天室人数：2
[I 180822 14:30:46 message_handler:180] 聊天室人数：2
[I 180822 14:30:56 message_handler:201] 聊天室人数：2
[I 180822 14:30:56 message_handler:202] {<handlers.message.message_handler.WebSocketHandler object at 0x1096ee550>, <handlers.message.message_handler.WebSocketHandler object at 0x109674668>}
[I 180822 14:32:16 message_handler:201] 聊天室人数：2
[I 180822 14:32:16 message_handler:202] {<handlers.message.message_handler.WebSocketHandler object at 0x1053fa518>, <handlers.message.message_handler.WebSocketHandler object at 0x10537f668>}
[I 180822 14:33:30 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 14:33:30 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 14:33:34 web:2162] 101 GET /ws (127.0.0.1) 1.07ms
[I 180822 14:33:34 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x10c9af668>}
[I 180822 14:33:34 message_handler:181] 聊天室人数：1
[I 180822 14:33:34 web:2162] 101 GET /ws (127.0.0.1) 0.88ms
[I 180822 14:33:34 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x10ca29550>, <handlers.message.message_handler.WebSocketHandler object at 0x10c9af668>}
[I 180822 14:33:34 web:2162] 101 GET /ws (127.0.0.1) 1.27ms
[I 180822 14:33:34 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x10a4c1780>}
[I 180822 14:33:34 message_handler:181] 聊天室人数：2
[I 180822 14:33:34 message_handler:181] 聊天室人数：1
[I 180822 14:33:35 web:2162] 101 GET /ws (127.0.0.1) 1.02ms
[I 180822 14:33:35 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x10a4c1780>, <handlers.message.message_handler.WebSocketHandler object at 0x10a546668>}
[I 180822 14:33:35 message_handler:181] 聊天室人数：2
[I 180822 14:33:51 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 14:33:51 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 14:33:59 web:2162] 101 GET /ws (127.0.0.1) 0.73ms
[I 180822 14:33:59 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x109a23630>}
[I 180822 14:33:59 message_handler:181] 聊天室人数：1
[I 180822 14:33:59 web:2162] 101 GET /ws (127.0.0.1) 0.97ms
[I 180822 14:33:59 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x1028e16a0>}
[I 180822 14:33:59 message_handler:181] 聊天室人数：1
[I 180822 14:34:07 web:2162] 101 GET /ws (127.0.0.1) 0.77ms
[I 180822 14:34:07 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x1028e16a0>, <handlers.message.message_handler.WebSocketHandler object at 0x10295b550>}
[I 180822 14:34:07 message_handler:181] 聊天室人数：2
[I 180822 14:34:07 web:2162] 101 GET /ws (127.0.0.1) 0.51ms
[I 180822 14:34:07 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x1028e16a0>, <handlers.message.message_handler.WebSocketHandler object at 0x10295beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x10295b550>}
[I 180822 14:34:07 message_handler:181] 聊天室人数：3
[I 180822 14:34:57 message_handler:202] 聊天室人数：1
[I 180822 14:35:03 message_handler:202] 聊天室人数：3
[I 180822 14:35:18 web:2162] 200 GET /message/message (127.0.0.1) 9.82ms
[E 180822 14:35:18 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[E 180822 14:35:18 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x109a63510>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[I 180822 14:35:18 web:2162] 101 GET /ws (127.0.0.1) 0.87ms
[I 180822 14:35:18 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x109a23630>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9dac8>}
[E 180822 14:35:18 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:35:18 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[E 180822 14:35:18 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x109a118c8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[I 180822 14:35:22 web:2162] 101 GET /ws (127.0.0.1) 0.58ms
[I 180822 14:35:22 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x109b222b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109a23630>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9dac8>}
[E 180822 14:35:22 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:35:22 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[E 180822 14:35:22 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x109a63598>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[I 180822 14:35:26 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[I 180822 14:35:26 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x109b222b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109a23630>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9dac8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22668>}
[E 180822 14:35:26 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:35:26 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[E 180822 14:35:26 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x109a63488>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[I 180822 14:35:30 web:2162] 101 GET /ws (127.0.0.1) 0.46ms
[I 180822 14:35:30 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x1028e16a0>, <handlers.message.message_handler.WebSocketHandler object at 0x10295beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x10295b550>, <handlers.message.message_handler.WebSocketHandler object at 0x1029826d8>}
[I 180822 14:35:30 message_handler:181] 聊天室人数：4
[I 180822 14:36:08 web:2162] 200 GET /message/message (127.0.0.1) 7.52ms
[E 180822 14:36:08 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[E 180822 14:36:08 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1028d0840>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[I 180822 14:36:08 web:2162] 101 GET /ws (127.0.0.1) 1.45ms
[I 180822 14:36:08 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x109a23630>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22668>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2b2b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b222b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9dac8>}
[E 180822 14:36:08 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:36:08 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[E 180822 14:36:08 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x109a63730>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[I 180822 14:36:08 web:2162] 200 GET /favicon.ico (127.0.0.1) 9.89ms
[I 180822 14:36:11 web:2162] 200 GET /message/message (127.0.0.1) 11.74ms
[E 180822 14:36:11 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[E 180822 14:36:11 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x101016950>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[I 180822 14:36:11 web:2162] 101 GET /ws (127.0.0.1) 3.29ms
[I 180822 14:36:11 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x109a23630>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22668>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2b2b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b222b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9dac8>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9d6d8>}
[E 180822 14:36:11 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:36:11 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[E 180822 14:36:11 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10814fe18>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[I 180822 14:36:12 web:2162] 101 GET /ws (127.0.0.1) 0.67ms
[I 180822 14:36:12 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x1028e16a0>, <handlers.message.message_handler.WebSocketHandler object at 0x10295beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x1029826d8>, <handlers.message.message_handler.WebSocketHandler object at 0x10295b550>, <handlers.message.message_handler.WebSocketHandler object at 0x1029743c8>}
[E 180822 14:36:12 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:36:12 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[E 180822 14:36:12 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x1029228c8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[I 180822 14:36:15 web:2162] 101 GET /ws (127.0.0.1) 0.78ms
[I 180822 14:36:15 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x1028e16a0>, <handlers.message.message_handler.WebSocketHandler object at 0x10295beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x1029826d8>, <handlers.message.message_handler.WebSocketHandler object at 0x10295b550>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30160>, <handlers.message.message_handler.WebSocketHandler object at 0x1029743c8>}
[E 180822 14:36:15 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:36:15 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[E 180822 14:36:15 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x102935e18>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[I 180822 14:36:16 web:2162] 101 GET /ws (127.0.0.1) 0.99ms
[I 180822 14:36:16 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x109a23630>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22668>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2b2b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b222b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9dac8>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9d6d8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b4fd68>}
[E 180822 14:36:16 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:36:16 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[E 180822 14:36:16 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x109aecea0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[I 180822 14:36:19 web:2162] 101 GET /ws (127.0.0.1) 0.95ms
[I 180822 14:36:19 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x109a23630>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22668>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2b2b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b222b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9dac8>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9d6d8>, <handlers.message.message_handler.WebSocketHandler object at 0x109ad30b8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b4fd68>}
[E 180822 14:36:19 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:36:19 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[E 180822 14:36:19 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x109a11840>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[I 180822 14:36:20 web:2162] 101 GET /ws (127.0.0.1) 0.44ms
[I 180822 14:36:20 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x1028e16a0>, <handlers.message.message_handler.WebSocketHandler object at 0x10295beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x1029826d8>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30518>, <handlers.message.message_handler.WebSocketHandler object at 0x10295b550>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30160>, <handlers.message.message_handler.WebSocketHandler object at 0x1029743c8>}
[E 180822 14:36:20 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:36:20 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[E 180822 14:36:20 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x102922d08>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[I 180822 14:36:23 web:2162] 101 GET /ws (127.0.0.1) 0.70ms
[I 180822 14:36:23 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x1028e16a0>, <handlers.message.message_handler.WebSocketHandler object at 0x10295beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x1029826d8>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30518>, <handlers.message.message_handler.WebSocketHandler object at 0x10295b550>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30160>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32160>, <handlers.message.message_handler.WebSocketHandler object at 0x1029743c8>}
[E 180822 14:36:23 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:36:23 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[E 180822 14:36:23 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10297ee18>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[I 180822 14:36:25 web:2162] 101 GET /ws (127.0.0.1) 1.24ms
[I 180822 14:36:25 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x109a23630>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22668>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2b2b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b222b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9dac8>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9d6d8>, <handlers.message.message_handler.WebSocketHandler object at 0x109ad30b8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22908>, <handlers.message.message_handler.WebSocketHandler object at 0x109b4fd68>}
[E 180822 14:36:25 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:36:25 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[E 180822 14:36:25 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x109aec0d0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[I 180822 14:36:27 web:2162] 101 GET /ws (127.0.0.1) 0.75ms
[I 180822 14:36:27 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x109a23630>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22668>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2b2b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b222b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9dac8>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9d6d8>, <handlers.message.message_handler.WebSocketHandler object at 0x109ad30b8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22908>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b4fd68>}
[E 180822 14:36:27 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:36:27 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[E 180822 14:36:27 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10863c488>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[I 180822 14:36:30 web:2162] 101 GET /ws (127.0.0.1) 0.97ms
[I 180822 14:36:30 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x1028e16a0>, <handlers.message.message_handler.WebSocketHandler object at 0x10295beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x1029826d8>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30518>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32518>, <handlers.message.message_handler.WebSocketHandler object at 0x10295b550>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30160>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32160>, <handlers.message.message_handler.WebSocketHandler object at 0x1029743c8>}
[E 180822 14:36:30 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:36:30 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[E 180822 14:36:30 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10297e620>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[I 180822 14:36:31 web:2162] 101 GET /ws (127.0.0.1) 0.47ms
[I 180822 14:36:31 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x109ad3828>, <handlers.message.message_handler.WebSocketHandler object at 0x109a23630>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22668>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2b2b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b222b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9dac8>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9d6d8>, <handlers.message.message_handler.WebSocketHandler object at 0x109ad30b8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22908>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b4fd68>}
[E 180822 14:36:31 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:36:31 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[E 180822 14:36:31 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x109aecea0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[I 180822 14:36:35 web:2162] 101 GET /ws (127.0.0.1) 0.75ms
[I 180822 14:36:35 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x1028e16a0>, <handlers.message.message_handler.WebSocketHandler object at 0x10295beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x1029826d8>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30518>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32518>, <handlers.message.message_handler.WebSocketHandler object at 0x10295b550>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30160>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32160>, <handlers.message.message_handler.WebSocketHandler object at 0x1029743c8>, <handlers.message.message_handler.WebSocketHandler object at 0x102a325c0>}
[E 180822 14:36:35 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:36:35 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[E 180822 14:36:35 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10297e840>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[I 180822 14:36:35 web:2162] 101 GET /ws (127.0.0.1) 0.50ms
[I 180822 14:36:35 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x109ad3828>, <handlers.message.message_handler.WebSocketHandler object at 0x109a23630>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22668>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2b2b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b222b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9dac8>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9d6d8>, <handlers.message.message_handler.WebSocketHandler object at 0x109ad30b8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22908>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b4fd68>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb198>}
[E 180822 14:36:35 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:36:35 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[E 180822 14:36:35 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x109aecd90>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[I 180822 14:36:39 web:2162] 101 GET /ws (127.0.0.1) 0.74ms
[I 180822 14:36:39 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x1028e16a0>, <handlers.message.message_handler.WebSocketHandler object at 0x10295beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x1029826d8>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30518>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32518>, <handlers.message.message_handler.WebSocketHandler object at 0x10295b550>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30160>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32160>, <handlers.message.message_handler.WebSocketHandler object at 0x1029743c8>, <handlers.message.message_handler.WebSocketHandler object at 0x1029741d0>, <handlers.message.message_handler.WebSocketHandler object at 0x102a325c0>}
[E 180822 14:36:39 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:36:39 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[E 180822 14:36:39 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10297ef28>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[I 180822 14:36:41 web:2162] 101 GET /ws (127.0.0.1) 0.74ms
[I 180822 14:36:41 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x109ad3828>, <handlers.message.message_handler.WebSocketHandler object at 0x109a23630>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22668>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2b2b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b222b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9dac8>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9d6d8>, <handlers.message.message_handler.WebSocketHandler object at 0x109ad30b8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22908>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb550>, <handlers.message.message_handler.WebSocketHandler object at 0x109b4fd68>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb198>}
[E 180822 14:36:41 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:36:41 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[E 180822 14:36:41 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x109aece18>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[I 180822 14:36:43 web:2162] 101 GET /ws (127.0.0.1) 0.52ms
[I 180822 14:36:43 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x102a3d438>, <handlers.message.message_handler.WebSocketHandler object at 0x1028e16a0>, <handlers.message.message_handler.WebSocketHandler object at 0x10295beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x1029826d8>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30518>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32518>, <handlers.message.message_handler.WebSocketHandler object at 0x10295b550>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30160>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32160>, <handlers.message.message_handler.WebSocketHandler object at 0x1029743c8>, <handlers.message.message_handler.WebSocketHandler object at 0x1029741d0>, <handlers.message.message_handler.WebSocketHandler object at 0x102a325c0>}
[E 180822 14:36:43 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:36:43 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[E 180822 14:36:43 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10297ee18>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[I 180822 14:36:47 web:2162] 101 GET /ws (127.0.0.1) 0.96ms
[I 180822 14:36:47 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x102a3d438>, <handlers.message.message_handler.WebSocketHandler object at 0x102a49048>, <handlers.message.message_handler.WebSocketHandler object at 0x1028e16a0>, <handlers.message.message_handler.WebSocketHandler object at 0x10295beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x1029826d8>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30518>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32518>, <handlers.message.message_handler.WebSocketHandler object at 0x10295b550>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30160>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32160>, <handlers.message.message_handler.WebSocketHandler object at 0x1029743c8>, <handlers.message.message_handler.WebSocketHandler object at 0x1029741d0>, <handlers.message.message_handler.WebSocketHandler object at 0x102a325c0>}
[E 180822 14:36:47 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:36:47 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[E 180822 14:36:47 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10297ed08>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[I 180822 14:36:47 web:2162] 101 GET /ws (127.0.0.1) 0.76ms
[I 180822 14:36:47 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x109ad3828>, <handlers.message.message_handler.WebSocketHandler object at 0x109a23630>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22668>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb4a8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2b2b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b222b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9dac8>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9d6d8>, <handlers.message.message_handler.WebSocketHandler object at 0x109ad30b8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22908>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb550>, <handlers.message.message_handler.WebSocketHandler object at 0x109b4fd68>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb198>}
[E 180822 14:36:47 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:36:47 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[E 180822 14:36:47 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x109aecea0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[I 180822 14:36:51 web:2162] 101 GET /ws (127.0.0.1) 0.76ms
[I 180822 14:36:51 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x109ad3c18>, <handlers.message.message_handler.WebSocketHandler object at 0x109ad3828>, <handlers.message.message_handler.WebSocketHandler object at 0x109a23630>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22668>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb4a8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2b2b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b222b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9dac8>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9d6d8>, <handlers.message.message_handler.WebSocketHandler object at 0x109ad30b8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22908>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb550>, <handlers.message.message_handler.WebSocketHandler object at 0x109b4fd68>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb198>}
[E 180822 14:36:51 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:36:51 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[E 180822 14:36:51 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x109aecc80>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[I 180822 14:36:53 web:2162] 101 GET /ws (127.0.0.1) 0.75ms
[I 180822 14:36:53 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x102a3d438>, <handlers.message.message_handler.WebSocketHandler object at 0x102a49048>, <handlers.message.message_handler.WebSocketHandler object at 0x102a49438>, <handlers.message.message_handler.WebSocketHandler object at 0x1028e16a0>, <handlers.message.message_handler.WebSocketHandler object at 0x10295beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x1029826d8>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30518>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32518>, <handlers.message.message_handler.WebSocketHandler object at 0x10295b550>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30160>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32160>, <handlers.message.message_handler.WebSocketHandler object at 0x1029743c8>, <handlers.message.message_handler.WebSocketHandler object at 0x1029741d0>, <handlers.message.message_handler.WebSocketHandler object at 0x102a325c0>}
[E 180822 14:36:53 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:36:53 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[E 180822 14:36:53 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x102935e18>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[I 180822 14:36:55 web:2162] 101 GET /ws (127.0.0.1) 0.74ms
[I 180822 14:36:55 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x102a3d438>, <handlers.message.message_handler.WebSocketHandler object at 0x102a49048>, <handlers.message.message_handler.WebSocketHandler object at 0x102a49438>, <handlers.message.message_handler.WebSocketHandler object at 0x1028e16a0>, <handlers.message.message_handler.WebSocketHandler object at 0x10295beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x1029826d8>, <handlers.message.message_handler.WebSocketHandler object at 0x102a3d4e0>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30518>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32518>, <handlers.message.message_handler.WebSocketHandler object at 0x10295b550>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30160>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32160>, <handlers.message.message_handler.WebSocketHandler object at 0x1029743c8>, <handlers.message.message_handler.WebSocketHandler object at 0x1029741d0>, <handlers.message.message_handler.WebSocketHandler object at 0x102a325c0>}
[E 180822 14:36:55 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:36:55 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[E 180822 14:36:55 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10297ed08>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[I 180822 14:36:59 web:2162] 101 GET /ws (127.0.0.1) 0.81ms
[I 180822 14:36:59 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x109ad3c18>, <handlers.message.message_handler.WebSocketHandler object at 0x109ad3828>, <handlers.message.message_handler.WebSocketHandler object at 0x109a23630>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22668>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb4a8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2b2b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b222b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9dac8>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9d6d8>, <handlers.message.message_handler.WebSocketHandler object at 0x109ad30b8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22908>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb550>, <handlers.message.message_handler.WebSocketHandler object at 0x109b4fd68>, <handlers.message.message_handler.WebSocketHandler object at 0x109ac7358>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb198>}
[E 180822 14:36:59 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:36:59 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[E 180822 14:36:59 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x109aec158>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[I 180822 14:36:59 web:2162] 101 GET /ws (127.0.0.1) 0.74ms
[I 180822 14:36:59 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x102a3d438>, <handlers.message.message_handler.WebSocketHandler object at 0x102a49048>, <handlers.message.message_handler.WebSocketHandler object at 0x102a49438>, <handlers.message.message_handler.WebSocketHandler object at 0x102a49a58>, <handlers.message.message_handler.WebSocketHandler object at 0x1028e16a0>, <handlers.message.message_handler.WebSocketHandler object at 0x10295beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x1029826d8>, <handlers.message.message_handler.WebSocketHandler object at 0x102a3d4e0>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30518>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32518>, <handlers.message.message_handler.WebSocketHandler object at 0x10295b550>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30160>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32160>, <handlers.message.message_handler.WebSocketHandler object at 0x1029743c8>, <handlers.message.message_handler.WebSocketHandler object at 0x1029741d0>, <handlers.message.message_handler.WebSocketHandler object at 0x102a325c0>}
[E 180822 14:36:59 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:36:59 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[E 180822 14:36:59 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10297e620>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[I 180822 14:37:03 web:2162] 101 GET /ws (127.0.0.1) 0.84ms
[I 180822 14:37:03 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x109ad3c18>, <handlers.message.message_handler.WebSocketHandler object at 0x109ad3828>, <handlers.message.message_handler.WebSocketHandler object at 0x109a23630>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22668>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb4a8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2b2b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b222b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9dac8>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9d6d8>, <handlers.message.message_handler.WebSocketHandler object at 0x109ad30b8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22908>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x109ac76a0>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb550>, <handlers.message.message_handler.WebSocketHandler object at 0x109b4fd68>, <handlers.message.message_handler.WebSocketHandler object at 0x109ac7358>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb198>}
[E 180822 14:37:03 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:37:03 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[E 180822 14:37:03 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x109aece18>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[I 180822 14:37:05 web:2162] 101 GET /ws (127.0.0.1) 0.52ms
[I 180822 14:37:05 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x102a3d438>, <handlers.message.message_handler.WebSocketHandler object at 0x102a49048>, <handlers.message.message_handler.WebSocketHandler object at 0x102a49438>, <handlers.message.message_handler.WebSocketHandler object at 0x102a49a58>, <handlers.message.message_handler.WebSocketHandler object at 0x1028e16a0>, <handlers.message.message_handler.WebSocketHandler object at 0x10295beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x1029826d8>, <handlers.message.message_handler.WebSocketHandler object at 0x102a3d4e0>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30518>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32518>, <handlers.message.message_handler.WebSocketHandler object at 0x10295b550>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30160>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32160>, <handlers.message.message_handler.WebSocketHandler object at 0x102a56358>, <handlers.message.message_handler.WebSocketHandler object at 0x1029743c8>, <handlers.message.message_handler.WebSocketHandler object at 0x1029741d0>, <handlers.message.message_handler.WebSocketHandler object at 0x102a325c0>}
[E 180822 14:37:05 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:37:05 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[E 180822 14:37:05 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10297e730>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[I 180822 14:37:07 web:2162] 101 GET /ws (127.0.0.1) 0.94ms
[I 180822 14:37:07 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x102a3d438>, <handlers.message.message_handler.WebSocketHandler object at 0x102a49048>, <handlers.message.message_handler.WebSocketHandler object at 0x102a49438>, <handlers.message.message_handler.WebSocketHandler object at 0x102a49a58>, <handlers.message.message_handler.WebSocketHandler object at 0x1028e16a0>, <handlers.message.message_handler.WebSocketHandler object at 0x10295beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x1029826d8>, <handlers.message.message_handler.WebSocketHandler object at 0x102a3d4e0>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30518>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32518>, <handlers.message.message_handler.WebSocketHandler object at 0x102a56b38>, <handlers.message.message_handler.WebSocketHandler object at 0x10295b550>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30160>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32160>, <handlers.message.message_handler.WebSocketHandler object at 0x102a56358>, <handlers.message.message_handler.WebSocketHandler object at 0x1029743c8>, <handlers.message.message_handler.WebSocketHandler object at 0x1029741d0>, <handlers.message.message_handler.WebSocketHandler object at 0x102a325c0>}
[E 180822 14:37:07 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:37:07 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[E 180822 14:37:07 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10297eae8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[I 180822 14:37:09 web:2162] 101 GET /ws (127.0.0.1) 0.75ms
[I 180822 14:37:09 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x109ad3c18>, <handlers.message.message_handler.WebSocketHandler object at 0x109ad3828>, <handlers.message.message_handler.WebSocketHandler object at 0x109a23630>, <handlers.message.message_handler.WebSocketHandler object at 0x109b68048>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22668>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb4a8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2b2b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b222b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9dac8>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9d6d8>, <handlers.message.message_handler.WebSocketHandler object at 0x109ad30b8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22908>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x109ac76a0>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb550>, <handlers.message.message_handler.WebSocketHandler object at 0x109b4fd68>, <handlers.message.message_handler.WebSocketHandler object at 0x109ac7358>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb198>}
[E 180822 14:37:09 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:37:09 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[E 180822 14:37:09 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x109aec158>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[I 180822 14:37:11 web:2162] 101 GET /ws (127.0.0.1) 0.47ms
[I 180822 14:37:11 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x102a3d438>, <handlers.message.message_handler.WebSocketHandler object at 0x102a49048>, <handlers.message.message_handler.WebSocketHandler object at 0x102a49438>, <handlers.message.message_handler.WebSocketHandler object at 0x102a49a58>, <handlers.message.message_handler.WebSocketHandler object at 0x1028e16a0>, <handlers.message.message_handler.WebSocketHandler object at 0x10295beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x1029826d8>, <handlers.message.message_handler.WebSocketHandler object at 0x102a3d4e0>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30518>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32518>, <handlers.message.message_handler.WebSocketHandler object at 0x102a56b38>, <handlers.message.message_handler.WebSocketHandler object at 0x10295b550>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30160>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32160>, <handlers.message.message_handler.WebSocketHandler object at 0x102a56358>, <handlers.message.message_handler.WebSocketHandler object at 0x102a5e358>, <handlers.message.message_handler.WebSocketHandler object at 0x1029743c8>, <handlers.message.message_handler.WebSocketHandler object at 0x1029741d0>, <handlers.message.message_handler.WebSocketHandler object at 0x102a325c0>}
[E 180822 14:37:11 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:37:11 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[E 180822 14:37:11 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10297eea0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[I 180822 14:37:15 web:2162] 101 GET /ws (127.0.0.1) 0.73ms
[I 180822 14:37:15 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x109ad3c18>, <handlers.message.message_handler.WebSocketHandler object at 0x109ad3828>, <handlers.message.message_handler.WebSocketHandler object at 0x109a23630>, <handlers.message.message_handler.WebSocketHandler object at 0x109b68048>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22668>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb4a8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2b2b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b222b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9dac8>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9d6d8>, <handlers.message.message_handler.WebSocketHandler object at 0x109ad30b8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22908>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x109ac76a0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b68710>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb550>, <handlers.message.message_handler.WebSocketHandler object at 0x109b4fd68>, <handlers.message.message_handler.WebSocketHandler object at 0x109ac7358>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb198>}
[E 180822 14:37:15 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:37:15 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[E 180822 14:37:15 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x109aec0d0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[I 180822 14:37:15 web:2162] 101 GET /ws (127.0.0.1) 0.51ms
[I 180822 14:37:15 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x109ad3c18>, <handlers.message.message_handler.WebSocketHandler object at 0x109ad3828>, <handlers.message.message_handler.WebSocketHandler object at 0x109a23630>, <handlers.message.message_handler.WebSocketHandler object at 0x109b68048>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22668>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb4a8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2b2b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b222b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9dac8>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9d6d8>, <handlers.message.message_handler.WebSocketHandler object at 0x109ad30b8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22908>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x109ac76a0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b68710>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb550>, <handlers.message.message_handler.WebSocketHandler object at 0x109b4fd68>, <handlers.message.message_handler.WebSocketHandler object at 0x109ac7358>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb198>, <handlers.message.message_handler.WebSocketHandler object at 0x109abbfd0>}
[E 180822 14:37:15 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:37:15 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[E 180822 14:37:15 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x109aec158>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[I 180822 14:37:19 web:2162] 101 GET /ws (127.0.0.1) 1.03ms
[I 180822 14:37:19 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x102a56400>, <handlers.message.message_handler.WebSocketHandler object at 0x102a3d438>, <handlers.message.message_handler.WebSocketHandler object at 0x102a49048>, <handlers.message.message_handler.WebSocketHandler object at 0x102a49438>, <handlers.message.message_handler.WebSocketHandler object at 0x102a49a58>, <handlers.message.message_handler.WebSocketHandler object at 0x1028e16a0>, <handlers.message.message_handler.WebSocketHandler object at 0x10295beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x1029826d8>, <handlers.message.message_handler.WebSocketHandler object at 0x102a3d4e0>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30518>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32518>, <handlers.message.message_handler.WebSocketHandler object at 0x102a56b38>, <handlers.message.message_handler.WebSocketHandler object at 0x10295b550>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30160>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32160>, <handlers.message.message_handler.WebSocketHandler object at 0x102a56358>, <handlers.message.message_handler.WebSocketHandler object at 0x102a5e358>, <handlers.message.message_handler.WebSocketHandler object at 0x1029743c8>, <handlers.message.message_handler.WebSocketHandler object at 0x1029741d0>, <handlers.message.message_handler.WebSocketHandler object at 0x102a325c0>}
[E 180822 14:37:19 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:37:19 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[E 180822 14:37:19 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10297eea0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[I 180822 14:37:21 web:2162] 101 GET /ws (127.0.0.1) 0.74ms
[I 180822 14:37:21 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x109ad3828>, <handlers.message.message_handler.WebSocketHandler object at 0x109b68048>, <handlers.message.message_handler.WebSocketHandler object at 0x109ad30b8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22908>, <handlers.message.message_handler.WebSocketHandler object at 0x109b6f160>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb198>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2b2b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b222b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9dac8>, <handlers.message.message_handler.WebSocketHandler object at 0x109ac7358>, <handlers.message.message_handler.WebSocketHandler object at 0x109ad3c18>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb4a8>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb550>, <handlers.message.message_handler.WebSocketHandler object at 0x109b4fd68>, <handlers.message.message_handler.WebSocketHandler object at 0x109a23630>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22668>, <handlers.message.message_handler.WebSocketHandler object at 0x109ac76a0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9d6d8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b68710>, <handlers.message.message_handler.WebSocketHandler object at 0x109abbfd0>}
[E 180822 14:37:21 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:37:21 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[E 180822 14:37:21 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x109aecc80>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[I 180822 14:37:23 web:2162] 101 GET /ws (127.0.0.1) 0.47ms
[I 180822 14:37:23 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x102a49048>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30160>, <handlers.message.message_handler.WebSocketHandler object at 0x102a5e978>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32160>, <handlers.message.message_handler.WebSocketHandler object at 0x1029741d0>, <handlers.message.message_handler.WebSocketHandler object at 0x102a49a58>, <handlers.message.message_handler.WebSocketHandler object at 0x102a56b38>, <handlers.message.message_handler.WebSocketHandler object at 0x102a56358>, <handlers.message.message_handler.WebSocketHandler object at 0x102a5e358>, <handlers.message.message_handler.WebSocketHandler object at 0x1029743c8>, <handlers.message.message_handler.WebSocketHandler object at 0x102a56400>, <handlers.message.message_handler.WebSocketHandler object at 0x102a3d438>, <handlers.message.message_handler.WebSocketHandler object at 0x102a49438>, <handlers.message.message_handler.WebSocketHandler object at 0x102a3d4e0>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30518>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32518>, <handlers.message.message_handler.WebSocketHandler object at 0x10295b550>, <handlers.message.message_handler.WebSocketHandler object at 0x102a325c0>, <handlers.message.message_handler.WebSocketHandler object at 0x1028e16a0>, <handlers.message.message_handler.WebSocketHandler object at 0x10295beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x1029826d8>}
[E 180822 14:37:23 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:37:23 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[E 180822 14:37:23 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10297ee18>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[I 180822 14:37:25 web:2162] 101 GET /ws (127.0.0.1) 0.74ms
[I 180822 14:37:25 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x109ad3828>, <handlers.message.message_handler.WebSocketHandler object at 0x109b68048>, <handlers.message.message_handler.WebSocketHandler object at 0x109ad30b8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22908>, <handlers.message.message_handler.WebSocketHandler object at 0x109b6f160>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb198>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2b2b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b222b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9dac8>, <handlers.message.message_handler.WebSocketHandler object at 0x109ac7358>, <handlers.message.message_handler.WebSocketHandler object at 0x109ad3c18>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb4a8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b6f4a8>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb550>, <handlers.message.message_handler.WebSocketHandler object at 0x109b4fd68>, <handlers.message.message_handler.WebSocketHandler object at 0x109a23630>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22668>, <handlers.message.message_handler.WebSocketHandler object at 0x109ac76a0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9d6d8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b68710>, <handlers.message.message_handler.WebSocketHandler object at 0x109abbfd0>}
[E 180822 14:37:25 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:37:25 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[E 180822 14:37:25 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x109aec158>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[I 180822 14:37:27 web:2162] 101 GET /ws (127.0.0.1) 0.74ms
[I 180822 14:37:27 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x102a49048>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30160>, <handlers.message.message_handler.WebSocketHandler object at 0x102a5e978>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32160>, <handlers.message.message_handler.WebSocketHandler object at 0x1029741d0>, <handlers.message.message_handler.WebSocketHandler object at 0x102a49a58>, <handlers.message.message_handler.WebSocketHandler object at 0x102a6b278>, <handlers.message.message_handler.WebSocketHandler object at 0x102a56b38>, <handlers.message.message_handler.WebSocketHandler object at 0x102a56358>, <handlers.message.message_handler.WebSocketHandler object at 0x102a5e358>, <handlers.message.message_handler.WebSocketHandler object at 0x1029743c8>, <handlers.message.message_handler.WebSocketHandler object at 0x102a56400>, <handlers.message.message_handler.WebSocketHandler object at 0x102a3d438>, <handlers.message.message_handler.WebSocketHandler object at 0x102a49438>, <handlers.message.message_handler.WebSocketHandler object at 0x102a3d4e0>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30518>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32518>, <handlers.message.message_handler.WebSocketHandler object at 0x10295b550>, <handlers.message.message_handler.WebSocketHandler object at 0x102a325c0>, <handlers.message.message_handler.WebSocketHandler object at 0x1028e16a0>, <handlers.message.message_handler.WebSocketHandler object at 0x10295beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x1029826d8>}
[E 180822 14:37:27 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:37:27 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[E 180822 14:37:27 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10297e840>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[I 180822 14:37:31 web:2162] 101 GET /ws (127.0.0.1) 0.74ms
[I 180822 14:37:31 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x102a49048>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30160>, <handlers.message.message_handler.WebSocketHandler object at 0x102a5e978>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32160>, <handlers.message.message_handler.WebSocketHandler object at 0x1029741d0>, <handlers.message.message_handler.WebSocketHandler object at 0x102a49a58>, <handlers.message.message_handler.WebSocketHandler object at 0x102a6ba58>, <handlers.message.message_handler.WebSocketHandler object at 0x102a6b278>, <handlers.message.message_handler.WebSocketHandler object at 0x102a56b38>, <handlers.message.message_handler.WebSocketHandler object at 0x102a56358>, <handlers.message.message_handler.WebSocketHandler object at 0x102a5e358>, <handlers.message.message_handler.WebSocketHandler object at 0x1029743c8>, <handlers.message.message_handler.WebSocketHandler object at 0x102a56400>, <handlers.message.message_handler.WebSocketHandler object at 0x102a3d438>, <handlers.message.message_handler.WebSocketHandler object at 0x102a49438>, <handlers.message.message_handler.WebSocketHandler object at 0x102a3d4e0>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30518>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32518>, <handlers.message.message_handler.WebSocketHandler object at 0x10295b550>, <handlers.message.message_handler.WebSocketHandler object at 0x102a325c0>, <handlers.message.message_handler.WebSocketHandler object at 0x1028e16a0>, <handlers.message.message_handler.WebSocketHandler object at 0x10295beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x1029826d8>}
[E 180822 14:37:31 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:37:31 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[E 180822 14:37:31 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10297eae8>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[I 180822 14:37:31 web:2162] 101 GET /ws (127.0.0.1) 0.74ms
[I 180822 14:37:31 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x109ad3828>, <handlers.message.message_handler.WebSocketHandler object at 0x109b68048>, <handlers.message.message_handler.WebSocketHandler object at 0x109ad30b8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22908>, <handlers.message.message_handler.WebSocketHandler object at 0x109b6f160>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb198>, <handlers.message.message_handler.WebSocketHandler object at 0x109b7b1d0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2b2b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b222b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9dac8>, <handlers.message.message_handler.WebSocketHandler object at 0x109ac7358>, <handlers.message.message_handler.WebSocketHandler object at 0x109ad3c18>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb4a8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b6f4a8>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb550>, <handlers.message.message_handler.WebSocketHandler object at 0x109b4fd68>, <handlers.message.message_handler.WebSocketHandler object at 0x109a23630>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22668>, <handlers.message.message_handler.WebSocketHandler object at 0x109ac76a0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9d6d8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b68710>, <handlers.message.message_handler.WebSocketHandler object at 0x109abbfd0>}
[E 180822 14:37:31 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:37:31 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[E 180822 14:37:31 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x109aece18>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[I 180822 14:37:35 web:2162] 101 GET /ws (127.0.0.1) 1.00ms
[I 180822 14:37:35 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x102a49048>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30160>, <handlers.message.message_handler.WebSocketHandler object at 0x102a5e978>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32160>, <handlers.message.message_handler.WebSocketHandler object at 0x1029741d0>, <handlers.message.message_handler.WebSocketHandler object at 0x102a49a58>, <handlers.message.message_handler.WebSocketHandler object at 0x102a6ba58>, <handlers.message.message_handler.WebSocketHandler object at 0x102a6b278>, <handlers.message.message_handler.WebSocketHandler object at 0x102a74278>, <handlers.message.message_handler.WebSocketHandler object at 0x102a56b38>, <handlers.message.message_handler.WebSocketHandler object at 0x102a56358>, <handlers.message.message_handler.WebSocketHandler object at 0x102a5e358>, <handlers.message.message_handler.WebSocketHandler object at 0x1029743c8>, <handlers.message.message_handler.WebSocketHandler object at 0x102a56400>, <handlers.message.message_handler.WebSocketHandler object at 0x102a3d438>, <handlers.message.message_handler.WebSocketHandler object at 0x102a49438>, <handlers.message.message_handler.WebSocketHandler object at 0x102a3d4e0>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30518>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32518>, <handlers.message.message_handler.WebSocketHandler object at 0x10295b550>, <handlers.message.message_handler.WebSocketHandler object at 0x102a325c0>, <handlers.message.message_handler.WebSocketHandler object at 0x1028e16a0>, <handlers.message.message_handler.WebSocketHandler object at 0x10295beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x1029826d8>}
[E 180822 14:37:35 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:37:35 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[E 180822 14:37:35 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10297e400>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[I 180822 14:37:37 web:2162] 101 GET /ws (127.0.0.1) 0.73ms
[I 180822 14:37:37 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x109ad3828>, <handlers.message.message_handler.WebSocketHandler object at 0x109b68048>, <handlers.message.message_handler.WebSocketHandler object at 0x109ad30b8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22908>, <handlers.message.message_handler.WebSocketHandler object at 0x109b6f160>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb198>, <handlers.message.message_handler.WebSocketHandler object at 0x109b7b1d0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2b2b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b222b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9dac8>, <handlers.message.message_handler.WebSocketHandler object at 0x109ac7358>, <handlers.message.message_handler.WebSocketHandler object at 0x109ad3c18>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb4a8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b6f4a8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b7b518>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb550>, <handlers.message.message_handler.WebSocketHandler object at 0x109b4fd68>, <handlers.message.message_handler.WebSocketHandler object at 0x109a23630>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22668>, <handlers.message.message_handler.WebSocketHandler object at 0x109ac76a0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9d6d8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b68710>, <handlers.message.message_handler.WebSocketHandler object at 0x109abbfd0>}
[E 180822 14:37:37 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:37:37 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[E 180822 14:37:37 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x109aecd08>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[I 180822 14:37:39 web:2162] 101 GET /ws (127.0.0.1) 0.87ms
[I 180822 14:37:39 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x102a49048>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30160>, <handlers.message.message_handler.WebSocketHandler object at 0x102a5e978>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32160>, <handlers.message.message_handler.WebSocketHandler object at 0x1029741d0>, <handlers.message.message_handler.WebSocketHandler object at 0x102a49a58>, <handlers.message.message_handler.WebSocketHandler object at 0x102a6ba58>, <handlers.message.message_handler.WebSocketHandler object at 0x102a6b278>, <handlers.message.message_handler.WebSocketHandler object at 0x102a74278>, <handlers.message.message_handler.WebSocketHandler object at 0x102a6b2e8>, <handlers.message.message_handler.WebSocketHandler object at 0x102a56b38>, <handlers.message.message_handler.WebSocketHandler object at 0x102a56358>, <handlers.message.message_handler.WebSocketHandler object at 0x102a5e358>, <handlers.message.message_handler.WebSocketHandler object at 0x1029743c8>, <handlers.message.message_handler.WebSocketHandler object at 0x102a56400>, <handlers.message.message_handler.WebSocketHandler object at 0x102a3d438>, <handlers.message.message_handler.WebSocketHandler object at 0x102a49438>, <handlers.message.message_handler.WebSocketHandler object at 0x102a3d4e0>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30518>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32518>, <handlers.message.message_handler.WebSocketHandler object at 0x10295b550>, <handlers.message.message_handler.WebSocketHandler object at 0x102a325c0>, <handlers.message.message_handler.WebSocketHandler object at 0x1028e16a0>, <handlers.message.message_handler.WebSocketHandler object at 0x10295beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x1029826d8>}
[E 180822 14:37:39 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:37:39 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[E 180822 14:37:39 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10297eea0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[I 180822 14:37:43 web:2162] 101 GET /ws (127.0.0.1) 0.75ms
[I 180822 14:37:43 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x102a49048>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30160>, <handlers.message.message_handler.WebSocketHandler object at 0x102a5e978>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32160>, <handlers.message.message_handler.WebSocketHandler object at 0x1029741d0>, <handlers.message.message_handler.WebSocketHandler object at 0x102a49a58>, <handlers.message.message_handler.WebSocketHandler object at 0x102a6ba58>, <handlers.message.message_handler.WebSocketHandler object at 0x102a6b278>, <handlers.message.message_handler.WebSocketHandler object at 0x102a74278>, <handlers.message.message_handler.WebSocketHandler object at 0x102a6b2e8>, <handlers.message.message_handler.WebSocketHandler object at 0x102a56b38>, <handlers.message.message_handler.WebSocketHandler object at 0x102a56358>, <handlers.message.message_handler.WebSocketHandler object at 0x102a5e358>, <handlers.message.message_handler.WebSocketHandler object at 0x1029743c8>, <handlers.message.message_handler.WebSocketHandler object at 0x102a56400>, <handlers.message.message_handler.WebSocketHandler object at 0x102a3d438>, <handlers.message.message_handler.WebSocketHandler object at 0x102a49438>, <handlers.message.message_handler.WebSocketHandler object at 0x102a3d4e0>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30518>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32518>, <handlers.message.message_handler.WebSocketHandler object at 0x102a74d30>, <handlers.message.message_handler.WebSocketHandler object at 0x10295b550>, <handlers.message.message_handler.WebSocketHandler object at 0x102a325c0>, <handlers.message.message_handler.WebSocketHandler object at 0x1028e16a0>, <handlers.message.message_handler.WebSocketHandler object at 0x10295beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x1029826d8>}
[E 180822 14:37:43 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:37:43 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[E 180822 14:37:43 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10297ed90>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[I 180822 14:37:43 web:2162] 101 GET /ws (127.0.0.1) 0.74ms
[I 180822 14:37:43 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x109ad3828>, <handlers.message.message_handler.WebSocketHandler object at 0x109b68048>, <handlers.message.message_handler.WebSocketHandler object at 0x109ad30b8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22908>, <handlers.message.message_handler.WebSocketHandler object at 0x109b6f160>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb198>, <handlers.message.message_handler.WebSocketHandler object at 0x109b7b1d0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2b2b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b222b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9dac8>, <handlers.message.message_handler.WebSocketHandler object at 0x109ac7358>, <handlers.message.message_handler.WebSocketHandler object at 0x109ad3c18>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb4a8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b6f4a8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b7b518>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb550>, <handlers.message.message_handler.WebSocketHandler object at 0x109b4fd68>, <handlers.message.message_handler.WebSocketHandler object at 0x109a23630>, <handlers.message.message_handler.WebSocketHandler object at 0x109b7b630>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22668>, <handlers.message.message_handler.WebSocketHandler object at 0x109ac76a0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9d6d8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b68710>, <handlers.message.message_handler.WebSocketHandler object at 0x109abbfd0>}
[E 180822 14:37:43 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:37:43 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[E 180822 14:37:43 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x109aec0d0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[I 180822 14:37:47 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[I 180822 14:37:47 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x109ad3828>, <handlers.message.message_handler.WebSocketHandler object at 0x109b68048>, <handlers.message.message_handler.WebSocketHandler object at 0x109ad30b8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22908>, <handlers.message.message_handler.WebSocketHandler object at 0x109b6f160>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb198>, <handlers.message.message_handler.WebSocketHandler object at 0x109b689b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b7b1d0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2b2b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b222b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9dac8>, <handlers.message.message_handler.WebSocketHandler object at 0x109ac7358>, <handlers.message.message_handler.WebSocketHandler object at 0x109ad3c18>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb4a8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b6f4a8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b7b518>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb550>, <handlers.message.message_handler.WebSocketHandler object at 0x109b4fd68>, <handlers.message.message_handler.WebSocketHandler object at 0x109a23630>, <handlers.message.message_handler.WebSocketHandler object at 0x109b7b630>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22668>, <handlers.message.message_handler.WebSocketHandler object at 0x109ac76a0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9d6d8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b68710>, <handlers.message.message_handler.WebSocketHandler object at 0x109abbfd0>}
[E 180822 14:37:47 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:37:47 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[E 180822 14:37:47 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x109aec158>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[I 180822 14:37:48 web:2162] 101 GET /ws (127.0.0.1) 0.47ms
[I 180822 14:37:48 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x102a49048>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30160>, <handlers.message.message_handler.WebSocketHandler object at 0x102a5e978>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32160>, <handlers.message.message_handler.WebSocketHandler object at 0x102a7f198>, <handlers.message.message_handler.WebSocketHandler object at 0x1029741d0>, <handlers.message.message_handler.WebSocketHandler object at 0x102a49a58>, <handlers.message.message_handler.WebSocketHandler object at 0x102a6ba58>, <handlers.message.message_handler.WebSocketHandler object at 0x102a6b278>, <handlers.message.message_handler.WebSocketHandler object at 0x102a74278>, <handlers.message.message_handler.WebSocketHandler object at 0x102a6b2e8>, <handlers.message.message_handler.WebSocketHandler object at 0x102a56b38>, <handlers.message.message_handler.WebSocketHandler object at 0x102a56358>, <handlers.message.message_handler.WebSocketHandler object at 0x102a5e358>, <handlers.message.message_handler.WebSocketHandler object at 0x1029743c8>, <handlers.message.message_handler.WebSocketHandler object at 0x102a56400>, <handlers.message.message_handler.WebSocketHandler object at 0x102a3d438>, <handlers.message.message_handler.WebSocketHandler object at 0x102a49438>, <handlers.message.message_handler.WebSocketHandler object at 0x102a3d4e0>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30518>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32518>, <handlers.message.message_handler.WebSocketHandler object at 0x102a74d30>, <handlers.message.message_handler.WebSocketHandler object at 0x10295b550>, <handlers.message.message_handler.WebSocketHandler object at 0x102a325c0>, <handlers.message.message_handler.WebSocketHandler object at 0x1028e16a0>, <handlers.message.message_handler.WebSocketHandler object at 0x10295beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x1029826d8>}
[E 180822 14:37:48 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:37:48 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[E 180822 14:37:48 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10297e840>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[I 180822 14:37:51 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[I 180822 14:37:51 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x109ad3828>, <handlers.message.message_handler.WebSocketHandler object at 0x109b68048>, <handlers.message.message_handler.WebSocketHandler object at 0x109ad30b8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22908>, <handlers.message.message_handler.WebSocketHandler object at 0x109b6f160>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb198>, <handlers.message.message_handler.WebSocketHandler object at 0x109b689b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b7b1d0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2b2b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b222b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9dac8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b842b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109ac7358>, <handlers.message.message_handler.WebSocketHandler object at 0x109ad3c18>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb4a8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b6f4a8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b7b518>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb550>, <handlers.message.message_handler.WebSocketHandler object at 0x109b4fd68>, <handlers.message.message_handler.WebSocketHandler object at 0x109a23630>, <handlers.message.message_handler.WebSocketHandler object at 0x109b7b630>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22668>, <handlers.message.message_handler.WebSocketHandler object at 0x109ac76a0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9d6d8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b68710>, <handlers.message.message_handler.WebSocketHandler object at 0x109abbfd0>}
[E 180822 14:37:51 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:37:51 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[E 180822 14:37:51 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x109aecea0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[I 180822 14:37:53 web:2162] 101 GET /ws (127.0.0.1) 0.67ms
[I 180822 14:37:53 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x102a49048>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30160>, <handlers.message.message_handler.WebSocketHandler object at 0x102a5e978>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32160>, <handlers.message.message_handler.WebSocketHandler object at 0x102a7f198>, <handlers.message.message_handler.WebSocketHandler object at 0x102a7f978>, <handlers.message.message_handler.WebSocketHandler object at 0x1029741d0>, <handlers.message.message_handler.WebSocketHandler object at 0x102a49a58>, <handlers.message.message_handler.WebSocketHandler object at 0x102a6ba58>, <handlers.message.message_handler.WebSocketHandler object at 0x102a6b278>, <handlers.message.message_handler.WebSocketHandler object at 0x102a74278>, <handlers.message.message_handler.WebSocketHandler object at 0x102a6b2e8>, <handlers.message.message_handler.WebSocketHandler object at 0x102a56b38>, <handlers.message.message_handler.WebSocketHandler object at 0x102a56358>, <handlers.message.message_handler.WebSocketHandler object at 0x102a5e358>, <handlers.message.message_handler.WebSocketHandler object at 0x1029743c8>, <handlers.message.message_handler.WebSocketHandler object at 0x102a56400>, <handlers.message.message_handler.WebSocketHandler object at 0x102a3d438>, <handlers.message.message_handler.WebSocketHandler object at 0x102a49438>, <handlers.message.message_handler.WebSocketHandler object at 0x102a3d4e0>, <handlers.message.message_handler.WebSocketHandler object at 0x102a30518>, <handlers.message.message_handler.WebSocketHandler object at 0x102a32518>, <handlers.message.message_handler.WebSocketHandler object at 0x102a74d30>, <handlers.message.message_handler.WebSocketHandler object at 0x10295b550>, <handlers.message.message_handler.WebSocketHandler object at 0x102a325c0>, <handlers.message.message_handler.WebSocketHandler object at 0x1028e16a0>, <handlers.message.message_handler.WebSocketHandler object at 0x10295beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x1029826d8>}
[E 180822 14:37:53 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:37:53 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[E 180822 14:37:53 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x10297e2f0>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'tpg'
[I 180822 14:37:55 web:2162] 101 GET /ws (127.0.0.1) 0.52ms
[I 180822 14:37:55 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x109ad3828>, <handlers.message.message_handler.WebSocketHandler object at 0x109b68048>, <handlers.message.message_handler.WebSocketHandler object at 0x109ad30b8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22908>, <handlers.message.message_handler.WebSocketHandler object at 0x109b6f160>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb198>, <handlers.message.message_handler.WebSocketHandler object at 0x109b689b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b7b1d0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2b2b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b222b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9dac8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b842b0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b84ac8>, <handlers.message.message_handler.WebSocketHandler object at 0x109ac7358>, <handlers.message.message_handler.WebSocketHandler object at 0x109ad3c18>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb4a8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b6f4a8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b7b518>, <handlers.message.message_handler.WebSocketHandler object at 0x109abb550>, <handlers.message.message_handler.WebSocketHandler object at 0x109b4fd68>, <handlers.message.message_handler.WebSocketHandler object at 0x109a23630>, <handlers.message.message_handler.WebSocketHandler object at 0x109b7b630>, <handlers.message.message_handler.WebSocketHandler object at 0x109b22668>, <handlers.message.message_handler.WebSocketHandler object at 0x109ac76a0>, <handlers.message.message_handler.WebSocketHandler object at 0x109b2beb8>, <handlers.message.message_handler.WebSocketHandler object at 0x109a9d6d8>, <handlers.message.message_handler.WebSocketHandler object at 0x109b68710>, <handlers.message.message_handler.WebSocketHandler object at 0x109abbfd0>}
[E 180822 14:37:55 web:1670] Uncaught exception GET /ws (127.0.0.1)
    HTTPServerRequest(protocol='http', host='192.168.0.121:10000', method='GET', uri='/ws', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 546, in _run_callback
        result = callback(*args, **kwargs)
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 180, in open
        v.write_message({"come": "%s进入了聊天室🌹" % self.current_user.name})
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 259, in write_message
        raise WebSocketClosedError()
    tornado.websocket.WebSocketClosedError
[E 180822 14:37:55 iostream:755] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[E 180822 14:37:55 ioloop:801] Exception in callback functools.partial(<function wrap.<locals>.null_wrapper at 0x109a11840>)
    Traceback (most recent call last):
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/ioloop.py", line 758, in _run_callback
        ret = callback()
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/iostream.py", line 752, in wrapper
        return callback(*args)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/stack_context.py", line 300, in null_wrapper
        return fn(*args, **kwargs)
      File "/Users/apple/.virtualenvs/tornado_py3/lib/python3.6/site-packages/tornado/websocket.py", line 488, in on_connection_close
        self.on_close()
      File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 207, in on_close
        WebSocketHandler.users.remove(self.current_user.name)
    KeyError: 'test'
[I 180822 14:37:56 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 14:37:56 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 14:37:57 web:2162] 101 GET /ws (127.0.0.1) 1.03ms
[I 180822 14:37:57 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x10e1e0668>}
[I 180822 14:37:57 message_handler:181] 聊天室人数：1
[I 180822 14:38:05 web:2162] 101 GET /ws (127.0.0.1) 1.14ms
[I 180822 14:38:05 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x10bd7e6a0>}
[I 180822 14:38:05 message_handler:181] 聊天室人数：1
[I 180822 14:38:09 web:2162] 101 GET /ws (127.0.0.1) 0.66ms
[I 180822 14:38:09 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x10b9536a0>}
[I 180822 14:38:09 message_handler:181] 聊天室人数：1
[I 180822 14:38:11 web:2162] 101 GET /ws (127.0.0.1) 0.52ms
[I 180822 14:38:11 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x10bdf8588>, <handlers.message.message_handler.WebSocketHandler object at 0x10bd7e6a0>}
[I 180822 14:38:11 message_handler:181] 聊天室人数：2
[I 180822 14:38:11 web:2162] 101 GET /ws (127.0.0.1) 1.04ms
[I 180822 14:38:11 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x10b9cd588>, <handlers.message.message_handler.WebSocketHandler object at 0x10b9536a0>}
[I 180822 14:38:11 message_handler:181] 聊天室人数：2
[I 180822 14:41:40 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 14:41:40 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 14:41:49 web:2162] 101 GET /ws (127.0.0.1) 0.73ms
[I 180822 14:41:49 message_handler:177] start connection...
[I 180822 14:41:49 message_handler:178] set()
[I 180822 14:41:49 message_handler:180] {<handlers.message.message_handler.WebSocketHandler object at 0x10e8fe668>}
[I 180822 14:41:49 message_handler:183] 聊天室人数：1
[I 180822 14:41:52 web:2162] 101 GET /ws (127.0.0.1) 0.69ms
[I 180822 14:41:52 message_handler:177] start connection...
[I 180822 14:41:52 message_handler:178] set()
[I 180822 14:41:52 message_handler:180] {<handlers.message.message_handler.WebSocketHandler object at 0x10942eef0>}
[I 180822 14:41:52 message_handler:183] 聊天室人数：1
[I 180822 14:41:57 web:2162] 101 GET /ws (127.0.0.1) 0.57ms
[I 180822 14:41:57 message_handler:177] start connection...
[I 180822 14:41:57 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x10942eef0>}
[I 180822 14:41:57 message_handler:180] {<handlers.message.message_handler.WebSocketHandler object at 0x1094c6588>, <handlers.message.message_handler.WebSocketHandler object at 0x10942eef0>}
[I 180822 14:41:57 message_handler:183] 聊天室人数：2
[I 180822 14:41:57 web:2162] 101 GET /ws (127.0.0.1) 1.06ms
[I 180822 14:41:57 message_handler:177] start connection...
[I 180822 14:41:57 message_handler:178] {<handlers.message.message_handler.WebSocketHandler object at 0x10e8fe668>}
[I 180822 14:41:57 message_handler:180] {<handlers.message.message_handler.WebSocketHandler object at 0x10e977588>, <handlers.message.message_handler.WebSocketHandler object at 0x10e8fe668>}
[I 180822 14:41:57 message_handler:183] 聊天室人数：2
[I 180822 14:47:29 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 14:47:29 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
Traceback (most recent call last):
  File "app.py", line 58, in <module>
    application = AppConfig()
  File "app.py", line 31, in __init__
    (r"/message/send_message", message_handler.SendMessageHandler),
AttributeError: module 'handlers.message.message_handler' has no attribute 'SendMessageHandler'
Traceback (most recent call last):
  File "app.py", line 58, in <module>
    application = AppConfig()
  File "app.py", line 31, in __init__
    (r"/message/send_message", message_handler.SendMessageHandler),
AttributeError: module 'handlers.message.message_handler' has no attribute 'SendMessageHandler'
Traceback (most recent call last):
  File "app.py", line 58, in <module>
    application = AppConfig()
  File "app.py", line 31, in __init__
    (r"/message/send_message", message_handler.SendMessageHandler),
AttributeError: module 'handlers.message.message_handler' has no attribute 'SendMessageHandler'
Traceback (most recent call last):
  File "app.py", line 58, in <module>
    application = AppConfig()
  File "app.py", line 31, in __init__
    (r"/message/send_message", message_handler.SendMessageHandler),
AttributeError: module 'handlers.message.message_handler' has no attribute 'SendMessageHandler'
Traceback (most recent call last):
  File "app.py", line 58, in <module>
    application = AppConfig()
  File "app.py", line 31, in __init__
    (r"/message/send_message", message_handler.SendMessageHandler),
AttributeError: module 'handlers.message.message_handler' has no attribute 'SendMessageHandler'
Traceback (most recent call last):
  File "app.py", line 58, in <module>
    application = AppConfig()
  File "app.py", line 31, in __init__
    (r"/message/send_message", message_handler.SendMessageHandler),
AttributeError: module 'handlers.message.message_handler' has no attribute 'SendMessageHandler'
Traceback (most recent call last):
  File "app.py", line 58, in <module>
    application = AppConfig()
  File "app.py", line 31, in __init__
    (r"/message/send_message", message_handler.SendMessageHandler),
AttributeError: module 'handlers.message.message_handler' has no attribute 'SendMessageHandler'
Traceback (most recent call last):
  File "app.py", line 58, in <module>
    application = AppConfig()
  File "app.py", line 31, in __init__
    (r"/message/send_message", message_handler.SendMessageHandler),
AttributeError: module 'handlers.message.message_handler' has no attribute 'SendMessageHandler'
Traceback (most recent call last):
  File "app.py", line 58, in <module>
    application = AppConfig()
  File "app.py", line 31, in __init__
    (r"/message/send_message", message_handler.SendMessageHandler),
AttributeError: module 'handlers.message.message_handler' has no attribute 'SendMessageHandler'
Traceback (most recent call last):
  File "app.py", line 58, in <module>
    application = AppConfig()
  File "app.py", line 31, in __init__
    (r"/message/send_message", message_handler.SendMessageHandler),
AttributeError: module 'handlers.message.message_handler' has no attribute 'SendMessageHandler'
[I 180822 15:08:58 web:2162] 304 GET / (127.0.0.1) 38.85ms
[I 180822 15:09:23 web:2162] 200 GET /message/message (127.0.0.1) 9.78ms
[I 180822 15:09:23 web:2162] 101 GET /ws (127.0.0.1) 1.24ms
[I 180822 15:09:33 web:2162] 302 GET /message/message (127.0.0.1) 4.05ms
[I 180822 15:09:33 web:2162] 200 GET /login?next=%2Fmessage%2Fmessage (127.0.0.1) 11.22ms
[I 180822 15:09:34 web:2162] 200 GET /favicon.ico (127.0.0.1) 14.29ms
[I 180822 15:09:39 web:2162] 302 POST /login?next=%2Fmessage%2Fmessage (127.0.0.1) 7.06ms
[I 180822 15:09:39 web:2162] 200 GET /message/message (127.0.0.1) 6.28ms
[I 180822 15:09:39 web:2162] 101 GET /ws (127.0.0.1) 0.93ms
[I 180822 15:10:02 web:2162] 302 GET / (127.0.0.1) 2.77ms
[I 180822 15:10:02 web:2162] 200 GET /login?next=%2F (127.0.0.1) 10.39ms
[I 180822 15:10:09 web:2162] 302 POST /login?next=%2F (127.0.0.1) 4.74ms
[I 180822 15:10:09 web:2162] 200 GET / (127.0.0.1) 10.83ms
[I 180822 15:10:11 web:2162] 200 GET /message/message (127.0.0.1) 9.49ms
[I 180822 15:10:11 web:2162] 101 GET /ws (127.0.0.1) 0.62ms
[I 180822 15:10:24 web:2162] 302 GET / (127.0.0.1) 2.88ms
[I 180822 15:10:24 web:2162] 200 GET /login?next=%2F (127.0.0.1) 10.60ms
[I 180822 15:10:24 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.43ms
[I 180822 15:10:28 web:2162] 302 POST /login?next=%2F (127.0.0.1) 5.45ms
[I 180822 15:10:28 web:2162] 200 GET / (127.0.0.1) 10.04ms
[I 180822 15:10:29 web:2162] 200 GET /message/message (127.0.0.1) 6.35ms
[I 180822 15:10:30 web:2162] 101 GET /ws (127.0.0.1) 0.89ms
[I 180822 15:10:55 message_handler:90] 聊天室人数：1
[I 180822 15:10:59 message_handler:90] 聊天室人数：0
[I 180822 15:11:06 message_handler:90] 聊天室人数：1
[I 180822 15:11:16 message_handler:90] 聊天室人数：0
[I 180822 15:22:25 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 15:22:25 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
Traceback (most recent call last):
  File "app.py", line 8, in <module>
    from handlers.message import message_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 68
    def on_message(self, message):
    ^
IndentationError: expected an indented block
Traceback (most recent call last):
  File "app.py", line 8, in <module>
    from handlers.message import message_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 68
    def on_message(self, message):
    ^
IndentationError: expected an indented block
Traceback (most recent call last):
  File "app.py", line 8, in <module>
    from handlers.message import message_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 68
    def on_message(self, message):
    ^
IndentationError: expected an indented block
Traceback (most recent call last):
  File "app.py", line 8, in <module>
    from handlers.message import message_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 68
    def on_message(self, message):
    ^
IndentationError: expected an indented block
Traceback (most recent call last):
  File "app.py", line 8, in <module>
    from handlers.message import message_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 68
    def on_message(self, message):
    ^
IndentationError: expected an indented block
Traceback (most recent call last):
  File "app.py", line 8, in <module>
    from handlers.message import message_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 68
    def on_message(self, message):
    ^
IndentationError: expected an indented block
Traceback (most recent call last):
  File "app.py", line 8, in <module>
    from handlers.message import message_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 68
    def on_message(self, message):
    ^
IndentationError: expected an indented block
Traceback (most recent call last):
  File "app.py", line 8, in <module>
    from handlers.message import message_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 68
    def on_message(self, message):
    ^
IndentationError: expected an indented block
Traceback (most recent call last):
  File "app.py", line 8, in <module>
    from handlers.message import message_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 68
    def on_message(self, message):
    ^
IndentationError: expected an indented block
Traceback (most recent call last):
  File "app.py", line 8, in <module>
    from handlers.message import message_handler
  File "/Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py", line 68
    def on_message(self, message):
    ^
IndentationError: expected an indented block
[I 180822 15:23:49 web:2162] 200 GET /message/message (127.0.0.1) 8.89ms
[I 180822 15:23:50 web:2162] 101 GET /ws (127.0.0.1) 1.85ms
[I 180822 15:24:01 web:2162] 200 GET /message/message (127.0.0.1) 6.70ms
[I 180822 15:24:02 web:2162] 101 GET /ws (127.0.0.1) 1.43ms
[I 180822 15:24:11 web:2162] 200 GET /message/message (127.0.0.1) 8.97ms
[I 180822 15:24:12 web:2162] 101 GET /ws (127.0.0.1) 0.83ms
[I 180822 15:24:24 web:2162] 200 GET /message/message (127.0.0.1) 5.36ms
[I 180822 15:24:24 message_handler:93] 聊天室人数：0
[I 180822 15:24:24 web:2162] 101 GET /ws (127.0.0.1) 1.06ms
[I 180822 15:24:24 web:2162] 200 GET /favicon.ico (127.0.0.1) 6.93ms
[I 180822 15:24:25 web:2162] 200 GET /message/message (127.0.0.1) 6.65ms
[I 180822 15:24:25 message_handler:93] 聊天室人数：0
[I 180822 15:24:25 web:2162] 101 GET /ws (127.0.0.1) 1.71ms
[I 180822 15:24:25 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.77ms
[I 180822 15:24:26 web:2162] 200 GET /message/message (127.0.0.1) 6.55ms
[I 180822 15:24:26 message_handler:93] 聊天室人数：2
[I 180822 15:24:26 web:2162] 101 GET /ws (127.0.0.1) 0.89ms
[I 180822 15:24:26 web:2162] 200 GET /favicon.ico (127.0.0.1) 11.06ms
[I 180822 15:24:26 web:2162] 200 GET /message/message (127.0.0.1) 7.68ms
[I 180822 15:24:26 message_handler:93] 聊天室人数：2
[I 180822 15:24:26 web:2162] 101 GET /ws (127.0.0.1) 0.80ms
[I 180822 15:24:26 web:2162] 200 GET /message/message (127.0.0.1) 11.44ms
[I 180822 15:24:26 message_handler:93] 聊天室人数：0
[I 180822 15:24:26 web:2162] 101 GET /ws (127.0.0.1) 0.72ms
[I 180822 15:24:26 web:2162] 200 GET /message/message (127.0.0.1) 12.71ms
[I 180822 15:24:26 message_handler:93] 聊天室人数：0
[I 180822 15:24:27 web:2162] 101 GET /ws (127.0.0.1) 0.94ms
[I 180822 15:24:27 web:2162] 200 GET /message/message (127.0.0.1) 10.31ms
[I 180822 15:24:27 message_handler:93] 聊天室人数：2
[I 180822 15:24:27 web:2162] 101 GET /ws (127.0.0.1) 1.26ms
[I 180822 15:24:27 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.61ms
[I 180822 15:24:27 web:2162] 200 GET /message/message (127.0.0.1) 7.30ms
[I 180822 15:24:27 message_handler:93] 聊天室人数：2
[I 180822 15:24:27 web:2162] 101 GET /ws (127.0.0.1) 1.11ms
[I 180822 15:24:27 web:2162] 200 GET /message/message (127.0.0.1) 9.96ms
[I 180822 15:24:27 message_handler:93] 聊天室人数：2
[I 180822 15:24:27 web:2162] 101 GET /ws (127.0.0.1) 0.94ms
[I 180822 15:24:28 web:2162] 200 GET /message/message (127.0.0.1) 10.99ms
[I 180822 15:24:28 message_handler:93] 聊天室人数：0
[I 180822 15:24:28 web:2162] 101 GET /ws (127.0.0.1) 1.83ms
[I 180822 15:24:28 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.54ms
[I 180822 15:24:28 web:2162] 200 GET /message/message (127.0.0.1) 11.19ms
[I 180822 15:24:28 message_handler:93] 聊天室人数：2
[I 180822 15:24:29 web:2162] 101 GET /ws (127.0.0.1) 1.67ms
[I 180822 15:24:29 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.92ms
[I 180822 15:24:31 web:2162] 200 GET /message/message (127.0.0.1) 7.58ms
[I 180822 15:24:31 message_handler:93] 聊天室人数：0
[I 180822 15:24:31 web:2162] 101 GET /ws (127.0.0.1) 0.96ms
[I 180822 15:24:31 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.61ms
[I 180822 15:25:13 web:2162] 302 GET / (127.0.0.1) 4.34ms
[I 180822 15:25:13 web:2162] 200 GET /login?next=%2F (127.0.0.1) 10.20ms
[I 180822 15:25:14 web:2162] 304 GET /favicon.ico (127.0.0.1) 1.17ms
[I 180822 15:25:38 web:2162] 302 POST /login?next=%2F (127.0.0.1) 5.43ms
[I 180822 15:25:38 web:2162] 200 GET / (127.0.0.1) 11.21ms
[I 180822 15:25:42 web:2162] 200 GET /message/message (127.0.0.1) 7.53ms
[I 180822 15:25:42 web:2162] 101 GET /ws (127.0.0.1) 0.83ms
[I 180822 15:25:54 message_handler:87] 聊天室人数：4
[I 180822 15:26:15 message_handler:87] 聊天室人数：4
[I 180822 15:28:26 message_handler:93] 聊天室人数：3
[I 180822 15:29:09 web:2162] 200 GET /message/message (127.0.0.1) 6.83ms
[I 180822 15:29:09 message_handler:93] 聊天室人数：2
[I 180822 15:29:09 web:2162] 101 GET /ws (127.0.0.1) 0.92ms
[I 180822 15:29:09 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.27ms
[I 180822 15:29:49 web:2162] 200 GET /message/message (127.0.0.1) 7.06ms
[I 180822 15:29:49 message_handler:93] 聊天室人数：2
[I 180822 15:29:49 web:2162] 101 GET /ws (127.0.0.1) 0.89ms
[I 180822 15:29:50 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.67ms
[I 180822 15:29:55 web:2162] 200 GET /message/message (127.0.0.1) 7.67ms
[I 180822 15:29:55 message_handler:93] 聊天室人数：2
[I 180822 15:29:55 web:2162] 101 GET /ws (127.0.0.1) 0.79ms
[I 180822 15:29:55 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.42ms
[I 180822 15:29:58 web:2162] 200 GET /message/message (127.0.0.1) 7.62ms
[I 180822 15:29:58 message_handler:93] 聊天室人数：2
[I 180822 15:29:58 web:2162] 101 GET /ws (127.0.0.1) 1.30ms
[I 180822 15:29:59 web:2162] 101 GET /ws (127.0.0.1) 0.81ms
[I 180822 15:30:00 web:2162] 200 GET /message/message (127.0.0.1) 5.90ms
[I 180822 15:30:01 message_handler:93] 聊天室人数：3
[I 180822 15:30:01 web:2162] 101 GET /ws (127.0.0.1) 0.47ms
[I 180822 15:30:09 web:2162] 304 GET /message/message (127.0.0.1) 7.49ms
[I 180822 15:30:09 message_handler:93] 聊天室人数：0
[I 180822 15:30:09 web:2162] 101 GET /ws (127.0.0.1) 0.99ms
[I 180822 15:31:22 message_handler:93] 聊天室人数：3
[I 180822 15:32:54 web:2162] 200 GET /message/message (127.0.0.1) 5.88ms
[I 180822 15:32:54 message_handler:93] 聊天室人数：2
[I 180822 15:32:55 web:2162] 101 GET /ws (127.0.0.1) 0.81ms
[I 180822 15:32:55 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.77ms
[I 180822 15:32:56 web:2162] 200 GET /message/message (127.0.0.1) 6.92ms
[I 180822 15:32:56 message_handler:93] 聊天室人数：0
[I 180822 15:32:56 web:2162] 101 GET /ws (127.0.0.1) 0.95ms
[I 180822 15:32:56 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.69ms
[I 180822 15:32:57 web:2162] 200 GET /message/message (127.0.0.1) 7.75ms
[I 180822 15:32:57 message_handler:93] 聊天室人数：2
[I 180822 15:32:57 web:2162] 101 GET /ws (127.0.0.1) 1.00ms
[I 180822 15:32:57 web:2162] 200 GET /favicon.ico (127.0.0.1) 3.22ms
[I 180822 15:32:58 web:2162] 200 GET /message/message (127.0.0.1) 7.72ms
[I 180822 15:32:58 message_handler:93] 聊天室人数：0
[I 180822 15:32:58 web:2162] 101 GET /ws (127.0.0.1) 1.27ms
[I 180822 15:32:58 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.62ms
[I 180822 15:32:58 web:2162] 200 GET /message/message (127.0.0.1) 8.32ms
[I 180822 15:32:58 message_handler:93] 聊天室人数：0
[I 180822 15:32:58 web:2162] 101 GET /ws (127.0.0.1) 0.85ms
[I 180822 15:32:58 web:2162] 200 GET /message/message (127.0.0.1) 10.31ms
[I 180822 15:32:58 message_handler:93] 聊天室人数：2
[I 180822 15:32:58 web:2162] 101 GET /ws (127.0.0.1) 1.59ms
[I 180822 15:32:58 web:2162] 200 GET /message/message (127.0.0.1) 11.97ms
[I 180822 15:32:58 message_handler:93] 聊天室人数：0
[I 180822 15:32:58 web:2162] 101 GET /ws (127.0.0.1) 1.25ms
[I 180822 15:32:59 web:2162] 200 GET /message/message (127.0.0.1) 11.18ms
[I 180822 15:32:59 message_handler:93] 聊天室人数：2
[I 180822 15:32:59 web:2162] 101 GET /ws (127.0.0.1) 1.06ms
[I 180822 15:32:59 web:2162] 200 GET /message/message (127.0.0.1) 10.11ms
[I 180822 15:32:59 message_handler:93] 聊天室人数：0
[I 180822 15:32:59 web:2162] 101 GET /ws (127.0.0.1) 0.81ms
[I 180822 15:32:59 web:2162] 200 GET /message/message (127.0.0.1) 11.46ms
[I 180822 15:32:59 message_handler:93] 聊天室人数：2
[I 180822 15:32:59 web:2162] 101 GET /ws (127.0.0.1) 0.88ms
[I 180822 15:32:59 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.73ms
[I 180822 15:33:00 web:2162] 200 GET /message/message (127.0.0.1) 6.67ms
[I 180822 15:33:00 message_handler:93] 聊天室人数：2
[I 180822 15:33:01 web:2162] 101 GET /ws (127.0.0.1) 2.30ms
[I 180822 15:33:01 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.06ms
[I 180822 15:33:02 web:2162] 200 GET /message/message (127.0.0.1) 6.65ms
[I 180822 15:33:02 message_handler:93] 聊天室人数：0
[I 180822 15:33:02 web:2162] 101 GET /ws (127.0.0.1) 1.08ms
[I 180822 15:33:03 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.69ms
[I 180822 15:33:03 web:2162] 200 GET /message/message (127.0.0.1) 6.40ms
[I 180822 15:33:03 message_handler:93] 聊天室人数：0
[I 180822 15:33:03 web:2162] 101 GET /ws (127.0.0.1) 0.89ms
[I 180822 15:33:03 web:2162] 200 GET /favicon.ico (127.0.0.1) 3.42ms
[I 180822 15:33:27 web:2162] 200 GET /message/message (127.0.0.1) 7.05ms
[I 180822 15:33:27 message_handler:93] 聊天室人数：2
[I 180822 15:33:27 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[I 180822 15:33:27 web:2162] 200 GET /favicon.ico (127.0.0.1) 8.09ms
[I 180822 15:33:29 web:2162] 304 GET /message/message (127.0.0.1) 7.08ms
[I 180822 15:33:29 message_handler:93] 聊天室人数：0
[I 180822 15:33:29 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.28ms
[I 180822 15:33:29 web:2162] 101 GET /ws (127.0.0.1) 0.85ms
[I 180822 15:33:30 web:2162] 304 GET /message/message (127.0.0.1) 6.58ms
[I 180822 15:33:30 message_handler:93] 聊天室人数：2
[I 180822 15:33:30 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.61ms
[I 180822 15:33:30 web:2162] 101 GET /ws (127.0.0.1) 0.80ms
[I 180822 15:33:30 web:2162] 304 GET /message/message (127.0.0.1) 7.39ms
[I 180822 15:33:30 message_handler:93] 聊天室人数：0
[I 180822 15:33:30 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.78ms
[I 180822 15:33:30 web:2162] 101 GET /ws (127.0.0.1) 0.78ms
[I 180822 15:33:30 web:2162] 304 GET /message/message (127.0.0.1) 7.12ms
[I 180822 15:33:30 message_handler:93] 聊天室人数：2
[I 180822 15:33:30 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.31ms
[I 180822 15:33:30 web:2162] 101 GET /ws (127.0.0.1) 0.77ms
[I 180822 15:33:30 web:2162] 304 GET /message/message (127.0.0.1) 7.32ms
[I 180822 15:33:30 message_handler:93] 聊天室人数：2
[I 180822 15:33:30 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.20ms
[I 180822 15:33:30 web:2162] 101 GET /ws (127.0.0.1) 0.74ms
[I 180822 15:33:30 web:2162] 304 GET /message/message (127.0.0.1) 5.77ms
[I 180822 15:33:30 message_handler:93] 聊天室人数：0
[I 180822 15:33:31 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.11ms
[I 180822 15:33:31 web:2162] 101 GET /ws (127.0.0.1) 0.75ms
[I 180822 15:33:31 web:2162] 304 GET /message/message (127.0.0.1) 6.14ms
[I 180822 15:33:31 message_handler:93] 聊天室人数：0
[I 180822 15:33:31 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.29ms
[I 180822 15:33:31 web:2162] 101 GET /ws (127.0.0.1) 0.66ms
[I 180822 15:33:31 web:2162] 304 GET /message/message (127.0.0.1) 7.01ms
[I 180822 15:33:31 message_handler:93] 聊天室人数：0
[I 180822 15:33:31 web:2162] 101 GET /ws (127.0.0.1) 0.86ms
[I 180822 15:33:31 web:2162] 304 GET /message/message (127.0.0.1) 8.00ms
[I 180822 15:33:31 message_handler:93] 聊天室人数：2
[I 180822 15:33:31 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.76ms
[I 180822 15:33:31 web:2162] 101 GET /ws (127.0.0.1) 1.05ms
[I 180822 15:33:32 web:2162] 304 GET /message/message (127.0.0.1) 6.12ms
[I 180822 15:33:32 message_handler:93] 聊天室人数：0
[I 180822 15:33:32 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.33ms
[I 180822 15:33:32 web:2162] 101 GET /ws (127.0.0.1) 0.80ms
[I 180822 15:33:36 web:2162] 200 GET /message/message (127.0.0.1) 9.24ms
[I 180822 15:33:36 message_handler:93] 聊天室人数：2
[I 180822 15:33:36 web:2162] 101 GET /ws (127.0.0.1) 0.76ms
[I 180822 15:33:36 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.61ms
[I 180822 15:33:38 web:2162] 304 GET /message/message (127.0.0.1) 9.11ms
[I 180822 15:33:38 message_handler:93] 聊天室人数：0
[I 180822 15:33:38 web:2162] 101 GET /ws (127.0.0.1) 0.50ms
[I 180822 15:33:38 web:2162] 200 GET /favicon.ico (127.0.0.1) 3.03ms
[I 180822 15:33:40 web:2162] 200 GET /message/message (127.0.0.1) 6.66ms
[I 180822 15:33:40 message_handler:93] 聊天室人数：2
[I 180822 15:33:40 web:2162] 101 GET /ws (127.0.0.1) 1.62ms
[I 180822 15:33:40 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.03ms
[I 180822 15:33:41 web:2162] 200 GET /message/message (127.0.0.1) 6.24ms
[I 180822 15:33:41 message_handler:93] 聊天室人数：0
[I 180822 15:33:41 web:2162] 101 GET /ws (127.0.0.1) 0.86ms
[I 180822 15:33:41 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.10ms
[I 180822 15:33:43 web:2162] 200 GET /message/message (127.0.0.1) 5.70ms
[I 180822 15:33:43 message_handler:93] 聊天室人数：2
[I 180822 15:33:43 web:2162] 101 GET /ws (127.0.0.1) 1.05ms
[I 180822 15:33:43 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.89ms
[I 180822 15:33:43 web:2162] 200 GET /message/message (127.0.0.1) 7.45ms
[I 180822 15:33:43 message_handler:93] 聊天室人数：0
[I 180822 15:33:43 web:2162] 101 GET /ws (127.0.0.1) 1.03ms
[I 180822 15:33:44 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.59ms
[I 180822 15:35:04 web:2162] 200 GET /message/message (127.0.0.1) 5.61ms
[I 180822 15:35:04 message_handler:93] 聊天室人数：2
[I 180822 15:35:04 web:2162] 101 GET /ws (127.0.0.1) 1.51ms
[I 180822 15:35:04 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.97ms
[I 180822 15:35:04 web:2162] 200 GET /message/message (127.0.0.1) 7.35ms
[I 180822 15:35:04 message_handler:93] 聊天室人数：2
[I 180822 15:35:05 web:2162] 101 GET /ws (127.0.0.1) 1.23ms
[I 180822 15:35:05 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.88ms
[I 180822 15:35:07 web:2162] 200 GET /message/message (127.0.0.1) 8.20ms
[I 180822 15:35:07 message_handler:93] 聊天室人数：1
[I 180822 15:35:07 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.36ms
[I 180822 15:35:07 web:2162] 101 GET /ws (127.0.0.1) 1.00ms
[I 180822 15:35:09 web:2162] 200 GET /message/message (127.0.0.1) 7.11ms
[I 180822 15:35:09 message_handler:93] 聊天室人数：0
[I 180822 15:35:09 web:2162] 101 GET /ws (127.0.0.1) 0.76ms
[I 180822 15:35:14 web:2162] 304 GET /message/message (127.0.0.1) 8.26ms
[I 180822 15:35:14 message_handler:93] 聊天室人数：2
[I 180822 15:35:14 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.16ms
[I 180822 15:35:14 web:2162] 101 GET /ws (127.0.0.1) 0.92ms
[I 180822 15:35:16 web:2162] 200 GET /message/message (127.0.0.1) 6.80ms
[I 180822 15:35:16 message_handler:93] 聊天室人数：0
[I 180822 15:35:16 web:2162] 101 GET /ws (127.0.0.1) 1.00ms
[I 180822 15:35:16 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.24ms
[I 180822 15:35:16 web:2162] 200 GET /message/message (127.0.0.1) 5.99ms
[I 180822 15:35:16 message_handler:93] 聊天室人数：0
[I 180822 15:35:16 web:2162] 101 GET /ws (127.0.0.1) 1.31ms
[I 180822 15:35:16 web:2162] 200 GET /message/message (127.0.0.1) 6.72ms
[I 180822 15:35:16 message_handler:93] 聊天室人数：2
[I 180822 15:35:16 web:2162] 101 GET /ws (127.0.0.1) 0.86ms
[I 180822 15:35:16 web:2162] 200 GET /message/message (127.0.0.1) 9.04ms
[I 180822 15:35:16 message_handler:93] 聊天室人数：0
[I 180822 15:35:17 web:2162] 101 GET /ws (127.0.0.1) 1.08ms
[I 180822 15:35:17 web:2162] 200 GET /favicon.ico (127.0.0.1) 3.70ms
[I 180822 15:35:19 web:2162] 200 GET /message/message (127.0.0.1) 6.02ms
[I 180822 15:35:19 message_handler:93] 聊天室人数：2
[I 180822 15:35:19 web:2162] 101 GET /ws (127.0.0.1) 0.88ms
[I 180822 15:35:19 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.67ms
[I 180822 15:36:31 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 15:36:31 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 15:36:35 web:2162] 101 GET /ws (127.0.0.1) 1.38ms
[I 180822 15:36:35 web:2162] 101 GET /ws (127.0.0.1) 1.78ms
[I 180822 15:36:35 web:2162] 101 GET /ws (127.0.0.1) 0.50ms
[I 180822 15:37:00 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 15:37:00 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/message/message_handler.py modified; restarting server
[I 180822 15:37:04 web:2162] 101 GET /ws (127.0.0.1) 0.85ms
[I 180822 15:37:04 web:2162] 101 GET /ws (127.0.0.1) 0.52ms
[I 180822 15:37:04 web:2162] 101 GET /ws (127.0.0.1) 0.97ms
[I 180822 15:38:39 web:2162] 200 GET /message/message (127.0.0.1) 10.47ms
[I 180822 15:38:39 message_handler:95] 聊天室人数：0
[I 180822 15:38:39 web:2162] 101 GET /ws (127.0.0.1) 0.90ms
[I 180822 15:38:39 web:2162] 200 GET /favicon.ico (127.0.0.1) 6.44ms
[I 180822 15:38:42 web:2162] 200 GET /message/message (127.0.0.1) 6.90ms
[I 180822 15:38:42 message_handler:95] 聊天室人数：1
[I 180822 15:38:42 web:2162] 101 GET /ws (127.0.0.1) 0.81ms
[I 180822 15:38:44 web:2162] 200 GET /message/message (127.0.0.1) 9.28ms
[I 180822 15:38:44 message_handler:95] 聊天室人数：1
[I 180822 15:38:44 web:2162] 200 GET /favicon.ico (127.0.0.1) 8.27ms
[I 180822 15:38:44 web:2162] 101 GET /ws (127.0.0.1) 0.87ms
[I 180822 15:38:49 web:2162] 304 GET /message/message (127.0.0.1) 7.01ms
[I 180822 15:38:49 message_handler:95] 聊天室人数：0
[I 180822 15:38:49 web:2162] 101 GET /ws (127.0.0.1) 0.80ms
[I 180822 15:38:50 web:2162] 304 GET /message/message (127.0.0.1) 8.22ms
[I 180822 15:38:50 message_handler:95] 聊天室人数：0
[I 180822 15:38:50 web:2162] 101 GET /ws (127.0.0.1) 1.11ms
[I 180822 15:38:50 web:2162] 304 GET /message/message (127.0.0.1) 7.17ms
[I 180822 15:38:50 message_handler:95] 聊天室人数：0
[I 180822 15:38:51 web:2162] 101 GET /ws (127.0.0.1) 0.55ms
[I 180822 15:38:51 web:2162] 304 GET /message/message (127.0.0.1) 8.80ms
[I 180822 15:38:51 message_handler:95] 聊天室人数：0
[I 180822 15:38:51 web:2162] 101 GET /ws (127.0.0.1) 0.75ms
[I 180822 15:38:51 web:2162] 304 GET /message/message (127.0.0.1) 7.72ms
[I 180822 15:38:51 message_handler:95] 聊天室人数：0
[I 180822 15:38:51 web:2162] 101 GET /ws (127.0.0.1) 0.46ms
[I 180822 15:38:51 web:2162] 304 GET /message/message (127.0.0.1) 8.35ms
[I 180822 15:38:51 message_handler:95] 聊天室人数：2
[I 180822 15:38:51 web:2162] 101 GET /ws (127.0.0.1) 0.60ms
[I 180822 15:38:55 web:2162] 304 GET /message/message (127.0.0.1) 8.88ms
[I 180822 15:38:55 message_handler:95] 聊天室人数：1
[I 180822 15:38:55 web:2162] 101 GET /ws (127.0.0.1) 1.72ms
[I 180822 15:38:55 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.42ms
[I 180822 15:38:57 web:2162] 304 GET /message/message (127.0.0.1) 7.31ms
[I 180822 15:38:57 message_handler:95] 聊天室人数：1
[I 180822 15:38:57 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.44ms
[I 180822 15:38:57 web:2162] 101 GET /ws (127.0.0.1) 0.68ms
[I 180822 15:40:44 web:2162] 200 GET /message/message (127.0.0.1) 5.83ms
[I 180822 15:40:44 message_handler:95] 聊天室人数：1
[I 180822 15:40:44 web:2162] 101 GET /ws (127.0.0.1) 1.26ms
[I 180822 15:40:44 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.76ms
[I 180822 15:40:45 web:2162] 200 GET /message/message (127.0.0.1) 6.29ms
[I 180822 15:40:45 message_handler:95] 聊天室人数：1
[I 180822 15:40:45 web:2162] 101 GET /ws (127.0.0.1) 1.80ms
[I 180822 15:40:45 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.73ms
[I 180822 15:40:45 web:2162] 200 GET /message/message (127.0.0.1) 6.29ms
[I 180822 15:40:45 message_handler:95] 聊天室人数：1
[I 180822 15:40:45 web:2162] 101 GET /ws (127.0.0.1) 1.15ms
[I 180822 15:40:46 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.32ms
[I 180822 15:40:50 web:2162] 200 GET /message/message (127.0.0.1) 8.48ms
[I 180822 15:40:50 message_handler:95] 聊天室人数：0
[I 180822 15:40:50 web:2162] 101 GET /ws (127.0.0.1) 0.85ms
[I 180822 15:40:51 web:2162] 200 GET /message/message (127.0.0.1) 7.03ms
[I 180822 15:40:51 message_handler:95] 聊天室人数：1
[I 180822 15:40:51 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.47ms
[I 180822 15:40:51 web:2162] 101 GET /ws (127.0.0.1) 0.57ms
[I 180822 15:40:53 web:2162] 304 GET /message/message (127.0.0.1) 7.98ms
[I 180822 15:40:53 message_handler:95] 聊天室人数：1
[I 180822 15:40:53 web:2162] 101 GET /ws (127.0.0.1) 1.02ms
[I 180822 15:40:53 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.32ms
[I 180822 15:40:53 web:2162] 304 GET /message/message (127.0.0.1) 7.80ms
[I 180822 15:40:53 message_handler:95] 聊天室人数：1
[I 180822 15:40:53 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.62ms
[I 180822 15:40:53 web:2162] 101 GET /ws (127.0.0.1) 0.74ms
[I 180822 15:41:32 web:2162] 200 GET /message/message (127.0.0.1) 7.13ms
[I 180822 15:41:32 message_handler:95] 聊天室人数：0
[I 180822 15:41:32 web:2162] 101 GET /ws (127.0.0.1) 1.15ms
[I 180822 15:41:32 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.97ms
[I 180822 15:41:32 web:2162] 200 GET /message/message (127.0.0.1) 7.50ms
[I 180822 15:41:32 message_handler:95] 聊天室人数：0
[I 180822 15:41:32 web:2162] 101 GET /ws (127.0.0.1) 1.08ms
[I 180822 15:41:33 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.83ms
[I 180822 15:41:35 web:2162] 200 GET /message/message (127.0.0.1) 6.07ms
[I 180822 15:41:35 message_handler:95] 聊天室人数：2
[I 180822 15:41:35 web:2162] 101 GET /ws (127.0.0.1) 0.79ms
[I 180822 15:41:36 web:2162] 200 GET /message/message (127.0.0.1) 6.31ms
[I 180822 15:41:36 message_handler:95] 聊天室人数：1
[I 180822 15:41:36 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.63ms
[I 180822 15:41:36 web:2162] 101 GET /ws (127.0.0.1) 0.82ms
[I 180822 15:41:39 web:2162] 304 GET /message/message (127.0.0.1) 6.83ms
[I 180822 15:41:39 message_handler:95] 聊天室人数：0
[I 180822 15:41:39 web:2162] 101 GET /ws (127.0.0.1) 0.73ms
[I 180822 15:41:40 web:2162] 304 GET /message/message (127.0.0.1) 7.86ms
[I 180822 15:41:40 message_handler:95] 聊天室人数：0
[I 180822 15:41:40 web:2162] 101 GET /ws (127.0.0.1) 0.81ms
[I 180822 15:41:40 web:2162] 304 GET /message/message (127.0.0.1) 7.62ms
[I 180822 15:41:40 message_handler:95] 聊天室人数：2
[I 180822 15:41:40 web:2162] 101 GET /ws (127.0.0.1) 0.67ms
[I 180822 15:41:40 web:2162] 304 GET /message/message (127.0.0.1) 6.10ms
[I 180822 15:41:40 message_handler:95] 聊天室人数：0
[I 180822 15:41:40 web:2162] 101 GET /ws (127.0.0.1) 0.46ms
[I 180822 15:41:40 web:2162] 304 GET /message/message (127.0.0.1) 8.44ms
[I 180822 15:41:40 message_handler:95] 聊天室人数：2
[I 180822 15:41:41 web:2162] 101 GET /ws (127.0.0.1) 0.73ms
[I 180822 15:41:41 web:2162] 304 GET /message/message (127.0.0.1) 8.27ms
[I 180822 15:41:41 message_handler:95] 聊天室人数：0
[I 180822 15:41:41 web:2162] 101 GET /ws (127.0.0.1) 0.49ms
[I 180822 15:41:41 web:2162] 304 GET /message/message (127.0.0.1) 8.36ms
[I 180822 15:41:41 message_handler:95] 聊天室人数：2
[I 180822 15:41:41 web:2162] 101 GET /ws (127.0.0.1) 1.62ms
[I 180822 15:41:41 web:2162] 304 GET /message/message (127.0.0.1) 8.26ms
[I 180822 15:41:41 message_handler:95] 聊天室人数：0
[I 180822 15:41:41 web:2162] 101 GET /ws (127.0.0.1) 0.85ms
[I 180822 15:41:41 web:2162] 304 GET /message/message (127.0.0.1) 7.28ms
[I 180822 15:41:41 message_handler:95] 聊天室人数：2
[I 180822 15:41:41 web:2162] 101 GET /ws (127.0.0.1) 0.80ms
[I 180822 15:41:41 web:2162] 304 GET /message/message (127.0.0.1) 7.20ms
[I 180822 15:41:41 message_handler:95] 聊天室人数：0
[I 180822 15:41:42 web:2162] 101 GET /ws (127.0.0.1) 0.53ms
[I 180822 15:41:42 web:2162] 304 GET /message/message (127.0.0.1) 8.81ms
[I 180822 15:41:42 message_handler:95] 聊天室人数：0
[I 180822 15:41:42 web:2162] 101 GET /ws (127.0.0.1) 0.76ms
[I 180822 15:41:42 web:2162] 304 GET /message/message (127.0.0.1) 8.45ms
[I 180822 15:41:42 message_handler:95] 聊天室人数：2
[I 180822 15:41:42 web:2162] 101 GET /ws (127.0.0.1) 1.16ms
[I 180822 15:42:20 web:2162] 200 GET /message/message (127.0.0.1) 6.77ms
[I 180822 15:42:20 message_handler:95] 聊天室人数：1
[I 180822 15:42:20 web:2162] 101 GET /ws (127.0.0.1) 1.87ms
[I 180822 15:42:29 web:2162] 200 GET /message/message (127.0.0.1) 7.24ms
[I 180822 15:42:29 message_handler:95] 聊天室人数：1
[I 180822 15:42:29 web:2162] 101 GET /ws (127.0.0.1) 0.88ms
[I 180822 15:42:33 web:2162] 200 GET /message/message (127.0.0.1) 7.12ms
[I 180822 15:42:33 message_handler:95] 聊天室人数：0
[I 180822 15:42:34 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.18ms
[I 180822 15:42:34 web:2162] 101 GET /ws (127.0.0.1) 2.22ms
[I 180822 15:42:35 web:2162] 200 GET /message/message (127.0.0.1) 7.70ms
[I 180822 15:42:35 message_handler:95] 聊天室人数：2
[I 180822 15:42:35 web:2162] 101 GET /ws (127.0.0.1) 0.70ms
[I 180822 15:42:36 web:2162] 304 GET /message/message (127.0.0.1) 5.99ms
[I 180822 15:42:36 message_handler:95] 聊天室人数：0
[I 180822 15:42:36 web:2162] 101 GET /ws (127.0.0.1) 0.62ms
[I 180822 15:42:36 web:2162] 304 GET /message/message (127.0.0.1) 8.22ms
[I 180822 15:42:36 message_handler:95] 聊天室人数：0
[I 180822 15:42:36 web:2162] 101 GET /ws (127.0.0.1) 0.79ms
[I 180822 15:42:36 web:2162] 304 GET /message/message (127.0.0.1) 7.37ms
[I 180822 15:42:36 message_handler:95] 聊天室人数：0
[I 180822 15:42:36 web:2162] 101 GET /ws (127.0.0.1) 0.48ms
[I 180822 15:42:36 web:2162] 304 GET /message/message (127.0.0.1) 8.59ms
[I 180822 15:42:36 message_handler:95] 聊天室人数：2
[I 180822 15:42:36 web:2162] 101 GET /ws (127.0.0.1) 0.77ms
[I 180822 15:42:37 web:2162] 304 GET /message/message (127.0.0.1) 6.76ms
[I 180822 15:42:37 message_handler:95] 聊天室人数：2
[I 180822 15:42:37 web:2162] 101 GET /ws (127.0.0.1) 0.75ms
[I 180822 15:42:37 web:2162] 304 GET /message/message (127.0.0.1) 8.15ms
[I 180822 15:42:37 message_handler:95] 聊天室人数：0
[I 180822 15:42:37 web:2162] 101 GET /ws (127.0.0.1) 0.82ms
[I 180822 15:42:37 web:2162] 304 GET /message/message (127.0.0.1) 6.40ms
[I 180822 15:42:37 message_handler:95] 聊天室人数：2
[I 180822 15:42:37 web:2162] 101 GET /ws (127.0.0.1) 0.80ms
[I 180822 15:42:37 web:2162] 304 GET /message/message (127.0.0.1) 6.83ms
[I 180822 15:42:37 message_handler:95] 聊天室人数：0
[I 180822 15:42:37 web:2162] 101 GET /ws (127.0.0.1) 0.61ms
[I 180822 15:42:37 web:2162] 304 GET /message/message (127.0.0.1) 8.04ms
[I 180822 15:42:37 message_handler:95] 聊天室人数：0
[I 180822 15:42:37 web:2162] 101 GET /ws (127.0.0.1) 0.82ms
[I 180822 15:42:38 web:2162] 304 GET /message/message (127.0.0.1) 7.10ms
[I 180822 15:42:38 message_handler:95] 聊天室人数：2
[I 180822 15:42:38 web:2162] 101 GET /ws (127.0.0.1) 0.47ms
[I 180822 15:42:38 web:2162] 304 GET /message/message (127.0.0.1) 6.18ms
[I 180822 15:42:38 message_handler:95] 聊天室人数：0
[I 180822 15:42:38 web:2162] 101 GET /ws (127.0.0.1) 0.46ms
[I 180822 15:42:38 web:2162] 304 GET /message/message (127.0.0.1) 6.34ms
[I 180822 15:42:38 message_handler:95] 聊天室人数：2
[I 180822 15:42:38 web:2162] 101 GET /ws (127.0.0.1) 1.15ms
[I 180822 15:42:39 web:2162] 304 GET /message/message (127.0.0.1) 7.73ms
[I 180822 15:42:39 message_handler:95] 聊天室人数：0
[I 180822 15:42:40 web:2162] 101 GET /ws (127.0.0.1) 0.81ms
[I 180822 15:42:41 web:2162] 304 GET /message/message (127.0.0.1) 7.26ms
[I 180822 15:42:41 message_handler:95] 聊天室人数：0
[I 180822 15:42:41 web:2162] 101 GET /ws (127.0.0.1) 0.75ms
[I 180822 15:42:44 message_handler:87] 聊天室人数：3
[I 180822 15:42:53 web:2162] 200 GET /message/message (127.0.0.1) 6.81ms
[I 180822 15:42:53 message_handler:95] 聊天室人数：2
[I 180822 15:42:54 web:2162] 101 GET /ws (127.0.0.1) 1.10ms
[I 180822 15:42:56 message_handler:87] 聊天室人数：1
[I 180822 15:42:59 web:2162] 200 GET /message/message (127.0.0.1) 7.77ms
[I 180822 15:42:59 message_handler:95] 聊天室人数：0
[I 180822 15:42:59 web:2162] 101 GET /ws (127.0.0.1) 1.09ms
[I 180822 15:43:00 web:2162] 200 GET /message/message (127.0.0.1) 8.03ms
[I 180822 15:43:00 message_handler:95] 聊天室人数：0
[I 180822 15:43:00 web:2162] 101 GET /ws (127.0.0.1) 0.99ms
[I 180822 15:44:19 web:2162] 200 GET /message/message (127.0.0.1) 7.46ms
[I 180822 15:44:19 message_handler:95] 聊天室人数：2
[I 180822 15:44:19 web:2162] 101 GET /ws (127.0.0.1) 1.09ms
[I 180822 15:44:20 web:2162] 200 GET /message/message (127.0.0.1) 7.93ms
[I 180822 15:44:20 message_handler:95] 聊天室人数：2
[I 180822 15:44:20 web:2162] 101 GET /ws (127.0.0.1) 0.86ms
[I 180822 15:44:21 web:2162] 200 GET /message/message (127.0.0.1) 7.30ms
[I 180822 15:44:21 message_handler:95] 聊天室人数：2
[I 180822 15:44:21 web:2162] 101 GET /ws (127.0.0.1) 2.52ms
[I 180822 15:44:24 message_handler:87] 聊天室人数：1
[I 180822 15:44:34 web:2162] 200 GET /message/message (127.0.0.1) 6.54ms
[I 180822 15:44:34 message_handler:95] 聊天室人数：1
[I 180822 15:44:34 web:2162] 101 GET /ws (127.0.0.1) 0.82ms
[I 180822 15:44:36 web:2162] 200 GET /message/message (127.0.0.1) 7.25ms
[I 180822 15:44:36 message_handler:95] 聊天室人数：1
[I 180822 15:44:36 web:2162] 200 GET /favicon.ico (127.0.0.1) 1.33ms
[I 180822 15:44:37 web:2162] 101 GET /ws (127.0.0.1) 1.13ms
[I 180822 15:45:51 web:2162] 302 GET /message/message (127.0.0.1) 3.23ms
[I 180822 15:45:51 web:2162] 200 GET /login?next=%2Fmessage%2Fmessage (127.0.0.1) 18.73ms
[I 180822 15:45:51 message_handler:95] 聊天室人数：0
[I 180822 15:45:55 web:2162] 302 POST /login?next=%2Fmessage%2Fmessage (127.0.0.1) 6.89ms
[I 180822 15:45:55 web:2162] 200 GET /message/message (127.0.0.1) 6.19ms
[I 180822 15:45:55 web:2162] 101 GET /ws (127.0.0.1) 1.25ms
[I 180822 15:45:59 web:2162] 304 GET /message/message (127.0.0.1) 8.07ms
[I 180822 15:45:59 message_handler:95] 聊天室人数：0
[I 180822 15:45:59 web:2162] 101 GET /ws (127.0.0.1) 0.97ms
[I 180822 15:46:01 web:2162] 304 GET /message/message (127.0.0.1) 7.63ms
[I 180822 15:46:01 message_handler:95] 聊天室人数：0
[I 180822 15:46:01 web:2162] 101 GET /ws (127.0.0.1) 1.19ms
[I 180822 15:46:14 web:2162] 304 GET /message/message (127.0.0.1) 8.98ms
[I 180822 15:46:14 message_handler:95] 聊天室人数：2
[I 180822 15:46:14 web:2162] 101 GET /ws (127.0.0.1) 1.31ms
[I 180822 15:47:02 web:2162] 200 GET /message/message (127.0.0.1) 9.05ms
[I 180822 15:47:02 message_handler:95] 聊天室人数：1
[I 180822 15:47:03 web:2162] 101 GET /ws (127.0.0.1) 0.86ms
[I 180822 15:47:06 web:2162] 200 GET /message/message (127.0.0.1) 6.20ms
[I 180822 15:47:06 message_handler:95] 聊天室人数：1
[I 180822 15:47:06 web:2162] 101 GET /ws (127.0.0.1) 0.74ms
[I 180822 15:47:08 web:2162] 200 GET /message/message (127.0.0.1) 9.26ms
[I 180822 15:47:08 message_handler:95] 聊天室人数：0
[I 180822 15:47:08 web:2162] 200 GET /favicon.ico (127.0.0.1) 2.02ms
[I 180822 15:47:08 web:2162] 101 GET /ws (127.0.0.1) 0.47ms
[I 180822 15:47:12 message_handler:87] 聊天室人数：3
[I 180822 15:47:15 web:2162] 200 GET /message/message (127.0.0.1) 7.95ms
[I 180822 15:47:15 message_handler:95] 聊天室人数：2
[I 180822 15:47:15 web:2162] 101 GET /ws (127.0.0.1) 1.04ms
[I 180822 15:47:35 message_handler:95] 聊天室人数：2
[I 180822 15:47:39 message_handler:95] 聊天室人数：1
[I 180822 15:48:51 web:2162] 200 GET /message/message (127.0.0.1) 9.34ms
[I 180822 15:48:51 message_handler:95] 聊天室人数：0
[I 180822 15:48:52 web:2162] 101 GET /ws (127.0.0.1) 1.27ms
[I 180822 15:49:00 web:2162] 200 GET /message/message (127.0.0.1) 6.55ms
[I 180822 15:49:01 web:2162] 101 GET /ws (127.0.0.1) 1.75ms
[I 180822 15:49:15 web:2162] 304 GET /message/message (127.0.0.1) 7.41ms
[I 180822 15:49:15 message_handler:95] 聊天室人数：1
[I 180822 15:49:15 web:2162] 101 GET /ws (127.0.0.1) 0.69ms
[I 180822 15:49:15 web:2162] 200 GET /favicon.ico (127.0.0.1) 4.87ms
[I 180822 15:49:23 message_handler:95] 聊天室人数：1
[I 180822 15:50:03 web:2162] 200 GET /message/message (127.0.0.1) 9.40ms
[I 180822 15:50:03 message_handler:95] 聊天室人数：0
[I 180822 15:50:04 web:2162] 101 GET /ws (127.0.0.1) 0.81ms
[I 180822 16:17:21 message_handler:95] 聊天室人数：0
[I 180822 17:38:07 web:2162] 302 GET / (127.0.0.1) 7.57ms
[I 180822 17:38:07 web:2162] 200 GET /login?next=%2F (127.0.0.1) 17.92ms
[I 180822 17:38:11 web:2162] 302 POST /login?next=%2F (127.0.0.1) 5.45ms
[I 180822 17:38:11 web:2162] 200 GET / (127.0.0.1) 27.65ms
[I 180822 17:39:09 autoreload:199] app.py modified; restarting server
[I 180822 17:39:09 autoreload:199] app.py modified; restarting server
[I 180822 17:39:28 web:2162] 304 GET / (127.0.0.1) 26.26ms
[I 180822 17:39:32 web:2162] 200 GET /grab (127.0.0.1) 9.33ms
[I 180822 17:39:51 web:2162] 200 GET /grab (127.0.0.1) 8.56ms
[I 180822 17:39:51 web:2162] 200 GET /favicon.ico (127.0.0.1) 6.68ms
[I 180822 17:40:36 web:2162] 304 GET / (127.0.0.1) 17.30ms
[I 180822 17:40:38 web:2162] 304 GET /grab (127.0.0.1) 16.22ms
[W 180822 17:41:22 web:2162] 405 POST /grab (127.0.0.1) 4.06ms
[I 180822 17:41:56 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/grab_pictures/grab_handler.py modified; restarting server
[I 180822 17:41:56 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/grab_pictures/grab_handler.py modified; restarting server
[I 180822 17:42:00 web:2162] 200 GET /grab (127.0.0.1) 8.31ms
[I 180822 17:42:05 web:2162] 200 POST /grab (127.0.0.1) 2.10ms
[I 180822 17:42:31 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/grab_pictures/grab_handler.py modified; restarting server
[I 180822 17:42:31 autoreload:199] /Users/apple/PycharmProjects/work/todo/handlers/grab_pictures/grab_handler.py modified; restarting server
